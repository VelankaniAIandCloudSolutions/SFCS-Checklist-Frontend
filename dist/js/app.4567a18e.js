(function(){"use strict";var e={4515:function(e,t,s){var a=s(9242),i=s(3396);const l={key:0,id:"app"},o={key:1};function c(e,t,s,a,c,n){const r=(0,i.up)("LoginForm"),d=(0,i.up)("AdminLte"),u=(0,i.up)("notifications");return(0,i.wg)(),(0,i.iD)("div",null,[e.$store.state.user.isAuthenticated?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(d)])):((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(r)])),(0,i.Wm)(u,{position:"bottom right",classes:"alert"})])}const n=e=>((0,i.dD)("data-v-ce4b45bc"),e=e(),(0,i.Cn)(),e),r={class:"wrapper"},d={class:"main-header navbar navbar-expand navbar-white navbar-light"},u={class:"navbar-nav"},m=n((()=>(0,i._)("li",{class:"nav-item"},[(0,i._)("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[(0,i._)("i",{class:"fas fa-bars"})])],-1))),h={class:"nav-item"},p=n((()=>(0,i._)("i",{class:"fas fa-home"},null,-1))),b={class:"navbar-nav ml-auto"},f={class:"nav-item"},g=n((()=>(0,i._)("i",{class:"fas fa-sign-out-alt"},null,-1))),_=[g],k={class:"main-sidebar sidebar-dark-primary elevation-4"},v=n((()=>(0,i._)("a",{href:"/",class:"brand-link"},[(0,i._)("img",{src:"https://content.jdmagicbox.com/comp/bangalore/73/080ppe03673/catalogue/velankani-software-pvt-ltd-electronic-city-bangalore-computer-software-developers-2rgz2h5-250.jpg",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3",style:{opacity:"0.8"}}),(0,i._)("span",{class:"brand-text font-weight-light"},"Velankani SFCS")],-1))),y={class:"sidebar"},w={class:"mt-2"},S={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},C={class:"nav-item text-left"},I=n((()=>(0,i._)("a",{href:"#",class:"nav-link"},[(0,i._)("i",{class:"nav-icon fas fa-users"}),(0,i._)("p",null,[(0,i.Uk)(" Accounts "),(0,i._)("i",{class:"right fas fa-angle-left"})])],-1))),D={class:"nav nav-treeview"},x={class:"nav-item"},R=n((()=>(0,i._)("i",{class:"far fa-circle nav-icon"},null,-1))),U=n((()=>(0,i._)("p",null,"Users",-1))),L={class:"nav-item text-left"},P=n((()=>(0,i._)("a",{href:"#",class:"nav-link"},[(0,i._)("i",{class:"nav-icon fas fa-store"}),(0,i._)("p",null,[(0,i.Uk)(" Store "),(0,i._)("i",{class:"right fas fa-angle-left"})])],-1))),$={class:"nav nav-treeview"},O={class:"nav-item"},B=n((()=>(0,i._)("i",{class:"far fa-circle nav-icon"},null,-1))),T=n((()=>(0,i._)("p",null,"Dashboard",-1))),N={class:"nav-item"},M=n((()=>(0,i._)("i",{class:"far fa-circle nav-icon"},null,-1))),E=n((()=>(0,i._)("p",null,"Bill Of Materials",-1))),W={class:"nav-item"},A=n((()=>(0,i._)("i",{class:"far fa-circle nav-icon"},null,-1))),F=n((()=>(0,i._)("p",null,"Checklist",-1))),q={class:"nav-item"},z=n((()=>(0,i._)("i",{class:"far fa-circle nav-icon"},null,-1))),G=n((()=>(0,i._)("p",null,"Reports",-1))),Z={class:"content-wrapper"};function V(e,t,s,a,l,o){const c=(0,i.up)("router-link"),n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("nav",d,[(0,i._)("ul",u,[m,(0,i._)("li",h,[(0,i.Wm)(c,{to:"/",class:"nav-link"},{default:(0,i.w5)((()=>[p])),_:1})])]),(0,i._)("ul",b,[(0,i._)("li",f,[(0,i._)("a",{href:"#",class:"nav-link",onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},_)])])]),(0,i._)("aside",k,[v,(0,i._)("div",y,[(0,i._)("nav",w,[(0,i._)("ul",S,[(0,i._)("li",C,[I,(0,i._)("ul",D,[(0,i._)("li",x,[(0,i.Wm)(c,{to:"/users",class:"nav-link"},{default:(0,i.w5)((()=>[R,U])),_:1})])])]),(0,i._)("li",L,[P,(0,i._)("ul",$,[(0,i._)("li",O,[(0,i.Wm)(c,{to:"/dashboard",class:"nav-link"},{default:(0,i.w5)((()=>[B,T])),_:1})]),(0,i._)("li",N,[(0,i.Wm)(c,{to:"/bom",class:"nav-link"},{default:(0,i.w5)((()=>[M,E])),_:1})]),(0,i._)("li",W,[(0,i.Wm)(c,{to:"/checklist",class:"nav-link"},{default:(0,i.w5)((()=>[A,F])),_:1})]),(0,i._)("li",q,[(0,i.Wm)(c,{to:"/reports",class:"nav-link"},{default:(0,i.w5)((()=>[z,G])),_:1})])])])])])])]),(0,i._)("div",Z,[(0,i.Wm)(n)])])}var Q={methods:{logout(){this.$store.commit("removeToken"),window.location.href="/login"}}},H=s(89);const j=(0,H.Z)(Q,[["render",V],["__scopeId","data-v-ce4b45bc"]]);var Y=j;const K=e=>((0,i.dD)("data-v-075a6284"),e=e(),(0,i.Cn)(),e),J={class:"container"},X={class:"login"},ee=K((()=>(0,i._)("h1",null,"Velankani SFCS",-1))),te={class:"input-box"},se=K((()=>(0,i._)("i",{class:"fa fa-envelope"},null,-1))),ae={class:"input-box"},ie=K((()=>(0,i._)("i",{class:"fa fa-lock"},null,-1))),le=K((()=>(0,i._)("button",{type:"submit"},"Login",-1)));function oe(e,t,s,l,o,c){return(0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("div",X,[ee,(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>c.handleSubmit&&c.handleSubmit(...e)),["prevent"]))},[(0,i._)("div",te,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),type:"email",placeholder:"Email"},null,512),[[a.nr,o.email]]),se]),(0,i._)("div",ae,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),type:"password",placeholder:"Password"},null,512),[[a.nr,o.password]]),ie]),le],32)])])}s(560);var ce=s(1076),ne={data(){return{email:"",password:"",errors:[]}},methods:{async handleSubmit(){if(this.$store.commit("setIsLoading",!0),this.errors=[],""===this.email&&this.errors.push("The email is missing!"),""===this.password&&this.errors.push("The password is missing!"),this.errors.length)this.$store.commit("setIsLoading",!1);else{const e={email:this.email,password:this.password};await ce.Z.post("token/login/",e).then((e=>{this.$notify({title:"Login successful",type:"bg-success-subtle text-success",duration:5e3}),setTimeout((()=>{const t=e.data.auth_token;this.$store.commit("setToken",t),ce.Z.defaults.headers.common["Authorization"]="Token "+t,localStorage.setItem("token",t),console.log("Received Token:",t),window.location.href="/dashboard"}),1e3)})).catch((e=>{this.$notify({title:"Login failed. Please check your credentials.",type:"alert-danger",duration:5e3}),console.error("Login failed:",e.response.data),this.errors.push("Login failed. Please check your credentials.")})).finally((()=>{this.$store.commit("setIsLoading",!1)}))}}}};const re=(0,H.Z)(ne,[["render",oe],["__scopeId","data-v-075a6284"]]);var de=re,ue={name:"App",components:{LoginForm:de,AdminLte:Y},data(){return{isLoggedIn:!1}},computed:{activeRoute(){return this.$route.path}},methods:{}};const me=(0,H.Z)(ue,[["render",c]]);var he=me,pe=(s(8052),s(2483)),be=s(7139);const fe=e=>((0,i.dD)("data-v-9adea6d8"),e=e(),(0,i.Cn)(),e),ge={key:0,class:"container text-center"},_e=fe((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),ke=fe((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),ve=[_e,ke],ye={key:1,class:"container"},we={class:"row align-items-center"},Se={class:"d-flex align-items-center mt-4"},Ce=fe((()=>(0,i._)("h2",{class:"mb-0"},"Upload Bill Of Materials",-1))),Ie=fe((()=>(0,i._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),De={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},xe={class:"breadcrumb bg-transparent m-0 p-0"},Re=fe((()=>(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"/"},[(0,i._)("i",{class:"fas fa-home me-1"}),(0,i.Uk)("Home")])],-1))),Ue={class:"breadcrumb-item"},Le=fe((()=>(0,i._)("i",{class:"fas fa-clipboard-list me-1"},null,-1))),Pe=fe((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fas fa-upload me-1"}),(0,i.Uk)(" Upload the bom ")],-1))),$e={class:"card p-3 mb-4 mt-4"},Oe={class:"row mb-3"},Be={class:"col-md-6"},Te=fe((()=>(0,i._)("label",{for:"productName",class:"form-label"},"Product Name",-1))),Ne={class:"col-md-6"},Me=fe((()=>(0,i._)("label",{for:"productCode",class:"form-label"},"Product Code",-1))),Ee={class:"row mb-3"},We={class:"col-md-6"},Ae=fe((()=>(0,i._)("label",{for:"bomType",class:"form-label"},"BOM Type",-1))),Fe={class:"col-md-6"},qe=fe((()=>(0,i._)("label",{for:"bomRevNo",class:"form-label"},"BOM REV No",-1))),ze={class:"row mb-3"},Ge={class:"col-md-6"},Ze=fe((()=>(0,i._)("label",{for:"issueDate",class:"form-label"},"Issue Date",-1))),Ve={class:"col-md-6"},Qe=fe((()=>(0,i._)("label",{for:"productRevNo",class:"form-label"},"Product Rev No",-1))),He={class:"card p-3 mb-4"},je=fe((()=>(0,i._)("label",{for:"fileInput",class:"form-label"},[(0,i._)("i",{class:"fas fa-cloud-upload-alt mr-2"}),(0,i.Uk)(" Choose BOM Excel file ")],-1))),Ye={class:"custom-file"},Ke={class:"custom-file-label",for:"fileInput"},Je={class:"card p-3"};function Xe(e,t,s,l,o,c){const n=(0,i.up)("router-link");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",ge,ve)):((0,i.wg)(),(0,i.iD)("div",ye,[(0,i._)("div",we,[(0,i._)("div",Se,[Ce,Ie,(0,i._)("nav",De,[(0,i._)("ol",xe,[Re,(0,i._)("li",Ue,[(0,i.Wm)(n,{to:"/bom"},{default:(0,i.w5)((()=>[Le,(0,i.Uk)(" Bill Of Materials ")])),_:1})]),Pe])])])]),(0,i._)("section",$e,[(0,i._)("div",Oe,[(0,i._)("div",Be,[Te,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"productName","onUpdate:modelValue":t[0]||(t[0]=e=>o.productName=e),required:""},null,512),[[a.nr,o.productName]])]),(0,i._)("div",Ne,[Me,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"productCode","onUpdate:modelValue":t[1]||(t[1]=e=>o.productCode=e),required:""},null,512),[[a.nr,o.productCode]])])]),(0,i._)("div",Ee,[(0,i._)("div",We,[Ae,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"bomType","onUpdate:modelValue":t[2]||(t[2]=e=>o.bomType=e),required:""},null,512),[[a.nr,o.bomType]])]),(0,i._)("div",Fe,[qe,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"bomRevNo","onUpdate:modelValue":t[3]||(t[3]=e=>o.bomRevNo=e),required:""},null,512),[[a.nr,o.bomRevNo]])])]),(0,i._)("div",ze,[(0,i._)("div",Ge,[Ze,(0,i.wy)((0,i._)("input",{type:"date",class:"form-control",id:"issueDate","onUpdate:modelValue":t[4]||(t[4]=e=>o.issueDate=e),required:""},null,512),[[a.nr,o.issueDate]])]),(0,i._)("div",Ve,[Qe,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"productRevNo","onUpdate:modelValue":t[5]||(t[5]=e=>o.productRevNo=e),required:""},null,512),[[a.nr,o.productRevNo]])])])]),(0,i._)("div",He,[je,(0,i._)("div",Ye,[(0,i._)("input",{type:"file",class:"custom-file-input",id:"fileInput",onChange:t[6]||(t[6]=(...e)=>c.handleFileUpload&&c.handleFileUpload(...e)),accept:".xls, .xlsx",required:""},null,32),(0,i._)("label",Ke,(0,be.zw)(o.uploadedFileName||"Select file"),1)])]),(0,i._)("div",Je,[(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>c.submitForm&&c.submitForm(...e))}," Upload BOM ")])]))}var et={data(){return{productName:"",productCode:"",bomType:"",bomRevNo:"",issueDate:"",productRevNo:"",uploadedFileName:null,uploadedFile:null}},methods:{async submitForm(){this.$store.commit("setIsLoading",!0);const e=new FormData;e.append("product_name",this.productName),e.append("product_code",this.productCode),e.append("product_rev_no",this.productRevNo),e.append("bom_type",this.bomType),e.append("bom_rev_no",this.bomRevNo),e.append("issue_date",this.issueDate),e.append("bom_file",this.uploadedFile),await ce.Z.post("store/upload-bom/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data);const t=e.data.task_id;"IN PROGRESS"===e.data.task_status||"PENDING"===e.data.task_status?setTimeout((()=>{this.checkTaskStatus(t)}),1e4):"SUCCESS"===e.data.task_status?(this.$store.commit("setIsLoading",!1),this.$notify({title:"BOM Uploaded Successfully",type:"bg-success-subtle text-success",duration:"5000"}),this.$router.push("/bom")):(this.$notify({title:"BOM Upload Failed",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1))})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))},async checkTaskStatus(e){try{const t=await ce.Z.get(`store/check-task-status/${e}/`);"IN PROGRESS"===t.data.task_status||"PENDING"===t.data.task_status?setTimeout((()=>{this.checkTaskStatus(e)}),5e3):"SUCCESS"===t.data.task_status?(this.$notify({title:"BOM Uploaded Successfully",type:"bg-success-subtle text-success",duration:"5000"}),this.$router.push("/bom"),this.$store.commit("setIsLoading",!1)):(this.$notify({title:"BOM Upload Failed",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1))}catch(t){console.log("error:",t),this.$notify({title:"An error occurred, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}},handleFileUpload(e){const t=e.target.files[0];t&&(console.log("Uploaded file:",t),this.uploadedFileName=t.name,this.uploadedFile=t)}}};const tt=(0,H.Z)(et,[["render",Xe],["__scopeId","data-v-9adea6d8"]]);var st=tt;const at={key:0,class:"container text-center"},it=(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),lt=(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1),ot=[it,lt],ct={key:1,class:"container"},nt={class:"row align-items-center"},rt=(0,i.uE)('<div class="col-md-6 mt-4"><div class="d-flex align-items-center"><h2 class="mb-0">Bill Of Materials</h2><span class="ms-3 fs-4 text-muted">|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3"><ol class="breadcrumb bg-transparent m-0 p-0"><li class="breadcrumb-item"><a href="/"><i class="fas fa-home me-1"></i>Home</a></li><li class="breadcrumb-item active" aria-current="page"><i class="fas fa-clipboard-list me-1"></i> Bill Of Materials </li></ol></nav></div></div>',1),dt={class:"col-md-6 d-flex justify-content-end mt-4"};function ut(e,t,s,a,l,o){const c=(0,i.up)("router-link"),n=(0,i.up)("BomDetailsTable");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",at,ot)):((0,i.wg)(),(0,i.iD)("div",ct,[(0,i._)("div",nt,[rt,(0,i._)("div",dt,[(0,i.Wm)(c,{to:"/bom/upload",class:"btn btn-primary btn-sm ms-2"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Upload BOM ")])),_:1})])]),(0,i.Wm)(n,{style:{"margin-top":"20px"},boms:l.boms,onRowClicked:o.handleRowClicked,onRowSelected:o.handleRowSelected},null,8,["boms","onRowClicked","onRowSelected"])]))}function mt(e,t,s,a,l,o){const c=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)("div",null,[s.boms.length>0?((0,i.wg)(),(0,i.j4)(c,{key:0,style:{height:"500px"},class:"ag-theme-quartz",rowData:s.boms,defaultColDef:l.defaultColDef,columnDefs:l.colDefs,pagination:!0,onRowClicked:o.onRowClicked,onRowSelected:o.onRowSelected},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onRowSelected"])):(0,i.kq)("",!0)])}var ht=s(6732),pt={name:"BombDetailsTable",components:{AgGridVue:ht.n},props:{boms:{type:Array,required:!0}},data(){return{colDefs:[{field:"id",hide:!0},{field:"product.name",headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"Product Name"},{field:"product.product_code",headerName:"Product Code"},{field:"bom_type.name",headerName:"BOM Type"},{field:"bom_rev_number",headerName:"BOM Rev No"},{field:"issue_date",headerName:"Issue Date"},{field:"product.product_rev_number",headerName:"Product Rev No"},{headerName:"Actions",cellRenderer:this.editButtonRenderer}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},methods:{onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data)},onSelectionChanged(){this.$refs.agGrid&&this.$refs.agGrid.api&&(this.selectedRows=this.$refs.agGrid.api.getSelectedRows())},editButtonRenderer(e){const t=document.createElement("button");return t.innerHTML='<i class="fas fa-edit"></i>',t.classList.add("btn","btn-primary"),t.addEventListener("click",(()=>this.onEditClick(e.data.id))),t},onEditClick(e){this.$router.push(`/bom/edit/${e}`)}}};const bt=(0,H.Z)(pt,[["render",mt],["__scopeId","data-v-570bab80"]]);var ft=bt,gt={components:{BomDetailsTable:ft},data(){return{boms:[]}},methods:{async fetchData(){try{this.$store.commit("setIsLoading",!0);const e=await ce.Z.get("store/get-boms/");console.log("response.data",e.data),this.boms=e.data.boms,console.log("boms",this.boms),this.$store.commit("setIsLoading",!1)}catch(e){console.error("Error fetching BOM data:",e),this.$store.commit("setIsLoading",!1)}},handleRowClicked(e){console.log("Clicked Row:",e)},handleRowSelected(e){console.log("Row Selected:",e),this.selectedRow=e}},mounted(){this.fetchData()}};const _t=(0,H.Z)(gt,[["render",ut]]);var kt=_t;const vt=e=>((0,i.dD)("data-v-50a80435"),e=e(),(0,i.Cn)(),e),yt={key:0,class:"container text-center"},wt=vt((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),St=vt((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),Ct=[wt,St],It={key:1,class:"container mt-1"},Dt={class:"row align-items-center"},xt={class:"col-md-6"},Rt={class:"d-flex align-items-center"},Ut=vt((()=>(0,i._)("h2",{class:"mb-0"},"BOM Details",-1))),Lt=vt((()=>(0,i._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),Pt={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},$t={class:"breadcrumb bg-transparent m-0 p-0"},Ot=vt((()=>(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"#"},"Home")],-1))),Bt={class:"breadcrumb-item"},Tt=vt((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"}," Bom Details ",-1))),Nt={class:"card",style:{"margin-top":"20px"}},Mt={class:"card-body"},Et={class:"row"},Wt={class:"col-md-6"},At={class:"mb-3"},Ft=vt((()=>(0,i._)("label",{class:"fw-bold"},"Product Name:",-1))),qt={key:0},zt={class:"mb-3"},Gt=vt((()=>(0,i._)("label",{class:"fw-bold"},"BOM Type:",-1))),Zt={key:0},Vt={class:"mb-3"},Qt=vt((()=>(0,i._)("label",{class:"fw-bold"},"Issue Date:",-1))),Ht={key:0},jt={class:"col-md-6"},Yt={class:"mb-3"},Kt=vt((()=>(0,i._)("label",{class:"fw-bold"},"Product Code:",-1))),Jt={key:0},Xt={class:"mb-3"},es=vt((()=>(0,i._)("label",{class:"fw-bold"},"BOM Rev No:",-1))),ts={key:0},ss={class:"mb-3"},as=vt((()=>(0,i._)("label",{class:"fw-bold"},"Product Rev No:",-1))),is={key:0},ls=vt((()=>(0,i._)("div",{class:"mt-4"},null,-1)));function os(e,t,s,a,l,o){const c=(0,i.up)("router-link"),n=(0,i.up)("BomItemsTable");return(0,i.wg)(),(0,i.iD)("div",null,[e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",yt,Ct)):((0,i.wg)(),(0,i.iD)("div",It,[(0,i._)("div",Dt,[(0,i._)("div",xt,[(0,i._)("div",Rt,[Ut,Lt,(0,i._)("nav",Pt,[(0,i._)("ol",$t,[Ot,(0,i._)("li",Bt,[(0,i.Wm)(c,{to:"/bom"},{default:(0,i.w5)((()=>[(0,i.Uk)("Bill of Materials")])),_:1})]),Tt])])])])]),(0,i._)("div",Nt,[(0,i._)("div",Mt,[(0,i._)("div",Et,[(0,i._)("div",Wt,[(0,i._)("div",At,[Ft,l.bom.product?((0,i.wg)(),(0,i.iD)("div",qt,(0,be.zw)(l.bom.product.name),1)):(0,i.kq)("",!0)]),(0,i._)("div",zt,[Gt,l.bom.bom_type?((0,i.wg)(),(0,i.iD)("div",Zt,(0,be.zw)(l.bom.bom_type.name),1)):(0,i.kq)("",!0)]),(0,i._)("div",Vt,[Qt,l.bom.issue_date?((0,i.wg)(),(0,i.iD)("div",Ht,(0,be.zw)(l.bom.issue_date),1)):(0,i.kq)("",!0)])]),(0,i._)("div",jt,[(0,i._)("div",Yt,[Kt,l.bom.product?((0,i.wg)(),(0,i.iD)("div",Jt,(0,be.zw)(l.bom.product.product_code),1)):(0,i.kq)("",!0)]),(0,i._)("div",Xt,[es,l.bom.bom_rev_number?((0,i.wg)(),(0,i.iD)("div",ts,(0,be.zw)(l.bom.bom_rev_number),1)):(0,i.kq)("",!0)]),(0,i._)("div",ss,[as,l.bom.product?((0,i.wg)(),(0,i.iD)("div",is,(0,be.zw)(l.bom.product.product_rev_number),1)):(0,i.kq)("",!0)])])])])]),ls,(0,i.Wm)(n,{bom:l.bom.bom_line_items,onRowClicked:o.handleRowClicked,onRowSelected:o.handleRowSelected},null,8,["bom","onRowClicked","onRowSelected"])]))])}function cs(e,t,s,a,l,o){const c=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{style:{height:"500px"},class:"ag-theme-quartz",rowData:s.bom,defaultColDef:l.defaultColDef,columnDefs:l.colDefs,pagination:!0,onRowClicked:o.onRowClicked,onRowSelected:o.onRowSelected},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onRowSelected"])])}var ns={name:"BomItemDetails",components:{AgGridVue:ht.n},props:{bom:{type:Array,required:!0}},data(){return{colDefs:[{headerName:"ID",field:"id",hide:!0},{headerName:" Level",field:"level"},{headerName:"VEPL Part Number",field:"part_number"},{headerName:"Priority Level",field:"priority_level"},{headerName:"Value",field:"value"},{headerName:"PCB Footprint",field:"pcb_footprint"},{headerName:"Type",field:"line_item_type.name"},{headerName:"Description",field:"description"},{headerName:"Manufacturer Parts",valueGetter:function(e){const t=e.data.manufacturer_parts;if(t&&t.length>0){const e=t.map((e=>{const t=e.manufacturer;return t?`${e.part_number} - ${t.name}`:""}));return e.join(", ")}return""}},{headerName:"Customer Part Number",field:"customer_part_number"},{headerName:"Quantity",field:"quantity"},{headerName:"UOM",field:"uom"},{headerName:"Assembly Stage",field:"assembly_stage.name"},{headerName:"ECN",field:"ecn"},{headerName:"MSL",field:"msl"},{headerName:"Remarks",field:"remarks"}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},mounted(){},methods:{onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data)}}};const rs=(0,H.Z)(ns,[["render",cs]]);var ds=rs,us={components:{BomItemsTable:ds},data(){return{bom:""}},methods:{handleRowClicked(e){console.log("Row clicked:",e)},handleRowSelected(e){console.log("Row selected:",e)},async fetchData(){this.$store.commit("setIsLoading",!0),await ce.Z.get(`store/get-boms/${this.$route.params.id}/`).then((e=>{console.log(e.data),this.bom=e.data.bom,this.$store.commit("setIsLoading",!1)})).catch((e=>{console.error("Error fetching data:",e),this.$store.commit("setIsLoading",!1)}))}},mounted(){this.fetchData()}};const ms=(0,H.Z)(us,[["render",os],["__scopeId","data-v-50a80435"]]);var hs=ms;const ps={key:0,class:"container text-center"},bs=(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),fs=(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1),gs=[bs,fs],_s={key:1,class:"container"},ks={class:"row align-items-center"},vs=(0,i.uE)('<div class="col-md-6 mt-4"><div class="d-flex align-items-center"><h2 class="mb-0">Checklist</h2><span class="ms-3 fs-4 text-muted">|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3"><ol class="breadcrumb bg-transparent m-0 p-0"><li class="breadcrumb-item"><a href="/"><i class="fas fa-home me-1"></i>Home</a></li><li class="breadcrumb-item active" aria-current="page"><i class="fas fa-list-alt me-1"></i> Checklist </li></ol></nav></div></div>',1),ys={class:"col-md-6 mt-4 text-end"},ws={class:"container has-text-centered"},Ss={class:"d-flex"},Cs=["disabled"],Is=["disabled"],Ds=["disabled"],xs={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Rs={class:"modal-dialog"},Us={class:"modal-content"},Ls=(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}," Fill the Required Batch Quantity "),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ps={class:"modal-body"},$s={class:"modal-footer"},Os=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function Bs(e,t,s,l,o,c){const n=(0,i.up)("BomDetailsTableWithoutEdit");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",ps,gs)):((0,i.wg)(),(0,i.iD)("div",_s,[(0,i._)("div",ks,[vs,(0,i._)("div",ys,[(0,i._)("div",ws,[(0,i._)("div",Ss,[(0,i._)("button",{type:"button",disabled:!o.isButtonEnabled,class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Generate New Checklist ",8,Cs),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>c.checkExistingChecklist&&c.checkExistingChecklist(...e)),disabled:!o.isButtonEnabled,class:"btn btn-warning btn-sm ms-2"}," View Ongoing Checklist ",8,Is),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>c.viewGeneratedChecklists&&c.viewGeneratedChecklists(...e)),disabled:!o.isButtonEnabled,class:"btn btn-success btn-sm ms-2"}," View Generated Checklists ",8,Ds)])])])]),(0,i.Wm)(n,{style:{"margin-top":"20px"},rowData:o.rowData,onRowClicked:c.handleRowClicked,onRowSelected:c.handleRowSelected,onRowDeselected:c.handleRowDeselected},null,8,["rowData","onRowClicked","onRowSelected","onRowDeselected"]),(0,i._)("div",xs,[(0,i._)("div",Rs,[(0,i._)("div",Us,[Ls,(0,i._)("div",Ps,[(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",id:"requiredBatchQuantity","onUpdate:modelValue":t[2]||(t[2]=e=>o.batch_quantity=e),placeholder:"Enter Batch Quantity",min:"1"},null,512),[[a.nr,o.batch_quantity]])]),(0,i._)("div",$s,[Os,(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>c.checkAndGenerateChecklist&&c.checkAndGenerateChecklist(...e)),type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"}," Generate Checklist ")])])])])]))}function Ts(e,t,s,a,l,o){const c=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{style:{height:"500px"},class:"ag-theme-quartz",rowData:s.rowData,defaultColDef:l.defaultColDef,columnDefs:l.colDefs,pagination:!0,onRowClicked:o.onRowClicked,onSelectionChanged:o.onSelectionChanged},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onSelectionChanged"])])}var Ns={name:"App",components:{AgGridVue:ht.n},props:{rowData:{type:Array,required:!0}},data(){return{colDefs:[{field:"id",hide:!0},{field:"product.name",headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"Product Name"},{field:"product.product_code",headerName:"Product Code"},{field:"bom_type.name",headerName:"BOM Type"},{field:"bom_rev_number",headerName:"BOM Rev No"},{field:"issue_date",headerName:"Issue Date"},{field:"product.product_rev_number",headerName:"Product Rev No"}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},methods:{onRowClicked(e){this.$emit("rowClicked",e.data)},onSelectionChanged(e){const t=e.api.getSelectedRows(),s=t.length>0?t[0]:null;s?this.$emit("rowSelected",s):this.$emit("rowDeselected")},onEditClick(e){this.$router.push(`/bom/edit/${e}`)}}};const Ms=(0,H.Z)(Ns,[["render",Ts]]);var Es=Ms,Ws={components:{BomDetailsTableWithoutEdit:Es},data(){return{rowData:[],selectedRow:null,clickedRowId:null,isButtonEnabled:!1,isExisting:!1,isActive:!1,batch_quantity:1}},methods:{async fetchData(){try{this.$store.commit("setIsLoading",!0);const e=await ce.Z.get("store/get-boms/");this.rowData=e.data.boms,console.log(e.data.boms),this.$store.commit("setIsLoading",!1)}catch(e){console.error("Error fetching BOM data:",e),this.$store.commit("setIsLoading",!1)}},handleRowClicked(e){console.log("Clicked Row:",e)},handleRowSelected(e){console.log("Row Selected:",e),e&&e.id&&(this.selectedRow=e,this.clickedRowId=e.id,this.isButtonEnabled=!0)},handleRowDeselected(){console.log("Row Deselected:"),this.isButtonEnabled=!1},async checkAndGenerateChecklist(){this.$store.commit("setIsLoading",!0),await ce.Z.post(`store/check-existing-checklist/${this.clickedRowId}/`).then((e=>{console.log(e.data),this.isActive=e.data.is_active,this.isExisting=e.data.is_existing,this.isExisting?this.$notify({title:"There is already an active ongoing checklist for this bom, please end that checklist by viewing the ongoing checklist to generate a new one.",type:"bg-danger-subtle text-danger",duration:"5000"}):this.generateChecklist()})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})})).finally((()=>{this.$store.commit("setIsLoading",!1)}))},async generateChecklist(){this.$store.commit("setIsLoading",!0);const e={batch_quantity:this.batch_quantity};await ce.Z.post(`store/generate-new-checklist/${this.clickedRowId}/`,e).then((e=>{console.log(e.data),this.$router.push(`/begin-checklist/${this.clickedRowId}`)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})})).finally((()=>{this.$store.commit("setIsLoading",!1)}))},async checkExistingChecklist(){this.$store.commit("setIsLoading",!0),await ce.Z.post(`store/check-existing-checklist/${this.clickedRowId}/`).then((e=>{console.log(e.data),this.isActive=e.data.is_active,this.isExisting=e.data.is_existing,this.isExisting?this.isActive?this.$router.push(`/begin-checklist/${this.clickedRowId}`):this.$notify({title:"No active checklist found for this bom, please generate a new checklist",type:"bg-danger-subtle text-danger",duration:"5000"}):this.$notify({title:"No ongoing checklist found for this bom, please generate a new checklist",type:"bg-danger-subtle text-danger",duration:"5000"})})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})})).finally((()=>{this.$store.commit("setIsLoading",!1)}))},viewOngoingChecklists(){this.clickedRowId&&this.$router.push(`/begin-checklist/${this.clickedRowId}`)},viewGeneratedChecklists(){this.clickedRowId&&this.$router.push(`/generated-checklists/${this.clickedRowId}`)}},mounted(){this.fetchData()}};const As=(0,H.Z)(Ws,[["render",Bs]]);var Fs=As;const qs=e=>((0,i.dD)("data-v-6c339e70"),e=e(),(0,i.Cn)(),e),zs={key:0,class:"container text-center"},Gs=qs((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),Zs=qs((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),Vs=[Gs,Zs],Qs={key:1,class:"container"},Hs={class:"row align-items-center"},js={class:"col-md-6 mt-4"},Ys={class:"d-flex align-items-center"},Ks=qs((()=>(0,i._)("h2",{class:"mb-0"},"Checklist",-1))),Js=qs((()=>(0,i._)("span",{class:"ms-3 fs-4 text-muted me-3"},"|",-1))),Xs={"aria-label":"breadcrumb"},ea={class:"breadcrumb bg-transparent m-0 p-0 justify-content-end"},ta=qs((()=>(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"/"},[(0,i._)("i",{class:"fas fa-home me-1"}),(0,i.Uk)("Home")])],-1))),sa={class:"breadcrumb-item active","aria-current":"page"},aa=qs((()=>(0,i._)("i",{class:"fas fa-list-alt me-1"},null,-1))),ia=qs((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fas fa-spinner me-1"}),(0,i.Uk)(" Ongoing Checklist ")],-1))),la={class:"col-md-6 mt-4 d-flex justify-content-end"},oa={class:"container"},ca={class:"d-flex justify-content-end"},na={key:0,type:"button","data-bs-toggle":"modal","data-bs-target":"#generateLabelModal",class:"btn btn-success me-2"},ra={key:1,type:"button","data-bs-toggle":"modal","data-bs-target":"#generateLabelModal",class:"btn btn-success me-2"},da=qs((()=>(0,i._)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#endChecklistModal",class:"btn btn-danger"}," End Checklist ",-1))),ua={class:"modal fade",id:"generateLabelModal",tabindex:"-1","aria-labelledby":"generateLabelModalLabel","aria-hidden":"true"},ma={class:"modal-dialog"},ha={class:"modal-content"},pa=qs((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title fs-5",id:"generateLabelModalLabel"}," Generate Label "),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ba={class:"modal-body"},fa={key:0},ga={key:0,id:"printable-content"},_a=["src"],ka={key:1},va={key:1},ya={class:"modal-footer"},wa=qs((()=>(0,i._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," Cancel ",-1))),Sa={key:0},Ca={class:"modal fade",id:"endChecklistModal",tabindex:"-1","aria-labelledby":"endChecklistModalLabel","aria-hidden":"true"},Ia={class:"modal-dialog"},Da={class:"modal-content"},xa=qs((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title fs-5",id:"endChecklistModalLabel"}," End Checklist "),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ra=qs((()=>(0,i._)("div",{class:"modal-body"}," Are you sure you want to end this checklist? ",-1))),Ua={class:"modal-footer"},La=qs((()=>(0,i._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," Cancel ",-1))),Pa={class:"card border-primary mb-4 mt-4"},$a=qs((()=>(0,i._)("div",{class:"card-header bg-primary text-white"},[(0,i._)("h4",{class:"mb-0"},"Active Bom Details")],-1))),Oa={class:"card-body"},Ba={class:"row"},Ta={key:0,class:"col"},Na=qs((()=>(0,i._)("strong",null,"Product Name:",-1))),Ma={key:1,class:"col"},Ea=qs((()=>(0,i._)("strong",null,"Product Code:",-1))),Wa={class:"col"},Aa=qs((()=>(0,i._)("strong",null,"BOM Rev No:",-1))),Fa={class:"col"},qa=qs((()=>(0,i._)("strong",null,"Issue Date:",-1))),za={class:"col"},Ga=qs((()=>(0,i._)("strong",null,"Batch Quantity:",-1))),Za={class:"accordion",id:"accordionPanelsStayOpenExample"},Va={class:"accordion-item"},Qa={class:"accordion-header",id:"panelsStayOpen-headingOne"},Ha={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"},ja={key:0,class:"spinner-border ms-2",role:"status"},Ya=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),Ka=[Ya],Ja={key:1},Xa=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),ei=[Xa],ti={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},si={class:"accordion-body"},ai={class:"accordion-item"},ii={class:"accordion-header",id:"panelsStayOpen-headingTwo"},li={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"},oi={key:0,class:"spinner-border ms-2",role:"status"},ci=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),ni=[ci],ri={key:1},di=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),ui=[di],mi={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo"},hi={class:"accordion-body"},pi={class:"accordion-item"},bi={class:"accordion-header",id:"panelsStayOpen-headingThree"},fi={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree"},gi={key:0,class:"spinner-border ms-2",role:"status"},_i=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),ki=[_i],vi={key:1},yi=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),wi=[yi],Si={id:"panelsStayOpen-collapseThree",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingThree"},Ci={class:"accordion-body"},Ii={class:"accordion-item"},Di={class:"accordion-header",id:"panelsStayOpen-headingFour"},xi={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFour","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFour"},Ri={key:0,class:"spinner-border ms-2",role:"status"},Ui=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),Li=[Ui],Pi={key:1},$i=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Oi=[$i],Bi={id:"panelsStayOpen-collapseFour",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFour"},Ti={class:"accordion-body"},Ni={class:"accordion-item"},Mi={class:"accordion-header",id:"panelsStayOpen-headingFive"},Ei={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFive","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFive"},Wi={key:0,class:"spinner-border ms-2",role:"status"},Ai=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),Fi=[Ai],qi={key:1},zi=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Gi=[zi],Zi={id:"panelsStayOpen-collapseFive",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFive"},Vi={class:"accordion-body"},Qi={class:"accordion-item"},Hi={class:"accordion-header",id:"panelsStayOpen-headingSix"},ji={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSix","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSix"},Yi={key:0,class:"spinner-border ms-2",role:"status"},Ki=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),Ji=[Ki],Xi={key:1},el=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),tl=[el],sl={id:"panelsStayOpen-collapseSix",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSix"},al={class:"accordion-body"},il={class:"accordion-item"},ll={class:"accordion-header",id:"panelsStayOpen-headingSeven"},ol={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSeven","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSeven"},cl={key:0,class:"spinner-border ms-2",role:"status"},nl=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),rl=[nl],dl={key:1},ul=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),ml=[ul],hl={id:"panelsStayOpen-collapseSeven",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSeven"},pl={class:"accordion-body"},bl={class:"accordion-item"},fl={class:"accordion-header",id:"panelsStayOpen-headingEight"},gl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseEight","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseEight"},_l={key:0,class:"spinner-border ms-2",role:"status"},kl=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),vl=[kl],yl={key:1},wl=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Sl=[wl],Cl={id:"panelsStayOpen-collapseEight",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingEight"},Il={class:"accordion-body"},Dl={class:"accordion-item"},xl={class:"accordion-header",id:"panelsStayOpen-headingNine"},Rl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseNine","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseNine"},Ul={key:0,class:"spinner-border ms-2",role:"status"},Ll=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),Pl=[Ll],$l={key:1},Ol=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Bl=[Ol],Tl={id:"panelsStayOpen-collapseNine",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingNine"},Nl={class:"accordion-body"},Ml={class:"accordion-item"},El={class:"accordion-header",id:"panelsStayOpen-headingTen"},Wl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTen","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTen"},Al={key:0,class:"spinner-border ms-2",role:"status"},Fl=qs((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),ql=[Fl],zl={key:1},Gl=qs((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Zl=[Gl],Vl={id:"panelsStayOpen-collapseTen",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTen"},Ql={class:"accordion-body"};function Hl(e,t,s,a,l,o){const c=(0,i.up)("router-link"),n=(0,i.up)("CheckListTable");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",zs,Vs)):((0,i.wg)(),(0,i.iD)("div",Qs,[(0,i._)("div",Hs,[(0,i._)("div",js,[(0,i._)("div",Ys,[Ks,Js,(0,i._)("nav",Xs,[(0,i._)("ol",ea,[ta,(0,i._)("li",sa,[(0,i.Wm)(c,{to:"/checklist"},{default:(0,i.w5)((()=>[aa,(0,i.Uk)(" Checklist")])),_:1})]),ia])])])]),(0,i._)("div",la,[(0,i._)("div",oa,[(0,i._)("div",ca,[l.generatedQRCode?((0,i.wg)(),(0,i.iD)("button",na," View Generated Label ")):((0,i.wg)(),(0,i.iD)("button",ra," Generate Label ")),da])])])]),(0,i._)("div",ua,[(0,i._)("div",ma,[(0,i._)("div",ha,[pa,(0,i._)("div",ba,[l.isChecklistPassed?((0,i.wg)(),(0,i.iD)("div",fa,[l.generatedQRCode?((0,i.wg)(),(0,i.iD)("div",ga,[(0,i._)("img",{src:l.generatedQRCode,alt:"QR Code"},null,8,_a)])):((0,i.wg)(),(0,i.iD)("p",ka," All Checks passed successfully, generate a label by pressing the generate button. "))])):((0,i.wg)(),(0,i.iD)("div",va," You can only generate a label if all checks are passed "))]),(0,i._)("div",ya,[wa,l.isChecklistPassed?((0,i.wg)(),(0,i.iD)("div",Sa,[l.generatedQRCode?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>o.printQRCode&&o.printQRCode(...e))}," Print ")):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=(...e)=>o.generateQRCode&&o.generateQRCode(...e))}," Generate "))])):(0,i.kq)("",!0)])])])]),(0,i._)("div",Ca,[(0,i._)("div",Ia,[(0,i._)("div",Da,[xa,Ra,(0,i._)("div",Ua,[La,(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=(...e)=>o.endChecklist&&o.endChecklist(...e)),"data-bs-dismiss":"modal"}," End ")])])])]),(0,i._)("div",Pa,[$a,(0,i._)("div",Oa,[(0,i._)("div",Ba,[l.activeBom.product?((0,i.wg)(),(0,i.iD)("div",Ta,[Na,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.product.name),1)])):(0,i.kq)("",!0),l.activeBom.product?((0,i.wg)(),(0,i.iD)("div",Ma,[Ea,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.product.product_code),1)])):(0,i.kq)("",!0),(0,i._)("div",Wa,[Aa,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.bom_rev_number),1)]),(0,i._)("div",Fa,[qa,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.issue_date),1)]),(0,i._)("div",za,[Ga,(0,i.Uk)(" "+(0,be.zw)(l.checklist.batch_quantity),1)])])])]),(0,i._)("div",Za,[(0,i._)("div",Va,[(0,i._)("h2",Qa,[(0,i._)("button",Ha,[(0,i.Uk)(" Raw Material Check "),!1===l.isRawMaterialSufficient?((0,i.wg)(),(0,i.iD)("div",ja,Ka)):((0,i.wg)(),(0,i.iD)("div",Ja,ei))])]),(0,i._)("div",ti,[(0,i._)("div",si,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["Raw Material"]},null,8,["checklistItems"])])])]),(0,i._)("div",ai,[(0,i._)("h2",ii,[(0,i._)("button",li,[(0,i.Uk)(" PCB Check "),!1===l.isPcbSufficient?((0,i.wg)(),(0,i.iD)("div",oi,ni)):((0,i.wg)(),(0,i.iD)("div",ri,ui))])]),(0,i._)("div",mi,[(0,i._)("div",hi,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["PCB"]},null,8,["checklistItems"])])])]),(0,i._)("div",pi,[(0,i._)("h2",bi,[(0,i._)("button",fi,[(0,i.Uk)(" Solder Paste Check "),!1===l.isPcbSufficient?((0,i.wg)(),(0,i.iD)("div",gi,ki)):((0,i.wg)(),(0,i.iD)("div",vi,wi))])]),(0,i._)("div",Si,[(0,i._)("div",Ci,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["Solder Paste"]},null,8,["checklistItems"])])])]),(0,i._)("div",Ii,[(0,i._)("h2",Di,[(0,i._)("button",xi,[(0,i.Uk)(" Solder Bar Check "),!1===l.isSolderBarSufficient?((0,i.wg)(),(0,i.iD)("div",Ri,Li)):((0,i.wg)(),(0,i.iD)("div",Pi,Oi))])]),(0,i._)("div",Bi,[(0,i._)("div",Ti,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["Solder Bar"]},null,8,["checklistItems"]),(0,i.Uk)("> ")])])]),(0,i._)("div",Ni,[(0,i._)("h2",Mi,[(0,i._)("button",Ei,[(0,i.Uk)(" Solder Flux Check "),!1===l.isSolderFluxSufficient?((0,i.wg)(),(0,i.iD)("div",Wi,Fi)):((0,i.wg)(),(0,i.iD)("div",qi,Gi))])]),(0,i._)("div",Zi,[(0,i._)("div",Vi,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["Solder Flux"]},null,8,["checklistItems"])])])]),(0,i._)("div",Qi,[(0,i._)("h2",Hi,[(0,i._)("button",ji,[(0,i.Uk)(" IPA Check "),!1===l.isIpaSufficient?((0,i.wg)(),(0,i.iD)("div",Yi,Ji)):((0,i.wg)(),(0,i.iD)("div",Xi,tl))])]),(0,i._)("div",sl,[(0,i._)("div",al,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["IPA"]},null,8,["checklistItems"])])])]),(0,i._)("div",il,[(0,i._)("h2",ll,[(0,i._)("button",ol,[(0,i.Uk)(" Solder Wire Check "),!1===l.isSolderWireSufficient?((0,i.wg)(),(0,i.iD)("div",cl,rl)):((0,i.wg)(),(0,i.iD)("div",dl,ml))])]),(0,i._)("div",hl,[(0,i._)("div",pl,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["Solder Wire"]},null,8,["checklistItems"])])])]),(0,i._)("div",bl,[(0,i._)("h2",fl,[(0,i._)("button",gl,[(0,i.Uk)(" SMT Pallet Check "),!1===l.isSMTPalletSufficient?((0,i.wg)(),(0,i.iD)("div",_l,vl)):((0,i.wg)(),(0,i.iD)("div",yl,Sl))])]),(0,i._)("div",Cl,[(0,i._)("div",Il,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["SMT Pallet"]},null,8,["checklistItems"])])])]),(0,i._)("div",Dl,[(0,i._)("h2",xl,[(0,i._)("button",Rl,[(0,i.Uk)(" Wave Pallet Check "),!1===l.isWavePalletSufficient?((0,i.wg)(),(0,i.iD)("div",Ul,Pl)):((0,i.wg)(),(0,i.iD)("div",$l,Bl))])]),(0,i._)("div",Tl,[(0,i._)("div",Nl,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["Wave Pallet"]},null,8,["checklistItems"])])])]),(0,i._)("div",Ml,[(0,i._)("h2",El,[(0,i._)("button",Wl,[(0,i.Uk)(" PCB Serial Number Label Check "),!1===l.isLabelSufficient?((0,i.wg)(),(0,i.iD)("div",Al,ql)):((0,i.wg)(),(0,i.iD)("div",zl,Zl))])]),(0,i._)("div",Vl,[(0,i._)("div",Ql,[(0,i.Wm)(n,{checklistItems:l.filteredChecklistItems["PCB Serial Number Label"]},null,8,["checklistItems"])])])])])]))}function jl(e,t,s,a,l,o){const c=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{ref:"agGrid",style:{height:"550px"},class:"ag-theme-quartz",rowData:s.checklistItems,defaultColDef:l.defaultColDef,columnDefs:l.colDefs,pagination:!0,onFirstDataRendered:o.onFirstDataRendered,onRowClicked:o.onRowClicked,onRowSelected:o.onRowSelected,onRowDeselected:o.onRowDeselected,onGridReady:o.onGridReady},null,8,["rowData","defaultColDef","columnDefs","onFirstDataRendered","onRowClicked","onRowSelected","onRowDeselected","onGridReady"])])}var Yl={props:{checklistItems:{type:Array,required:!0}},components:{AgGridVue:ht.n},data(){return{gridApi:null,isGridReady:!1,colDefs:[{headerName:"VEPL Part No",field:"bom_line_item.part_number"},{headerName:"Present Quantity",field:"present_quantity"},{headerName:"Required Quantity",field:"required_quantity"},{headerName:"Is Present",field:"is_present"},{headerName:"Is Quantity Sufficient",field:"is_quantity_sufficient"},{headerName:"Updated At",field:"updated_at"}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0,domLayout:"autoHeight"},selectedRows:[]}},mounted(){},methods:{statusCellRenderer(e){return e.value?"✔":"✘"},onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data),this.onSelectionChanged()},onRowDeselected(){this.onSelectionChanged()},onSelectionChanged(){this.selectedRows=this.gridApi.getSelectedRows()},onFirstDataRendered(e){e.api&&(this.gridApi=e.api,this.isGridReady=!0)},onGridReady(e){this.gridApi=e.api,this.isGridReady=!0}}};const Kl=(0,H.Z)(Yl,[["render",jl],["__scopeId","data-v-25362d9b"]]);var Jl=Kl,Xl=s(8385),eo={components:{CheckListTable:Jl},data(){return{activeBom:"",checklist:"",checklistItems:[],isChecklistPassed:!1,isChecklistEnded:!1,isRawMaterialSufficient:!1,isPcbSufficient:!1,isSolderPasteSufficient:!1,isSolderBarSufficient:!1,isSolderFluxSufficient:!1,isIpaSufficient:!1,isSolderWireSufficient:!1,isSMTPalletSufficient:!1,isWavePalletSufficient:!1,isLabelSufficient:!1,pollingInterval:"",generatedQRCode:"",filteredChecklistItems:{"Raw Material":[],PCB:[],"Solder Paste":[],"Solder Bar":[],"Solder Flux":[],Ipa:[],"Solder Wire":[],"SMT Pallet":[],"Wave Pallet":[],"PCB Serial Number Label":[]},scannedEntries:[]}},mounted(){this.getChecklistBeginning(),this.pollingInterval=setInterval((()=>{this.isChecklistPassed?(clearInterval(this.pollingInterval),this.$notify({title:"BOM Check Passed",type:"bg-success-subtle text-success",duration:"5000"})):this.getChecklist()}),5e3)},beforeUnmount(){clearInterval(this.pollingInterval)},methods:{async getChecklistBeginning(){this.$store.commit("setIsLoading",!0),await ce.Z.get(`store/get-active-checklist/${this.$route.params.id}/`).then((e=>{console.log(e.data),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,console.log("chehcklist items hereeeeee",this.checklistItems);const t=this.filterChecklistItemsByType("Raw Material"),s=this.filterChecklistItemsByType("PCB"),a=this.filterChecklistItemsByType("Solder Paste"),i=this.filterChecklistItemsByType("Solder Bar"),l=this.filterChecklistItemsByType("Solder Flux"),o=this.filterChecklistItemsByType("IPA"),c=this.filterChecklistItemsByType("Solder Wire"),n=this.filterChecklistItemsByType("SMT Pallet"),r=this.filterChecklistItemsByType("Wave Pallet"),d=this.filterChecklistItemsByType("PCB Serial Number Label");this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,this.filteredChecklistItems={"Raw Material":t,PCB:s,"Solder Paste":a,"Solder Bar":i,"Solder Flux":l,IPA:o,"Solder Wire":c,"SMT Pallet":n,"Wave Pallet":r,"PCB Serial Number Label":d},console.log("filered checklsit items",this.filteredChecklistItems),this.isRawMaterialSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Raw Material"),this.isPcbSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB"),this.isSolderPasteSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Paste"),this.isSolderBarSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Bar"),console.log("checking solder bar",this.isSolderBarSufficient),this.isSolderFluxSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Flux"),this.isIpaSufficient=this.isItemsSufficient(this.filteredChecklistItems,"IPA"),this.isSolderWireSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Wire"),this.isSMTPalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"SMT Pallet"),this.isWavePalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Wave Pallet"),this.isLabelSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB Serial Number Label"),"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),this.checklist.qr_code_link&&(this.generatedQRCode=this.checklist.qr_code_link),this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))},async getChecklist(){await ce.Z.get(`store/get-active-checklist/${this.$route.params.id}/`).then((e=>{console.log(e.data),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,console.log("chehcklist items hereeeeee",this.checklistItems);const t=this.filterChecklistItemsByType("Raw Material"),s=this.filterChecklistItemsByType("PCB"),a=this.filterChecklistItemsByType("Solder Paste"),i=this.filterChecklistItemsByType("Solder Bar"),l=this.filterChecklistItemsByType("Solder Flux"),o=this.filterChecklistItemsByType("IPA"),c=this.filterChecklistItemsByType("Solder Wire"),n=this.filterChecklistItemsByType("SMT Pallet"),r=this.filterChecklistItemsByType("Wave Pallet"),d=this.filterChecklistItemsByType("PCB Serial Number Label");this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,this.filteredChecklistItems={"Raw Material":t,PCB:s,"Solder Paste":a,"Solder Bar":i,"Solder Flux":l,IPA:o,"Solder Wire":c,"SMT Pallet":n,"Wave Pallet":r,"PCB Serial Number Label":d},console.log("filered checklsit items",this.filteredChecklistItems),this.isRawMaterialSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Raw Material"),this.isPcbSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB"),this.isSolderPasteSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Paste"),this.isSolderBarSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Bar"),console.log("checking solder bar",this.isSolderBarSufficient),this.isSolderFluxSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Flux"),this.isIpaSufficient=this.isItemsSufficient(this.filteredChecklistItems,"IPA"),this.isSolderWireSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Wire"),this.isSMTPalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"SMT Pallet"),this.isWavePalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Wave Pallet"),this.isLabelSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB Serial Number Label"),"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),this.checklist.qr_code_link&&(this.generatedQRCode=this.checklist.qr_code_link)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})}))},async endChecklist(){this.$store.commit("setIsLoading",!0),await ce.Z.get(`store/end-checklist/${this.checklist.id}/`).then((e=>{console.log(e.data),this.$notify({title:"Checklist ended",type:"bg-danger-subtle text-danger",duration:"5000"}),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),clearInterval(this.pollingInterval),this.$router.push(`/generated-checklists/${this.$route.params.id}`),this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),clearInterval(this.pollingInterval),this.$store.commit("setIsLoading",!1)}))},async generateQRCode(){const e=this.generateUniqueCode();console.log(e);const t=await Xl.toDataURL(e),s={uniqueCode:e,qrCodeDataURL:t};this.saveQRCode(s)},generateUniqueCode(){const e=Date.now().toString(),t=Math.random().toString(36).substring(7);return`${e}-${t}`},async saveQRCode(e){await ce.Z.post(`store/save-qr-code/${this.checklist.id}/`,e).then((t=>{console.log(t.data),this.generatedQRCode=e.qrCodeDataURL,this.$notify({title:"QR Code generated and saved successfully",type:"bg-success-subtle text-success",duration:"5000"})})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})}))},printQRCode(){if(this.generatedQRCode){const e=document.getElementById("printable-content"),t=window.open("","","height=1000,width=1000");t.document.write(e.innerHTML),t.print()}},filterChecklistItemsByType(e){return this.checklistItems.filter((t=>{const s=t.checklist_item_type;return!(!s||!s.name)&&s.name.toUpperCase()===e.toUpperCase()}))},isItemsSufficient(e,t){const s=this.filteredChecklistItems[t];if(s){if(0===s.length)return!0;const e=s.filter((e=>!0===e.is_quantity_sufficient));return e.length===s.length}return!1}}};const to=(0,H.Z)(eo,[["render",Hl],["__scopeId","data-v-6c339e70"]]);var so=to;const ao={key:0,class:"container text-center"},io=(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),lo=(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1),oo=[io,lo],co={key:1,class:"container"},no={class:"row align-items-center"},ro={class:"col-md-12 mt-4"},uo={class:"d-flex align-items-center"},mo=(0,i._)("h2",{class:"mb-0 me-3"},"Generated Checklists",-1),ho=(0,i._)("span",{class:"fs-4 text-muted"},"|",-1),po={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},bo={class:"breadcrumb bg-transparent m-0 p-0"},fo=(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"/"},[(0,i._)("i",{class:"fas fa-home me-1"}),(0,i.Uk)("Home")])],-1),go={class:"breadcrumb-item"},_o=(0,i._)("i",{class:"fas fa-list-alt me-1"},null,-1),ko=(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fa-solid fa-list-check me-1"}),(0,i.Uk)(" Generated Checklists ")],-1);function vo(e,t,s,a,l,o){const c=(0,i.up)("router-link"),n=(0,i.up)("CheckListsTable");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",ao,oo)):((0,i.wg)(),(0,i.iD)("div",co,[(0,i._)("div",no,[(0,i._)("div",ro,[(0,i._)("div",uo,[mo,ho,(0,i._)("nav",po,[(0,i._)("ol",bo,[fo,(0,i._)("li",go,[(0,i.Wm)(c,{to:"/checklist"},{default:(0,i.w5)((()=>[_o,(0,i.Uk)(" Checklist")])),_:1})]),ko])])])])]),(0,i.Wm)(n,{style:{"margin-top":"20px"},rowData:l.rowData},null,8,["rowData"])]))}function yo(e,t,s,a,l,o){const c=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)("div",null,[s.rowData.length>0?((0,i.wg)(),(0,i.j4)(c,{key:0,style:{height:"500px"},class:"ag-theme-quartz",rowData:s.rowData,defaultColDef:l.defaultColDef,columnDefs:l.colDefs,pagination:!0,onRowClicked:o.onRowClicked,onRowSelected:o.onRowSelected},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onRowSelected"])):(0,i.kq)("",!0)])}var wo={components:{AgGridVue:ht.n},props:{rowData:{type:Array}},data(){return{colDefs:[{field:"id",hide:!0},{headerName:"Checklist ID",field:"id",headerCheckboxSelection:!0,checkboxSelection:!0},{headerName:"Unique Code",field:"unique_code",valueFormatter:function(e){return null===e.value?"null":e.value}},{headerName:"Product Name",field:"bom.product.name"},{headerName:"Product Code",field:"bom.product.product_code"},{headerName:"Batch Quantity",field:"batch_quantity"},{headerName:"Updated At",field:"updated_at"},{headerName:"Status",field:"status"},{headerName:"Actions",cellRenderer:this.editButtonRenderer}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},methods:{onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data)},onSelectionChanged(){this.$refs.agGrid&&this.$refs.agGrid.api&&(this.selectedRows=this.$refs.agGrid.api.getSelectedRows())},editButtonRenderer(e){const t=document.createElement("button");return t.innerHTML='<i class="fas fa-eye"></i>',t.classList.add("btn","btn-success"),t.addEventListener("click",(()=>this.onViewClick(e.data))),t},onViewClick(e){"In Progress"===e.status?this.$router.push(`/begin-checklist/${e.bom.id}`):this.$router.push(`/checklist-details/${e.id}`)}}};const So=(0,H.Z)(wo,[["render",yo],["__scopeId","data-v-e96665fc"]]);var Co=So,Io={components:{CheckListsTable:Co},data(){return{rowData:[]}},mounted(){this.fetchData()},methods:{async fetchData(){try{this.$store.commit("setIsLoading",!0);const e=await ce.Z.get(`store/generated-checklists/${this.$route.params.id}`);this.rowData=e.data,console.log("checklists",e.data),this.$store.commit("setIsLoading",!1)}catch(e){console.error("Error fetching CheckLists data:",e),this.$store.commit("setIsLoading",!1)}}}};const Do=(0,H.Z)(Io,[["render",vo]]);var xo=Do;const Ro=e=>((0,i.dD)("data-v-31d4ecd5"),e=e(),(0,i.Cn)(),e),Uo={key:0,class:"container text-center"},Lo=Ro((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),Po=Ro((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),$o=[Lo,Po],Oo={key:1,class:"container"},Bo={class:"row align-items-center"},To=(0,i.uE)('<div class="col-md-6 mt-4" data-v-31d4ecd5><div class="d-flex align-items-center" data-v-31d4ecd5><h2 class="mb-0" data-v-31d4ecd5>Checklist Details</h2><span class="ms-3 fs-4 text-muted me-3" data-v-31d4ecd5>|</span><nav aria-label="breadcrumb" data-v-31d4ecd5><ol class="breadcrumb bg-transparent m-0 p-0 justify-content-end" data-v-31d4ecd5><li class="breadcrumb-item" data-v-31d4ecd5><a href="/" data-v-31d4ecd5>Home</a></li><li class="breadcrumb-item active" aria-current="page" data-v-31d4ecd5> Checklist </li></ol></nav></div></div>',1),No={class:"col-md-6 mt-4 d-flex justify-content-end"},Mo={class:"container"},Eo={class:"d-flex justify-content-end"},Wo={key:0,type:"button","data-bs-toggle":"modal","data-bs-target":"#generateLabelModal",class:"btn btn-success me-2"},Ao={key:1,type:"button","data-bs-toggle":"modal","data-bs-target":"#generateLabelModal",class:"btn btn-success me-2"},Fo={class:"modal fade",id:"generateLabelModal",tabindex:"-1","aria-labelledby":"generateLabelModalLabel","aria-hidden":"true"},qo={class:"modal-dialog"},zo={class:"modal-content"},Go=Ro((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title fs-5",id:"generateLabelModalLabel"}," Generate Label "),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Zo={class:"modal-body"},Vo={key:0},Qo={key:0,id:"printable-content"},Ho=["src"],jo={key:1},Yo={key:1},Ko={class:"modal-footer"},Jo=Ro((()=>(0,i._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," Cancel ",-1))),Xo={key:0},ec={class:"card border-primary mb-4 mt-4"},tc=Ro((()=>(0,i._)("div",{class:"card-header bg-primary text-white"},[(0,i._)("h4",{class:"mb-0"},"BOM Details")],-1))),sc={class:"card-body"},ac={class:"row"},ic={key:0,class:"col"},lc=Ro((()=>(0,i._)("strong",null,"Product Name:",-1))),oc={key:1,class:"col"},cc=Ro((()=>(0,i._)("strong",null,"Product Code:",-1))),nc={class:"col"},rc=Ro((()=>(0,i._)("strong",null,"BOM Rev No:",-1))),dc={class:"col"},uc=Ro((()=>(0,i._)("strong",null,"Issue Date:",-1))),mc={class:"accordion",id:"accordionPanelsStayOpenExample"},hc={class:"accordion-item"},pc={class:"accordion-header",id:"panelsStayOpen-headingOne"},bc={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"},fc={key:0},gc=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),_c=[gc],kc={key:1},vc=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),yc=[vc],wc={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Sc={class:"accordion-body"},Cc={class:"accordion-item"},Ic={class:"accordion-header",id:"panelsStayOpen-headingTwo"},Dc={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"},xc={key:0},Rc=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Uc=[Rc],Lc={key:1},Pc=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),$c=[Pc],Oc={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo"},Bc={class:"accordion-body"},Tc={class:"accordion-item"},Nc={class:"accordion-header",id:"panelsStayOpen-headingThree"},Mc={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree"},Ec={key:0},Wc=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Ac=[Wc],Fc={key:1},qc=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),zc=[qc],Gc={id:"panelsStayOpen-collapseThree",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingThree"},Zc={class:"accordion-body"},Vc={class:"accordion-item"},Qc={class:"accordion-header",id:"panelsStayOpen-headingFour"},Hc={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFour","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFour"},jc={key:0},Yc=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Kc=[Yc],Jc={key:1},Xc=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),en=[Xc],tn={id:"panelsStayOpen-collapseFour",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFour"},sn={class:"accordion-body"},an={class:"accordion-item"},ln={class:"accordion-header",id:"panelsStayOpen-headingFive"},on={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFive","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFive"},cn={key:0},nn=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),rn=[nn],dn={key:1},un=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),mn=[un],hn={id:"panelsStayOpen-collapseFive",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFive"},pn={class:"accordion-body"},bn={class:"accordion-item"},fn={class:"accordion-header",id:"panelsStayOpen-headingSix"},gn={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSix","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSix"},_n={key:0},kn=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),vn=[kn],yn={key:1},wn=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Sn=[wn],Cn={id:"panelsStayOpen-collapseSix",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSix"},In={class:"accordion-body"},Dn={class:"accordion-item"},xn={class:"accordion-header",id:"panelsStayOpen-headingSeven"},Rn={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSeven","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSeven"},Un={key:0},Ln=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Pn=[Ln],$n={key:1},On=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Bn=[On],Tn={id:"panelsStayOpen-collapseSeven",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSeven"},Nn={class:"accordion-body"},Mn={class:"accordion-item"},En={class:"accordion-header",id:"panelsStayOpen-headingEight"},Wn={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseEight","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseEight"},An={key:0},Fn=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),qn=[Fn],zn={key:1},Gn=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Zn=[Gn],Vn={id:"panelsStayOpen-collapseEight",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingEight"},Qn={class:"accordion-body"},Hn={class:"accordion-item"},jn={class:"accordion-header",id:"panelsStayOpen-headingNine"},Yn={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseNine","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseNine"},Kn={key:0},Jn=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Xn=[Jn],er={key:1},tr=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),sr=[tr],ar={id:"panelsStayOpen-collapseNine",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingNine"},ir={class:"accordion-body"},lr={class:"accordion-item"},or={class:"accordion-header",id:"panelsStayOpen-headingTen"},cr={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTen","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTen"},nr={key:0},rr=Ro((()=>(0,i._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),dr=[rr],ur={key:1},mr=Ro((()=>(0,i._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),hr=[mr],pr={id:"panelsStayOpen-collapseTen",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTen"},br={class:"accordion-body"};function fr(e,t,s,a,l,o){const c=(0,i.up)("CheckListTable");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",Uo,$o)):((0,i.wg)(),(0,i.iD)("div",Oo,[(0,i._)("div",Bo,[To,(0,i._)("div",No,[(0,i._)("div",Mo,[(0,i._)("div",Eo,[l.generatedQRCode?((0,i.wg)(),(0,i.iD)("button",Wo," View Generated Label ")):((0,i.wg)(),(0,i.iD)("button",Ao," Generate Label "))])])])]),(0,i._)("div",Fo,[(0,i._)("div",qo,[(0,i._)("div",zo,[Go,(0,i._)("div",Zo,[l.isChecklistPassed?((0,i.wg)(),(0,i.iD)("div",Vo,[l.generatedQRCode?((0,i.wg)(),(0,i.iD)("div",Qo,[(0,i._)("img",{src:l.generatedQRCode,alt:"QR Code"},null,8,Ho)])):((0,i.wg)(),(0,i.iD)("p",jo," All Checks passed successfully, generate a label by pressing the generate button. "))])):((0,i.wg)(),(0,i.iD)("div",Yo," You can only generate a label if all checks are passed "))]),(0,i._)("div",Ko,[Jo,l.isChecklistPassed?((0,i.wg)(),(0,i.iD)("div",Xo,[l.generatedQRCode?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>o.printQRCode&&o.printQRCode(...e))}," Print ")):((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=(...e)=>o.generateQRCode&&o.generateQRCode(...e))}," Generate "))])):(0,i.kq)("",!0)])])])]),(0,i._)("div",ec,[tc,(0,i._)("div",sc,[(0,i._)("div",ac,[l.activeBom.product?((0,i.wg)(),(0,i.iD)("div",ic,[lc,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.product.name),1)])):(0,i.kq)("",!0),l.activeBom.product?((0,i.wg)(),(0,i.iD)("div",oc,[cc,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.product.product_code),1)])):(0,i.kq)("",!0),(0,i._)("div",nc,[rc,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.bom_rev_number),1)]),(0,i._)("div",dc,[uc,(0,i.Uk)(" "+(0,be.zw)(l.activeBom.issue_date),1)])])])]),(0,i._)("div",mc,[(0,i._)("div",hc,[(0,i._)("h2",pc,[(0,i._)("button",bc,[(0,i.Uk)(" Raw Material Check "),0==l.isRawMaterialSufficient?((0,i.wg)(),(0,i.iD)("div",fc,_c)):((0,i.wg)(),(0,i.iD)("div",kc,yc))])]),(0,i._)("div",wc,[(0,i._)("div",Sc,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["Raw Material"]},null,8,["checklistItems"])])])]),(0,i._)("div",Cc,[(0,i._)("h2",Ic,[(0,i._)("button",Dc,[(0,i.Uk)(" PCB Check "),0==l.isPcbSufficient?((0,i.wg)(),(0,i.iD)("div",xc,Uc)):((0,i.wg)(),(0,i.iD)("div",Lc,$c))])]),(0,i._)("div",Oc,[(0,i._)("div",Bc,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["PCB"]},null,8,["checklistItems"])])])]),(0,i._)("div",Tc,[(0,i._)("h2",Nc,[(0,i._)("button",Mc,[(0,i.Uk)(" Solder Paste "),0==l.isSolderPasteSufficient?((0,i.wg)(),(0,i.iD)("div",Ec,Ac)):((0,i.wg)(),(0,i.iD)("div",Fc,zc))])]),(0,i._)("div",Gc,[(0,i._)("div",Zc,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["Solder Paste"]},null,8,["checklistItems"])])])]),(0,i._)("div",Vc,[(0,i._)("h2",Qc,[(0,i._)("button",Hc,[(0,i.Uk)(" Solder Bar "),0==l.isSolderBarSufficient?((0,i.wg)(),(0,i.iD)("div",jc,Kc)):((0,i.wg)(),(0,i.iD)("div",Jc,en))])]),(0,i._)("div",tn,[(0,i._)("div",sn,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["Solder Bar"]},null,8,["checklistItems"]),(0,i.Uk)("> ")])])]),(0,i._)("div",an,[(0,i._)("h2",ln,[(0,i._)("button",on,[(0,i.Uk)(" Solder Flux "),0==l.isSolderFluxSufficient?((0,i.wg)(),(0,i.iD)("div",cn,rn)):((0,i.wg)(),(0,i.iD)("div",dn,mn))])]),(0,i._)("div",hn,[(0,i._)("div",pn,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["Solder Flux"]},null,8,["checklistItems"])])])]),(0,i._)("div",bn,[(0,i._)("h2",fn,[(0,i._)("button",gn,[(0,i.Uk)(" IPA "),0==l.isIpaSufficient?((0,i.wg)(),(0,i.iD)("div",_n,vn)):((0,i.wg)(),(0,i.iD)("div",yn,Sn))])]),(0,i._)("div",Cn,[(0,i._)("div",In,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["IPA"]},null,8,["checklistItems"])])])]),(0,i._)("div",Dn,[(0,i._)("h2",xn,[(0,i._)("button",Rn,[(0,i.Uk)(" Solder Wire "),0==l.isSolderWireSufficient?((0,i.wg)(),(0,i.iD)("div",Un,Pn)):((0,i.wg)(),(0,i.iD)("div",$n,Bn))])]),(0,i._)("div",Tn,[(0,i._)("div",Nn,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["Solder Wire"]},null,8,["checklistItems"])])])]),(0,i._)("div",Mn,[(0,i._)("h2",En,[(0,i._)("button",Wn,[(0,i.Uk)(" SMT Pallet "),0==l.isSMTPalletSufficient?((0,i.wg)(),(0,i.iD)("div",An,qn)):((0,i.wg)(),(0,i.iD)("div",zn,Zn))])]),(0,i._)("div",Vn,[(0,i._)("div",Qn,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["SMT Pallet"]},null,8,["checklistItems"])])])]),(0,i._)("div",Hn,[(0,i._)("h2",jn,[(0,i._)("button",Yn,[(0,i.Uk)(" Wave Pallet "),0==l.isWavePalletSufficient?((0,i.wg)(),(0,i.iD)("div",Kn,Xn)):((0,i.wg)(),(0,i.iD)("div",er,sr))])]),(0,i._)("div",ar,[(0,i._)("div",ir,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["Wave Pallet"]},null,8,["checklistItems"])])])]),(0,i._)("div",lr,[(0,i._)("h2",or,[(0,i._)("button",cr,[(0,i.Uk)(" PCB Serial Number Label "),0==l.isLabelSufficient?((0,i.wg)(),(0,i.iD)("div",nr,dr)):((0,i.wg)(),(0,i.iD)("div",ur,hr))])]),(0,i._)("div",pr,[(0,i._)("div",br,[(0,i.Wm)(c,{checklistItems:l.filteredChecklistItems["PCB Serial Number Label"]},null,8,["checklistItems"])])])])])]))}var gr={components:{CheckListTable:Jl},data(){return{activeBom:"",checklist:"",checklistItems:[],isRawMaterialSufficient:!1,isPcbSufficient:!1,isSolderPasteSufficient:!1,isSolderBarSufficient:!1,isSolderFluxSufficient:!1,isIpaSufficient:!1,isSolderWireSufficient:!1,isSMTPalletSufficient:!1,isWavePalletSufficient:!1,isLabelSufficient:!1,isChecklistPassed:!1,isChecklistEnded:!1,pollingInterval:"",filteredChecklistItems:{"Raw Material":[],PCB:[],"Solder Paste":[],"Solder Bar":[],"Solder Flux":[],IPA:[],"Solder Wire":[],"SMT Pallet":[],"Wave Pallet":[],"PCB Serial Number Label":[]},generatedQRCode:""}},mounted(){this.getChecklist()},methods:{async getChecklist(){this.$store.commit("setIsLoading",!0),await ce.Z.get(`store/get-checklist-details/${this.$route.params.id}/`).then((e=>{console.log("yehh",e.data),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,console.log("chehcklist items hereeeeee",this.checklistItems),console.log("chehcklist items hereeeeee",this.checklistItems);const t=this.filterChecklistItemsByType("Raw Material");console.log(t);const s=this.filterChecklistItemsByType("PCB"),a=this.filterChecklistItemsByType("Solder Paste"),i=this.filterChecklistItemsByType("Solder Bar"),l=this.filterChecklistItemsByType("Solder Flux"),o=this.filterChecklistItemsByType("IPA"),c=this.filterChecklistItemsByType("Solder Wire"),n=this.filterChecklistItemsByType("SMT Pallet"),r=this.filterChecklistItemsByType("Wave Pallet"),d=this.filterChecklistItemsByType("PCB Serial Number Label");this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,this.filteredChecklistItems={"Raw Material":t,PCB:s,"Solder Paste":a,"Solder Bar":i,"Solder Flux":l,IPA:o,"Solder Wire":c,"SMT Pallet":n,"Wave Pallet":r,"PCB Serial Number Label":d},console.log("filered checklsit items",this.filteredChecklistItems),this.isRawMaterialSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Raw Material"),this.isPcbSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB"),this.isSolderPasteSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Paste"),this.isSolderBarSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Bar"),console.log("checking solder bar",this.isSolderBarSufficient),this.isSolderFluxSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Flux"),this.isIpaSufficient=this.isItemsSufficient(this.filteredChecklistItems,"IPA"),this.isSolderWireSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Wire"),this.isSMTPalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"SMT Pallet"),this.isWavePalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Wave Pallet"),this.isLabelSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB Serial Number Label"),this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),this.checklist.qr_code_link&&(this.generatedQRCode=this.checklist.qr_code_link),this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))},filterChecklistItemsByType(e){return this.checklistItems.filter((t=>{const s=t.checklist_item_type;return!(!s||!s.name)&&s.name.toLowerCase()===e.toLowerCase()}))},isItemsSufficient(e,t){const s=this.filteredChecklistItems[t];if(0===s.length)return!0;const a=s.filter((e=>!0===e.is_quantity_sufficient));return a.length===s.length},async generateQRCode(){const e=this.generateUniqueCode();console.log(e);const t=await Xl.toDataURL(e),s={uniqueCode:e,qrCodeDataURL:t};this.saveQRCode(s)},generateUniqueCode(){const e=Date.now().toString(),t=Math.random().toString(36).substring(7);return`${e}-${t}`},async saveQRCode(e){await ce.Z.post(`store/save-qr-code/${this.checklist.id}/`,e).then((t=>{console.log(t.data),this.generatedQRCode=e.qrCodeDataURL,this.$notify({title:"QR Code generated and saved successfully",type:"bg-success-subtle text-success",duration:"5000"})})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})}))},printQRCode(){if(this.generatedQRCode){const e=document.getElementById("printable-content"),t=window.open("","","height=1000,width=1000");t.document.write(e.innerHTML),t.print()}}}};const _r=(0,H.Z)(gr,[["render",fr],["__scopeId","data-v-31d4ecd5"]]);var kr=_r;const vr={class:"container"},yr=(0,i.uE)('<div class="row align-items-center"><div class="col-md-6 mt-4"><div class="d-flex align-items-center"><h2 class="mb-0">Reports</h2><span class="ms-3 fs-4 text-muted">|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3"><ol class="breadcrumb bg-transparent m-0 p-0"><li class="breadcrumb-item"><a href="/"><i class="fas fa-home me-1"></i>Home</a></li><li class="breadcrumb-item active" aria-current="page"><i class="fas fa-chart-bar me-1"></i> Reports </li></ol></nav></div></div></div>',1),wr={class:"conatiner"},Sr={class:"list-group pt-4"};function Cr(e,t){const s=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",vr,[yr,(0,i._)("div",wr,[(0,i._)("ul",Sr,[(0,i.Wm)(s,{class:"list-group-item list-group-item-action text-left",to:"/checklist-report"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Checklist Report ")])),_:1})])])])}const Ir={},Dr=(0,H.Z)(Ir,[["render",Cr]]);var xr=Dr;const Rr=e=>((0,i.dD)("data-v-bbcef4d6"),e=e(),(0,i.Cn)(),e),Ur={key:0,class:"container text-center"},Lr=Rr((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),Pr=Rr((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),$r=[Lr,Pr],Or={key:1,class:"container"},Br={class:"row align-items-center"},Tr=(0,i.uE)('<div class="col-md-6 mt-4" data-v-bbcef4d6><div class="d-flex align-items-center" data-v-bbcef4d6><h2 class="mb-0" data-v-bbcef4d6>Dashboard</h2><span class="ms-3 fs-4 text-muted" data-v-bbcef4d6>|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3" data-v-bbcef4d6><ol class="breadcrumb bg-transparent m-0 p-0" data-v-bbcef4d6><li class="breadcrumb-item" data-v-bbcef4d6><a href="/" data-v-bbcef4d6><i class="fas fa-home me-1" data-v-bbcef4d6></i>Home</a></li><li class="breadcrumb-item active" aria-current="page" data-v-bbcef4d6><i class="fa fa-tachometer me-1" aria-hidden="true" data-v-bbcef4d6></i> Dashboard </li></ol></nav></div></div>',1),Nr={class:"col-md-6 mt-4 text-end"},Mr={class:"container"},Er={class:"dropdown"},Wr={class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},Ar={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Fr=Rr((()=>(0,i._)("a",{class:"dropdown-item",href:"#"},"Today",-1))),qr=[Fr],zr=Rr((()=>(0,i._)("a",{class:"dropdown-item",href:"#"},"Previous Week",-1))),Gr=[zr],Zr=Rr((()=>(0,i._)("a",{class:"dropdown-item",href:"#"},"Previous Month",-1))),Vr=[Zr],Qr=Rr((()=>(0,i._)("li",null,[(0,i._)("button",{type:"button",class:"btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Custom Date Range ")],-1))),Hr={class:"row mt-4",style:{display:"flex",gap:"30px","justify-content":"space-between"}},jr={class:"small-box bg-gradient-success",style:{flex:"1"}},Yr={class:"inner"},Kr=Rr((()=>(0,i._)("p",null,"Completed",-1))),Jr=Rr((()=>(0,i._)("div",{class:"icon"},[(0,i._)("i",{class:"fa-solid fa-check"})],-1))),Xr={class:"small-box bg-gradient-primary",style:{flex:"1"}},ed={class:"inner"},td=Rr((()=>(0,i._)("p",null,"In Progress",-1))),sd=Rr((()=>(0,i._)("div",{class:"icon"},[(0,i._)("i",{class:"fa-solid fa-spinner"})],-1))),ad={class:"small-box bg-gradient-danger",style:{flex:"1"}},id={class:"inner"},ld=Rr((()=>(0,i._)("p",null,"Failed",-1))),od=Rr((()=>(0,i._)("div",{class:"icon"},[(0,i._)("i",{class:"fa-solid fa-xmark"})],-1))),cd={class:"row mt-4 d-flex"},nd={class:"col-6"},rd={class:"card card-primary"},dd={class:"card-header"},ud=Rr((()=>(0,i._)("h3",{class:"card-title"},"In Progress Checklists",-1))),md={class:"card-tools"},hd={class:"card-body"},pd={class:"row"},bd={key:0},fd={class:"list-group list-group-flush"},gd={key:1},_d={class:"col-6"},kd={class:"card card-success"},vd={class:"card-header"},yd=Rr((()=>(0,i._)("h3",{class:"card-title"},"Completed Checklists",-1))),wd={class:"card-tools"},Sd={class:"card-body"},Cd={class:"row"},Id={key:0},Dd={class:"list-group list-group-flush"},xd=["onClick"],Rd={key:1},Ud={class:"row mt-4 d-flex"},Ld={class:"col-6"},Pd={class:"card card-danger"},$d={class:"card-header"},Od=Rr((()=>(0,i._)("h3",{class:"card-title"},"Failed Checklists",-1))),Bd={class:"card-tools"},Td={class:"card-body"},Nd={class:"row"},Md={key:0},Ed={class:"list-group list-group-flush"},Wd=["onClick"],Ad=Rr((()=>(0,i._)("i",{class:"fas fa-eye"},null,-1))),Fd={key:1},qd=Rr((()=>(0,i._)("div",{class:"col-6"},null,-1))),zd={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Gd={class:"modal-dialog"},Zd={class:"modal-content"},Vd=Rr((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},[(0,i._)("strong",null,"Custom Date Range")]),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Qd={class:"modal-body"},Hd={class:"mb-3"},jd=Rr((()=>(0,i._)("label",{for:"startDate",class:"form-label"},"Start Date:",-1))),Yd={class:"mb-3"},Kd=Rr((()=>(0,i._)("label",{for:"endDate",class:"form-label"},"End Date:",-1))),Jd={key:0,class:"alert alert-danger mt-3 p-2"},Xd=Rr((()=>(0,i._)("i",{class:"fas fa-exclamation-triangle"},null,-1))),eu={class:"modal-footer"},tu=Rr((()=>(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1))),su=["disabled"];function au(e,t,s,l,o,c){return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",Ur,$r)):((0,i.wg)(),(0,i.iD)("div",Or,[(0,i._)("div",Br,[Tr,(0,i._)("div",Nr,[(0,i._)("div",Mr,[(0,i._)("div",Er,[(0,i._)("button",Wr,(0,be.zw)("Previous_Week"===o.selectedOption?"Previous Week":"Previous_Month"===o.selectedOption?"Previous Month":o.selectedOption),1),(0,i._)("ul",Ar,[(0,i._)("li",{onClick:t[0]||(t[0]=e=>c.selectOption("Today")),class:(0,be.C_)({active:"Today"===o.selectedOption})},qr,2),(0,i._)("li",{onClick:t[1]||(t[1]=e=>c.selectOption("Previous_Week")),class:(0,be.C_)({active:"Previous_Week"===o.selectedOption})},Gr,2),(0,i._)("li",{onClick:t[2]||(t[2]=e=>c.selectOption("Previous_Month")),class:(0,be.C_)({active:"Previous_Month"===o.selectedOption})},Vr,2),Qr])])])])]),(0,i._)("div",Hr,[(0,i._)("div",jr,[(0,i._)("div",Yr,[(0,i._)("h3",null,(0,be.zw)(o.result.completed_checklists?o.result.completed_checklists.length:"Loading"),1),Kr]),Jr]),(0,i._)("div",Xr,[(0,i._)("div",ed,[(0,i._)("h3",null,(0,be.zw)(o.result.in_progress?o.result.in_progress.length:"Loading"),1),td]),sd]),(0,i._)("div",ad,[(0,i._)("div",id,[(0,i._)("h3",null,(0,be.zw)(o.result.failed_checklists?o.result.failed_checklists.length:"Loading"),1),ld]),od])]),(0,i._)("div",cd,[(0,i._)("div",nd,[(0,i._)("div",rd,[(0,i._)("div",dd,[ud,(0,i._)("div",md,[(0,i._)("button",{class:"btn btn-primary btn-sm",onClick:t[3]||(t[3]=(...e)=>c.redirectToGeneratedChecklistPage&&c.redirectToGeneratedChecklistPage(...e))}," View All ")])]),(0,i._)("div",hd,[(0,i._)("div",pd,[o.result&&o.result.in_progress&&o.result.in_progress.length>0?((0,i.wg)(),(0,i.iD)("div",bd,[(0,i._)("ul",fd,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.result.in_progress,((e,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s,class:"list-group-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"}},[(0,i.Uk)((0,be.zw)(e.bom.product.name)+" - "+(0,be.zw)(e.updated_at)+" ",1),(0,i._)("i",{class:"fas fa-eye",onClick:t[4]||(t[4]=e=>c.InProgressRedirectToChecklist())})])))),128))])])):((0,i.wg)(),(0,i.iD)("div",gd,"None"))])])])]),(0,i._)("div",_d,[(0,i._)("div",kd,[(0,i._)("div",vd,[yd,(0,i._)("div",wd,[(0,i._)("button",{class:"btn btn-success btn-sm",onClick:t[5]||(t[5]=e=>c.redirectToGeneratedChecklistPage())}," View All ")])]),(0,i._)("div",Sd,[(0,i._)("div",Cd,[o.result&&o.result.completed_checklists&&o.result.completed_checklists.length>0?((0,i.wg)(),(0,i.iD)("div",Id,[(0,i._)("ul",Dd,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.result.completed_checklists,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"list-group-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"}},[(0,i.Uk)((0,be.zw)(e.bom.product.name)+" - "+(0,be.zw)(e.updated_at)+" ",1),(0,i._)("i",{class:"fas fa-eye",onClick:t=>c.CompletedRedirectToDetailsChecklist(e.id)},null,8,xd)])))),128))])])):((0,i.wg)(),(0,i.iD)("div",Rd,"None"))])])])])]),(0,i._)("div",Ud,[(0,i._)("div",Ld,[(0,i._)("div",Pd,[(0,i._)("div",$d,[Od,(0,i._)("div",Bd,[(0,i._)("button",{class:"btn btn-danger btn-sm",onClick:t[6]||(t[6]=(...e)=>c.redirectToGeneratedChecklistPage&&c.redirectToGeneratedChecklistPage(...e))}," View All ")])]),(0,i._)("div",Td,[(0,i._)("div",Nd,[o.result&&o.result.failed_checklists&&o.result.failed_checklists.length>0?((0,i.wg)(),(0,i.iD)("div",Md,[(0,i._)("ul",Ed,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.result.failed_checklists,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:"list-group-item d-flex justify-content-between align-items-center",onClick:t=>c.FailedRedirectToDetailsChecklist(e.id),style:{cursor:"pointer"}},[(0,i.Uk)((0,be.zw)(e.bom.product.name)+" - "+(0,be.zw)(e.updated_at)+" ",1),Ad],8,Wd)))),128))])])):((0,i.wg)(),(0,i.iD)("div",Fd,"None"))])])])]),qd]),(0,i._)("div",zd,[(0,i._)("div",Gd,[(0,i._)("div",Zd,[Vd,(0,i._)("div",Qd,[(0,i._)("div",Hd,[jd,(0,i.wy)((0,i._)("input",{id:"startDate",type:"date","onUpdate:modelValue":t[7]||(t[7]=e=>o.selectedStartDate=e),class:"form-control",placeholder:"Select start date",onInput:t[8]||(t[8]=(...e)=>c.validateDates&&c.validateDates(...e))},null,544),[[a.nr,o.selectedStartDate]])]),(0,i._)("div",Yd,[Kd,(0,i.wy)((0,i._)("input",{id:"endDate",type:"date","onUpdate:modelValue":t[9]||(t[9]=e=>o.selectedEndDate=e),class:"form-control",placeholder:"Select end date",onInput:t[10]||(t[10]=(...e)=>c.validateDates&&c.validateDates(...e))},null,544),[[a.nr,o.selectedEndDate]])]),o.errorMessage?((0,i.wg)(),(0,i.iD)("div",Jd,[Xd,(0,i.Uk)(" "+(0,be.zw)(o.errorMessage),1)])):(0,i.kq)("",!0)]),(0,i._)("div",eu,[tu,(0,i._)("button",{type:"button",class:"btn btn-success",onClick:t[11]||(t[11]=(...e)=>c.setSelectedOptionAndFetchData&&c.setSelectedOptionAndFetchData(...e)),disabled:c.isFetchButtonDisabled,"data-bs-dismiss":"modal"}," Fetch Checklists ",8,su)])])])])]))}var iu={components:{},data(){return{selectedOption:"Today",result:{},selectedCustomDate:null,selectedStartDate:"",selectedEndDate:"",errorMessage:""}},computed:{isFetchButtonDisabled(){return!this.selectedStartDate||!this.selectedEndDate||new Date(this.selectedStartDate)>new Date(this.selectedEndDate)||new Date(this.selectedStartDate)>new Date||new Date(this.selectedEndDate)>new Date}},mounted(){this.fetchData()},methods:{validateDates(){if(!this.selectedStartDate)return void(this.errorMessage="Please select a start date.");const e=new Date(this.selectedStartDate),t=new Date;if(e>t)return void(this.errorMessage="Start date cannot be in the future.");if(!this.selectedEndDate)return void(this.errorMessage="");const s=new Date(this.selectedEndDate);this.errorMessage=e>s?"Start date cannot be greater than end date.":s>t?"End date cannot be in the future.":""},selectOption(e){this.selectedOption=e,"Custom"!==this.selectOption&&this.fetchData()},async fetchData(){const e={selected_option:this.selectedOption,start_date:this.selectedStartDate,end_date:this.selectedEndDate};console.log(e.selected_option),console.log(e.start_date),console.log(e.end_date),this.$store.commit("setIsLoading",!0),await ce.Z.post("store/get-checklist-count/",e).then((e=>{this.result=e.data,console.log("backend data",this.result),this.$store.commit("setIsLoading",!1)})).catch((e=>{console.error(e),this.$store.commit("setIsLoading",!1)}))},setSelectedOptionAndFetchData(){this.selectedOption="Custom",this.validateDates(),""===this.errorMessage&&this.fetchData()},redirectToGeneratedChecklistPage(){const e=[...this.result.in_progress,...this.result.completed_checklists,...this.result.failed_checklists],t=e.find((e=>void 0!==e.bom?.id&&null!==e.bom?.id));if(t){const e=t.bom.id;console.log(e),this.$router.push(`/generated-checklists/${e}`)}else console.error("No valid id found in the checklists")},InProgressRedirectToChecklist(){const e=this.result?.in_progress?.[0]?.bom?.id;console.log(e),void 0!==e&&null!==e?this.$router.push(`/begin-checklist/${e}`):console.error("id is not available")},FailedRedirectToDetailsChecklist(e){void 0!==e&&null!==e?this.$router.push(`/checklist-details/${e}`):console.error("checklistId is not available")},CompletedRedirectToDetailsChecklist(e){void 0!==e&&null!==e?this.$router.push(`/checklist-details/${e}`):console.error("checklistId is not available")}}};const lu=(0,H.Z)(iu,[["render",au],["__scopeId","data-v-bbcef4d6"]]);var ou=lu;const cu={key:0,class:"container text-center"},nu=(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),ru=(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1),du=[nu,ru],uu={key:1,class:"container"},mu={class:"row align-items-center"},hu={class:"d-flex align-items-center mt-4"},pu=(0,i._)("h2",{class:"mb-0"},"Checklist Report",-1),bu=(0,i._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1),fu={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},gu={class:"breadcrumb bg-transparent m-0 p-0"},_u=(0,i._)("li",{class:"breadcrumb-item"},[(0,i._)("a",{href:"/"},[(0,i._)("i",{class:"fas fa-home me-1"}),(0,i.Uk)("Home")])],-1),ku={class:"breadcrumb-item active"},vu=(0,i._)("i",{class:"fas fa-chart-bar me-1"},null,-1),yu=(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fas fa-file-alt me-1"}),(0,i.Uk)(" Reports Checklist ")],-1);function wu(e,t,s,a,l,o){const c=(0,i.up)("router-link"),n=(0,i.up)("ChecklistReportTable");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",cu,du)):((0,i.wg)(),(0,i.iD)("div",uu,[(0,i._)("div",mu,[(0,i._)("div",hu,[pu,bu,(0,i._)("nav",fu,[(0,i._)("ol",gu,[_u,(0,i._)("li",ku,[(0,i.Wm)(c,{to:"/reports"},{default:(0,i.w5)((()=>[vu,(0,i.Uk)("Reports")])),_:1})]),yu])])])]),(0,i.Wm)(n,{checklists:l.checklists,style:{"margin-top":"20px"}},null,8,["checklists"])]))}const Su=e=>((0,i.dD)("data-v-06b23fdb"),e=e(),(0,i.Cn)(),e),Cu={class:"card card-outline card-primary mt-3"},Iu={class:"card-body"},Du={class:"row"},xu={class:"col-md-3 text-center"},Ru=Su((()=>(0,i._)("h6",{class:"lead"},"Total Completed",-1))),Uu={class:"display-6"},Lu={class:"col-md-3 text-center"},Pu=Su((()=>(0,i._)("h6",{class:"lead"},"Total In Progress",-1))),$u={class:"display-6"},Ou={class:"col-md-3 text-center"},Bu=Su((()=>(0,i._)("h6",{class:"lead"},"Total Failed",-1))),Tu={class:"display-6"},Nu={class:"col-md-3 text-center"},Mu=Su((()=>(0,i._)("h6",{class:"lead"},"Total Checklists",-1))),Eu={class:"display-6"};function Wu(e,t,s,a,l,o){const c=(0,i.up)("ag-grid-vue");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Cu,[(0,i._)("div",Iu,[(0,i._)("div",Du,[(0,i._)("div",xu,[Ru,(0,i._)("p",Uu,(0,be.zw)(l.total_completed),1)]),(0,i._)("div",Lu,[Pu,(0,i._)("p",$u,(0,be.zw)(l.total_in_progress),1)]),(0,i._)("div",Ou,[Bu,(0,i._)("p",Tu,(0,be.zw)(l.total_failed),1)]),(0,i._)("div",Nu,[Mu,(0,i._)("p",Eu,(0,be.zw)(l.total_checklists),1)])])])]),(0,i._)("div",null,[(0,i.Wm)(c,{style:{height:"500px"},class:"ag-theme-quartz",rowData:s.checklists,defaultColDef:l.defaultColDef,columnDefs:l.colDefs,pagination:!0,onFirstDataRendered:o.onFirstDataRendered,onGridReady:o.onGridReady},null,8,["rowData","defaultColDef","columnDefs","onFirstDataRendered","onGridReady"])])],64)}var Au={components:{AgGridVue:ht.n},props:{checklists:{type:Array,required:!0}},data(){return{colDefs:[{headerName:"Checklist ID",field:"id"},{headerName:"Unique Code",field:"unique_code",valueFormatter:function(e){return null===e.value?"null":e.value}},{headerName:"Product Name",field:"bom.product.name"},{headerName:"Product Code",field:"bom.product.product_code"},{headerName:"Updated At",field:"updated_at"},{headerName:"Updated By",valueGetter:function(e){if(console.log(e.data.updated_by),null!=e.data.updated_by){const t=e.data.updated_by.first_name||"",s=e.data.updated_by.last_name||"";return t||s?`${t} ${s}`:""}return""}},{headerName:"Created At",field:"created_at"},{headerName:"Created By",valueGetter:function(e){const t=e.data.created_by.first_name||"",s=e.data.created_by.last_name||"";return t||s?`${t} ${s}`:""}},{headerName:"Status",field:"status"},{headerName:"View",cellRenderer:this.viewButtonRenderer}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},gridApi:null,total_completed:0,total_in_progress:0,total_failed:0,total_checklists:0}},mounted(){},methods:{onFirstDataRendered(){this.calculateTotalSum(),this.gridApi.addEventListener("filterChanged",this.calculateTotalSum)},onGridReady(e){this.gridApi=e.api},calculateTotalSum(){let e=0,t=0,s=0;this.gridApi.forEachNodeAfterFilter((a=>{"Completed"==a.data.status?e+=1:"In Progress"==a.data.status?t+=1:s+=1})),this.total_completed=e,this.total_failed=s,this.total_in_progress=t,this.total_checklists=this.gridApi.getDisplayedRowCount()},viewButtonRenderer(e){const t=document.createElement("button");return t.innerHTML='<i class="fas fa-eye"></i>',t.classList.add("btn","btn-outline-secondary"),t.addEventListener("click",(()=>this.onViewClick(e.data))),t},onViewClick(e){"In Progress"===e.status?this.$router.push(`/begin-checklist/${e.bom.id}`):this.$router.push(`/checklist-details/${e.id}`)}}};const Fu=(0,H.Z)(Au,[["render",Wu],["__scopeId","data-v-06b23fdb"]]);var qu=Fu,zu={components:{ChecklistReportTable:qu},data(){return{checklists:[]}},mounted(){this.getChecklistReport()},methods:{async getChecklistReport(){console.log("run"),this.$store.commit("setIsLoading",!0),this.$store.commit("setIsLoading",!1),await ce.Z.get("store/get-checklist-report/").then((e=>{console.log(e.data),this.checklists=e.data.checklists,this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))}}};const Gu=(0,H.Z)(zu,[["render",wu]]);var Zu=Gu;const Vu=e=>((0,i.dD)("data-v-4239cd5f"),e=e(),(0,i.Cn)(),e),Qu={key:0,class:"container text-center"},Hu=Vu((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),ju=Vu((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),Yu=[Hu,ju],Ku={key:1,class:"container"},Ju={class:"row align-items-center"},Xu={class:"col-md-6 mt-4"},em={class:"d-flex align-items-center"},tm=Vu((()=>(0,i._)("h2",{class:"mb-0"},"Users",-1))),sm=Vu((()=>(0,i._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),am={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},im={class:"breadcrumb bg-transparent m-0 p-0"},lm={class:"breadcrumb-item"},om=Vu((()=>(0,i._)("i",{class:"fas fa-home me-1"},null,-1))),cm=Vu((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fas fa-users me-1"}),(0,i.Uk)("Users ")],-1))),nm={class:"col-md-6 mt-4 text-end"},rm=Vu((()=>(0,i._)("i",{class:"fas fa-user-plus me-1"},null,-1))),dm={class:"container mt-5"},um={class:"table table-hover"},mm=Vu((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Email"),(0,i._)("th",null,"Actions")])],-1))),hm=["onClick"],pm=Vu((()=>(0,i._)("i",{class:"fas fa-edit me-1"},null,-1))),bm=["onClick"],fm=Vu((()=>(0,i._)("i",{class:"fas fa-trash-alt me-1"},null,-1)));function gm(e,t,s,a,l,o){const c=(0,i.up)("router-link");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",Qu,Yu)):((0,i.wg)(),(0,i.iD)("div",Ku,[(0,i._)("div",Ju,[(0,i._)("div",Xu,[(0,i._)("div",em,[tm,sm,(0,i._)("nav",am,[(0,i._)("ol",im,[(0,i._)("li",lm,[(0,i.Wm)(c,{to:"/"},{default:(0,i.w5)((()=>[om,(0,i.Uk)(" Home")])),_:1})]),cm])])])]),(0,i._)("div",nm,[(0,i.Wm)(c,{to:"/users/create-user",class:"btn btn-primary btn-sm ms-2"},{default:(0,i.w5)((()=>[rm,(0,i.Uk)(" Create New User ")])),_:1})])]),(0,i._)("div",dm,[(0,i._)("table",um,[mm,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.userList,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id,onClick:t=>o.redirectToEditPage(e.id)},[(0,i._)("td",null,(0,be.zw)(e.email),1),(0,i._)("td",null,[(0,i.Wm)(c,{to:{name:"EditUser",params:{id:e.id}},class:"btn btn-primary btn-sm"},{default:(0,i.w5)((()=>[pm,(0,i.Uk)(" Edit ")])),_:2},1032,["to"]),(0,i._)("button",{onClick:t=>o.deleteUser(t,e.id),class:"btn btn-danger btn-sm ml-3"},[fm,(0,i.Uk)(" Delete ")],8,bm)])],8,hm)))),128))])])])]))}var _m={name:"UserManagement",data(){return{userList:[]}},mounted(){this.fetchUsers()},methods:{fetchUsers(){this.$store.commit("setIsLoading",!0),ce.Z.get("/accounts/users/").then((e=>{console.log("response.data",e.data),this.userList=e.data,this.$store.commit("setIsLoading",!1)})).catch((e=>{console.error("Error fetching users:",e),this.$store.commit("setIsLoading",!1)}))},redirectToEditPage(e){this.$router.push({name:"EditUser",params:{id:e}})},deleteUser(e,t){e.stopPropagation(),confirm("Are you sure you want to delete this user?")&&ce.Z.delete(`/accounts/users/delete/${t}/`).then((()=>{console.log("User deleted successfully."),alert("User Deleted successfully!"),this.fetchUsers(),this.$router.push("/users")})).catch((e=>{alert("error deleting!"),console.error("Error deleting user:",e)}))}}};const km=(0,H.Z)(_m,[["render",gm],["__scopeId","data-v-4239cd5f"]]);var vm=km;const ym=e=>((0,i.dD)("data-v-0b829e38"),e=e(),(0,i.Cn)(),e),wm={key:0,class:"container text-center"},Sm=ym((()=>(0,i._)("div",{class:"spinner-border mt-5",style:{width:"4rem",height:"4rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),Cm=ym((()=>(0,i._)("div",null,[(0,i._)("b",null," Loading... ")],-1))),Im=[Sm,Cm],Dm={key:1,class:"container"},xm={class:"row align-items-center"},Rm={class:"col-md-6 mt-4"},Um={class:"d-flex align-items-center"},Lm=ym((()=>(0,i._)("h2",{class:"mb-0"},"Users",-1))),Pm=ym((()=>(0,i._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),$m={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},Om={class:"breadcrumb bg-transparent m-0 p-0"},Bm={class:"breadcrumb-item"},Tm=ym((()=>(0,i._)("i",{class:"fas fa-home me-1"},null,-1))),Nm={class:"breadcrumb-item"},Mm=ym((()=>(0,i._)("i",{class:"fas fa-users me-1"},null,-1))),Em=ym((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fas fa-edit me-1"}),(0,i.Uk)(" Edit User ")],-1))),Wm={class:"col-md-6 mt-4 text-end"},Am=ym((()=>(0,i._)("i",{class:"fas fa-save me-1"},null,-1))),Fm=ym((()=>(0,i._)("i",{class:"fas fa-trash me-1"},null,-1))),qm={class:"card animate__animated animate__fadeIn mt-5"},zm=ym((()=>(0,i._)("div",{class:"card-header bg-primary text-white"},[(0,i._)("h4",{class:"card-title"},[(0,i._)("i",{class:"fas fa-user me-1"}),(0,i.Uk)(" User Information ")])],-1))),Gm={class:"card-body"},Zm={class:"mb-3"},Vm=ym((()=>(0,i._)("label",{for:"email",class:"form-label"},"Email:",-1))),Qm={class:"input-group"},Hm=ym((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-envelope"})],-1))),jm={key:0,class:"text-danger"},Ym={class:"mb-3 row"},Km={class:"col"},Jm=ym((()=>(0,i._)("label",{for:"first_name",class:"form-label"},"First Name:",-1))),Xm={class:"input-group"},eh=ym((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-user"})],-1))),th={key:0,class:"text-danger"},sh={class:"col"},ah=ym((()=>(0,i._)("label",{for:"last_name",class:"form-label"},"Last Name:",-1))),ih={class:"input-group"},lh=ym((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-user"})],-1))),oh={class:"mb-3"},ch=ym((()=>(0,i._)("label",{for:"phone_number",class:"form-label"},"Phone Number:",-1))),nh={class:"input-group"},rh=ym((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-phone"})],-1))),dh={class:"mb-3 row"},uh={class:"col"},mh={class:"form-check"},hh=ym((()=>(0,i._)("label",{class:"form-check-label",for:"is_superuser"},[(0,i._)("i",{class:"fas fa-user-shield me-1"}),(0,i.Uk)(" Is Admin")],-1))),ph={class:"col"},bh={class:"form-check"},fh=["disabled"],gh=ym((()=>(0,i._)("label",{class:"form-check-label",for:"is_staff"},[(0,i._)("i",{class:"fas fa-user-cog me-1"}),(0,i.Uk)(" Is Staff")],-1)));function _h(e,t,s,l,o,c){const n=(0,i.up)("router-link");return e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",wm,Im)):((0,i.wg)(),(0,i.iD)("div",Dm,[(0,i._)("div",xm,[(0,i._)("div",Rm,[(0,i._)("div",Um,[Lm,Pm,(0,i._)("nav",$m,[(0,i._)("ol",Om,[(0,i._)("li",Bm,[(0,i.Wm)(n,{to:"/"},{default:(0,i.w5)((()=>[Tm,(0,i.Uk)(" Home")])),_:1})]),(0,i._)("li",Nm,[(0,i.Wm)(n,{to:"/users"},{default:(0,i.w5)((()=>[Mm,(0,i.Uk)(" Users")])),_:1})]),Em])])])]),(0,i._)("div",Wm,[(0,i._)("button",{type:"submit",class:"btn btn-success btn-sm",onClick:t[0]||(t[0]=(...e)=>c.updateUser&&c.updateUser(...e))},[Am,(0,i.Uk)(" Save Changes ")]),(0,i._)("button",{type:"button",class:"btn btn-danger ms-2 btn-sm",onClick:t[1]||(t[1]=(...e)=>c.deleteUser&&c.deleteUser(...e))},[Fm,(0,i.Uk)(" Delete User ")])])]),(0,i._)("div",qm,[zm,(0,i._)("div",Gm,[(0,i._)("div",Zm,[Vm,(0,i._)("div",Qm,[Hm,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.editedUser.email=e),type:"email",class:"form-control",id:"email",required:""},null,512),[[a.nr,o.editedUser.email]])]),o.editedUser.email?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("small",jm,"Email is required."))]),(0,i._)("div",Ym,[(0,i._)("div",Km,[Jm,(0,i._)("div",Xm,[eh,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.editedUser.first_name=e),type:"text",class:"form-control",id:"first_name",required:""},null,512),[[a.nr,o.editedUser.first_name]])]),o.editedUser.first_name?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("small",th,"First Name is required."))]),(0,i._)("div",sh,[ah,(0,i._)("div",ih,[lh,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.editedUser.last_name=e),type:"text",class:"form-control",id:"last_name"},null,512),[[a.nr,o.editedUser.last_name]])])])]),(0,i._)("div",oh,[ch,(0,i._)("div",nh,[rh,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.editedUser.phone_number=e),type:"tel",class:"form-control",id:"phone_number"},null,512),[[a.nr,o.editedUser.phone_number]])])]),(0,i._)("div",dh,[(0,i._)("div",uh,[(0,i._)("div",mh,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.editedUser.is_superuser=e),onChange:t[7]||(t[7]=(...e)=>c.updateIsStaff&&c.updateIsStaff(...e)),type:"checkbox",class:"form-check-input",id:"is_superuser"},null,544),[[a.e8,o.editedUser.is_superuser]]),hh])]),(0,i._)("div",ph,[(0,i._)("div",bh,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.editedUser.is_staff=e),disabled:o.editedUser.is_superuser,type:"checkbox",class:"form-check-input",id:"is_staff"},null,8,fh),[[a.e8,o.editedUser.is_staff]]),gh])])])])])]))}var kh={name:"EditUser",data(){return{userId:null,editedUser:{email:"",first_name:"",last_name:"",phone_number:"",is_superuser:!1,is_staff:!1}}},mounted(){this.userId=this.$route.params.id,this.fetchUserData()},methods:{fetchUserData(){this.$store.commit("setIsLoading",!0),ce.Z.get(`/accounts/users/${this.userId}/`).then((e=>{console.log("edit user response data",e.data),this.editedUser=e.data,this.$store.commit("setIsLoading",!1)})).catch((e=>{this.$store.commit("setIsLoading",!1),console.error("Error fetching user data:",e)}))},updateIsStaff(){this.editedUser.is_superuser&&(this.editedUser.is_staff=!0)},updateUser(){confirm("Are you sure you want to update this user?")&&(this.$store.commit("setIsLoading",!0),ce.Z.put(`/accounts/users/update/${this.userId}/`,this.editedUser).then((e=>{console.log("User updated successfully:",e.data),this.$store.commit("setIsLoading",!1),alert("User Updated successfully!")})).catch((e=>{console.error("Error updating user:",e),this.$store.commit("setIsLoading",!1)})))},deleteUser(){confirm("Are you sure you want to delete this user?")&&(this.$store.commit("setIsLoading",!0),ce.Z.delete(`/accounts/users/delete/${this.userId}/`).then((()=>{console.log("User deleted successfully."),this.$store.commit("setIsLoading",!1),alert("User Deleted successfully!"),this.$router.push("/users")})).catch((e=>{alert("error deleting!"),console.error("Error deleting user:",e)})))}}};const vh=(0,H.Z)(kh,[["render",_h],["__scopeId","data-v-0b829e38"]]);var yh=vh;const wh=e=>((0,i.dD)("data-v-1ac747f3"),e=e(),(0,i.Cn)(),e),Sh={class:"container"},Ch={class:"row align-items-center"},Ih={class:"col-md-6 mt-4"},Dh={class:"d-flex align-items-center"},xh=wh((()=>(0,i._)("h2",{class:"mb-0"},"Users",-1))),Rh=wh((()=>(0,i._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),Uh={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},Lh={class:"breadcrumb bg-transparent m-0 p-0"},Ph={class:"breadcrumb-item"},$h=wh((()=>(0,i._)("i",{class:"fas fa-home me-1"},null,-1))),Oh={class:"breadcrumb-item"},Bh=wh((()=>(0,i._)("i",{class:"fas fa-users me-1"},null,-1))),Th=wh((()=>(0,i._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,i._)("i",{class:"fa fa-user-plus"}),(0,i.Uk)(" Create User ")],-1))),Nh={class:"col-md-6 mt-4 text-end"},Mh=wh((()=>(0,i._)("i",{class:"fas fa-save me-1"},null,-1))),Eh={class:"card animate__animated animate__fadeIn mt-5"},Wh=wh((()=>(0,i._)("div",{class:"card-header bg-primary text-white"},[(0,i._)("h4",{class:"card-title"},[(0,i._)("i",{class:"fas fa-user"}),(0,i.Uk)(" User Information")])],-1))),Ah={class:"card-body"},Fh={class:"mb-3"},qh=wh((()=>(0,i._)("label",{for:"email",class:"form-label"},"Email:",-1))),zh={class:"input-group"},Gh=wh((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-envelope"})],-1))),Zh={key:0,class:"text-danger"},Vh={class:"mb-3"},Qh=wh((()=>(0,i._)("label",{for:"password",class:"form-label"},"Password:",-1))),Hh={class:"input-group"},jh=wh((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-lock"})],-1))),Yh={key:0,class:"text-danger"},Kh={key:1,class:"text-danger"},Jh=wh((()=>(0,i._)("i",{class:"fas fa-exclamation-triangle"},null,-1))),Xh={class:"mb-3 row"},ep={class:"col"},tp=wh((()=>(0,i._)("label",{for:"first_name",class:"form-label"},"First Name:",-1))),sp={class:"input-group"},ap=wh((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-user"})],-1))),ip={key:0,class:"text-danger"},lp={class:"col"},op=wh((()=>(0,i._)("label",{for:"last_name",class:"form-label"},"Last Name:",-1))),cp={class:"input-group"},np=wh((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-user"})],-1))),rp={class:"mb-3"},dp=wh((()=>(0,i._)("label",{for:"phone_number",class:"form-label"},"Phone Number:",-1))),up={class:"input-group"},mp=wh((()=>(0,i._)("span",{class:"input-group-text"},[(0,i._)("i",{class:"fas fa-phone"})],-1))),hp={class:"mb-3 row"},pp={class:"col"},bp={class:"form-check"},fp=wh((()=>(0,i._)("label",{class:"form-check-label",for:"is_superuser"},"Is Admin",-1))),gp={class:"col"},_p={class:"form-check"},kp=wh((()=>(0,i._)("label",{class:"form-check-label",for:"is_staff"},"Is Staff",-1)));function vp(e,t,s,l,o,c){const n=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Sh,[(0,i._)("div",Ch,[(0,i._)("div",Ih,[(0,i._)("div",Dh,[xh,Rh,(0,i._)("nav",Uh,[(0,i._)("ol",Lh,[(0,i._)("li",Ph,[(0,i.Wm)(n,{to:"/"},{default:(0,i.w5)((()=>[$h,(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",Oh,[(0,i.Wm)(n,{to:"/users"},{default:(0,i.w5)((()=>[Bh,(0,i.Uk)("Users")])),_:1})]),Th])])])]),(0,i._)("div",Nh,[(0,i._)("button",{type:"submit",class:"btn btn-success btn-sm",onClick:t[0]||(t[0]=(...e)=>c.createUser&&c.createUser(...e))},[Mh,(0,i.Uk)(" Create User ")])])]),(0,i._)("div",Eh,[Wh,(0,i._)("div",Ah,[(0,i._)("div",Fh,[qh,(0,i._)("div",zh,[Gh,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.newUser.email=e),type:"email",class:"form-control",id:"email",required:""},null,512),[[a.nr,o.newUser.email]])]),!o.newUser.email&&o.formSubmitted?((0,i.wg)(),(0,i.iD)("small",Zh," Email is required. ")):(0,i.kq)("",!0)]),(0,i._)("div",Vh,[Qh,(0,i._)("div",Hh,[jh,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newUser.password=e),type:"password",class:"form-control",id:"password",required:"",onFocus:t[3]||(t[3]=(...e)=>c.clearPasswordError&&c.clearPasswordError(...e))},null,544),[[a.nr,o.newUser.password]])]),!o.newUser.password&&o.formSubmitted?((0,i.wg)(),(0,i.iD)("small",Yh," Password is required. ")):(0,i.kq)("",!0),o.passwordAuthenticationError?((0,i.wg)(),(0,i.iD)("div",Kh,[(0,i._)("strong",null,[Jh,(0,i.Uk)(" "+(0,be.zw)(o.passwordAuthenticationError),1)])])):(0,i.kq)("",!0)]),(0,i._)("div",Xh,[(0,i._)("div",ep,[tp,(0,i._)("div",sp,[ap,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newUser.first_name=e),type:"text",class:"form-control",id:"first_name",required:""},null,512),[[a.nr,o.newUser.first_name]])]),!o.newUser.first_name&&o.formSubmitted?((0,i.wg)(),(0,i.iD)("small",ip," First Name is required. ")):(0,i.kq)("",!0)]),(0,i._)("div",lp,[op,(0,i._)("div",cp,[np,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.newUser.last_name=e),type:"text",class:"form-control",id:"last_name",required:""},null,512),[[a.nr,o.newUser.last_name]])])])]),(0,i._)("div",rp,[dp,(0,i._)("div",up,[mp,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.newUser.phone_number=e),type:"tel",class:"form-control",id:"phone_number"},null,512),[[a.nr,o.newUser.phone_number]])])]),(0,i._)("div",hp,[(0,i._)("div",pp,[(0,i._)("div",bp,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.newUser.is_superuser=e),type:"checkbox",class:"form-check-input",id:"is_superuser"},null,512),[[a.e8,o.newUser.is_superuser]]),fp])]),(0,i._)("div",gp,[(0,i._)("div",_p,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.newUser.is_staff=e),type:"checkbox",class:"form-check-input",id:"is_staff"},null,512),[[a.e8,o.newUser.is_staff]]),kp])])])])])])}var yp={name:"CreateUser",data(){return{newUser:{email:"",password:"",first_name:"",last_name:"",phone_number:"",is_superuser:!1,is_staff:!1},formSubmitted:!1,passwordAuthenticationError:null}},methods:{createUser(){this.formSubmitted=!0,this.passwordAuthenticationError=null,this.newUser.email&&this.newUser.password&&this.newUser.first_name&&ce.Z.post("/accounts/users/create/",this.newUser).then((e=>{console.log("User created successfully:",e.data),alert("User created successfully!"),this.$router.push("/users")})).catch((e=>{e.response&&e.response.data.password?this.passwordAuthenticationError=e.response.data.password[0]:console.error("Error creating user:",e)}))},clearPasswordError(){this.passwordAuthenticationError=null}}};const wp=(0,H.Z)(yp,[["render",vp],["__scopeId","data-v-1ac747f3"]]);var Sp=wp;const Cp=[{path:"/",name:"Home",component:ou},{path:"/login",name:"LoginForm",component:de},{path:"/bom",name:"BomLanding",component:kt},{path:"/bom/upload",name:"UploadBom",component:st},{path:"/CheckList",name:"CheckList",component:Fs},{path:"/reports",name:"ReportsList",component:xr},{path:"/dashboard",name:"CheckListsDashboard",component:ou},{path:"/checklist-report",name:"ChecklistReport",component:Zu},{path:"/bom/edit/:id",name:"BomLineLevel",component:hs,props:!0},{path:"/begin-checklist/:id",name:"begin-checklist",component:so,props:!0},{path:"/generated-checklists/:id",name:"generated-checklist",component:xo,props:!0},{path:"/checklist-details/:id",name:"checklist-details",component:kr,props:!0},{path:"/users",name:"users",component:vm},{path:"/users/edit-user/:id",name:"EditUser",component:yh},{path:"/users/create-user",name:"CreateUser",component:Sp}],Ip=(0,pe.p7)({history:(0,pe.PO)("/"),routes:Cp});var Dp=Ip,xp=s(65);const Rp=(0,xp.MT)({state:{user:{token:"",isAuthenticated:!1,username:"",password:""},isLoading:!1},mutations:{initializeStore(e){localStorage.getItem("token")?(e.user.token=localStorage.getItem("token"),ce.Z.defaults.headers.common["Authorization"]="Token "+e.user.token,e.user.isAuthenticated=!0):(e.user.token="",e.user.isAuthenticated=!1),e.isLoading=!1},setToken(e,t){e.user.token=t,ce.Z.defaults.headers.common["Authorization"]="Token "+e.user.token,e.user.isAuthenticated=!0},setIsLoading(e,t){e.isLoading=t},removeToken(e){e.user.token="",e.user.profile={},e.user.isAuthenticated=!1,localStorage.removeItem("token"),ce.Z.defaults.headers.common["Authorization"]=""},setAuthentication(e,t){e.user.isAuthenticated=t}},actions:{},modules:{}});Rp.commit("initializeStore");var Up=Rp,Lp=s(1037);s(8830),s(5572);ce.Z.defaults.baseURL="https://sfcsdev.xtractautomation.com/api/v1/";const Pp=(0,a.ri)(he);Pp.use(Up).use(Dp).use(Lp.ZP),Pp.mount("#app")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,l){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],l=e[d][2];for(var c=!0,n=0;n<a.length;n++)(!1&l||o>=l)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(c=!1,l<o&&(o=l));if(c){e.splice(d--,1);var r=i();void 0!==r&&(t=r)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,i,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,l,o=a[0],c=a[1],n=a[2],r=0;if(o.some((function(t){return 0!==e[t]}))){for(i in c)s.o(c,i)&&(s.m[i]=c[i]);if(n)var d=n(s)}for(t&&t(a);r<o.length;r++)l=o[r],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},a=self["webpackChunksfcs_checklist"]=self["webpackChunksfcs_checklist"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4515)}));a=s.O(a)})();
//# sourceMappingURL=app.4567a18e.js.map