(function(){"use strict";var e={3844:function(e,t,s){var a=s(9242),l=s(3396);const i={key:0,id:"app"},c={key:1};function o(e,t,s,a,o,n){const r=(0,l.up)("LoginForm"),d=(0,l.up)("AdminLte"),u=(0,l.up)("notifications");return(0,l.wg)(),(0,l.iD)("div",null,[e.$store.state.user.isAuthenticated?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(d)])):((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(r)])),(0,l.Wm)(u,{position:"bottom right",classes:"alert"})])}const n=e=>((0,l.dD)("data-v-f13a17da"),e=e(),(0,l.Cn)(),e),r={class:"wrapper"},d={class:"main-header navbar navbar-expand navbar-white navbar-light"},u={class:"navbar-nav"},m=n((()=>(0,l._)("li",{class:"nav-item"},[(0,l._)("a",{class:"nav-link","data-widget":"pushmenu",href:"#",role:"button"},[(0,l._)("i",{class:"fas fa-bars"})])],-1))),h={class:"nav-item"},p=n((()=>(0,l._)("i",{class:"fas fa-home"},null,-1))),f={class:"navbar-nav ml-auto"},b={class:"nav-item"},_=n((()=>(0,l._)("i",{class:"fas fa-sign-out-alt"},null,-1))),g=[_],k={class:"main-sidebar sidebar-dark-primary elevation-4"},v=n((()=>(0,l._)("a",{href:"/",class:"brand-link"},[(0,l._)("img",{src:"https://content.jdmagicbox.com/comp/bangalore/73/080ppe03673/catalogue/velankani-software-pvt-ltd-electronic-city-bangalore-computer-software-developers-2rgz2h5-250.jpg",alt:"AdminLTE Logo",class:"brand-image img-circle elevation-3",style:{opacity:"0.8"}}),(0,l._)("span",{class:"brand-text font-weight-light"},"Velankani SFCS")],-1))),y={class:"sidebar"},w={class:"mt-2"},S={class:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},C={class:"nav-item text-left"},D=n((()=>(0,l._)("a",{href:"#",class:"nav-link"},[(0,l._)("i",{class:"nav-icon fas fa-users"}),(0,l._)("p",null,[(0,l.Uk)(" Accounts "),(0,l._)("i",{class:"right fas fa-angle-left"})])],-1))),I={class:"nav nav-treeview"},x={class:"nav-item"},R=n((()=>(0,l._)("i",{class:"far fa-circle nav-icon"},null,-1))),P=n((()=>(0,l._)("p",null,"Users",-1))),U={class:"nav-item text-left"},O=n((()=>(0,l._)("a",{href:"#",class:"nav-link"},[(0,l._)("i",{class:"nav-icon fas fa-store"}),(0,l._)("p",null,[(0,l.Uk)(" Store "),(0,l._)("i",{class:"right fas fa-angle-left"})])],-1))),B={class:"nav nav-treeview"},T={class:"nav-item"},L=n((()=>(0,l._)("i",{class:"far fa-circle nav-icon"},null,-1))),N=n((()=>(0,l._)("p",null,"Dashboard",-1))),$={class:"nav-item"},M=n((()=>(0,l._)("i",{class:"far fa-circle nav-icon"},null,-1))),E=n((()=>(0,l._)("p",null,"Bill Of Materials",-1))),W={class:"nav-item"},A=n((()=>(0,l._)("i",{class:"far fa-circle nav-icon"},null,-1))),F=n((()=>(0,l._)("p",null,"Checklist",-1))),q={class:"nav-item"},z=n((()=>(0,l._)("i",{class:"far fa-circle nav-icon"},null,-1))),G=n((()=>(0,l._)("p",null,"Reports",-1))),Z={class:"content-wrapper"},V={key:0},j=n((()=>(0,l._)("div",{class:"text-center mt-6"},[(0,l._)("div",{class:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"},[(0,l._)("span",{class:"visually-hidden"},"Loading...")])],-1))),H=[j],Q={key:1};function Y(e,t,s,a,i,c){const o=(0,l.up)("router-link"),n=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("nav",d,[(0,l._)("ul",u,[m,(0,l._)("li",h,[(0,l.Wm)(o,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[p])),_:1})])]),(0,l._)("ul",f,[(0,l._)("li",b,[(0,l._)("a",{href:"#",class:"nav-link",onClick:t[0]||(t[0]=(...e)=>c.logout&&c.logout(...e))},g)])])]),(0,l._)("aside",k,[v,(0,l._)("div",y,[(0,l._)("nav",w,[(0,l._)("ul",S,[(0,l._)("li",C,[D,(0,l._)("ul",I,[(0,l._)("li",x,[(0,l.Wm)(o,{to:"/users",class:"nav-link"},{default:(0,l.w5)((()=>[R,P])),_:1})])])]),(0,l._)("li",U,[O,(0,l._)("ul",B,[(0,l._)("li",T,[(0,l.Wm)(o,{to:"/dashboard",class:"nav-link"},{default:(0,l.w5)((()=>[L,N])),_:1})]),(0,l._)("li",$,[(0,l.Wm)(o,{to:"/bom",class:"nav-link"},{default:(0,l.w5)((()=>[M,E])),_:1})]),(0,l._)("li",W,[(0,l.Wm)(o,{to:"/checklist",class:"nav-link"},{default:(0,l.w5)((()=>[A,F])),_:1})]),(0,l._)("li",q,[(0,l.Wm)(o,{to:"/reports",class:"nav-link"},{default:(0,l.w5)((()=>[z,G])),_:1})])])])])])])]),(0,l._)("div",Z,[e.$store.state.isLoading?((0,l.wg)(),(0,l.iD)("div",V,H)):((0,l.wg)(),(0,l.iD)("div",Q,[(0,l.Wm)(n)]))])])}var K={methods:{logout(){this.$store.commit("removeToken"),window.location.href="/login"}}},J=s(89);const X=(0,J.Z)(K,[["render",Y],["__scopeId","data-v-f13a17da"]]);var ee=X;const te=e=>((0,l.dD)("data-v-32196d7e"),e=e(),(0,l.Cn)(),e),se={class:"container"},ae={class:"login"},le=te((()=>(0,l._)("h1",null,"Velankani SFCS",-1))),ie={class:"input-box"},ce=te((()=>(0,l._)("i",{class:"fa fa-envelope"},null,-1))),oe={class:"input-box"},ne=te((()=>(0,l._)("i",{class:"fa fa-lock"},null,-1))),re=te((()=>(0,l._)("button",{type:"submit"},"LOGIN",-1)));function de(e,t,s,i,c,o){return(0,l.wg)(),(0,l.iD)("div",se,[(0,l._)("div",ae,[le,(0,l._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[(0,l._)("div",ie,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.email=e),type:"email",placeholder:"Email"},null,512),[[a.nr,c.email]]),ce]),(0,l._)("div",oe,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.password=e),type:"password",placeholder:"Password"},null,512),[[a.nr,c.password]]),ne]),re],32)])])}s(560);var ue=s(1076),me={data(){return{email:"",password:"",errors:[]}},methods:{async handleSubmit(){if(this.$store.commit("setIsLoading",!0),this.errors=[],""===this.email&&this.errors.push("The email is missing!"),""===this.password&&this.errors.push("The password is missing!"),this.errors.length)this.$store.commit("setIsLoading",!1);else{const e={email:this.email,password:this.password};await ue.Z.post("token/login/",e).then((e=>{this.$notify({title:"Login successful",type:"alert-success",duration:5e3}),setTimeout((()=>{const t=e.data.auth_token;this.$store.commit("setToken",t),ue.Z.defaults.headers.common["Authorization"]="Token "+t,localStorage.setItem("token",t),console.log("Received Token:",t),window.location.href="/dashboard"}),1e3)})).catch((e=>{this.$notify({title:"Login failed. Please check your credentials.",type:"alert-danger",duration:5e3}),console.error("Login failed:",e.response.data),this.errors.push("Login failed. Please check your credentials.")})).finally((()=>{this.$store.commit("setIsLoading",!1)}))}}}};const he=(0,J.Z)(me,[["render",de],["__scopeId","data-v-32196d7e"]]);var pe=he,fe={name:"App",components:{LoginForm:pe,AdminLte:ee},data(){return{isLoggedIn:!1}},computed:{activeRoute(){return this.$route.path}},methods:{}};const be=(0,J.Z)(fe,[["render",o]]);var _e=be,ge=(s(8052),s(2483)),ke=s(7139);const ve=e=>((0,l.dD)("data-v-f734b678"),e=e(),(0,l.Cn)(),e),ye={class:"container"},we=ve((()=>(0,l._)("h1",{class:"text-center mb-4"},[(0,l._)("i",{class:"fas fa-file-upload mr-2"}),(0,l.Uk)(" Upload the BOM ")],-1))),Se={class:"card p-3 mb-4"},Ce={class:"row mb-3"},De={class:"col-md-6"},Ie=ve((()=>(0,l._)("label",{for:"productName",class:"form-label"},"Product Name",-1))),xe={class:"col-md-6"},Re=ve((()=>(0,l._)("label",{for:"productCode",class:"form-label"},"Product Code",-1))),Pe={class:"row mb-3"},Ue={class:"col-md-6"},Oe=ve((()=>(0,l._)("label",{for:"bomType",class:"form-label"},"BOM Type",-1))),Be={class:"col-md-6"},Te=ve((()=>(0,l._)("label",{for:"bomRevNo",class:"form-label"},"BOM REV No",-1))),Le={class:"row mb-3"},Ne={class:"col-md-6"},$e=ve((()=>(0,l._)("label",{for:"issueDate",class:"form-label"},"Issue Date",-1))),Me={class:"col-md-6"},Ee=ve((()=>(0,l._)("label",{for:"productRevNo",class:"form-label"},"Product Rev No",-1))),We={class:"card p-3 mb-4"},Ae=ve((()=>(0,l._)("label",{for:"fileInput",class:"form-label"},[(0,l._)("i",{class:"fas fa-cloud-upload-alt mr-2"}),(0,l.Uk)(" Choose BOM Excel file ")],-1))),Fe={class:"custom-file"},qe={class:"custom-file-label",for:"fileInput"},ze={class:"card p-3"};function Ge(e,t,s,i,c,o){return(0,l.wg)(),(0,l.iD)("div",ye,[we,(0,l._)("section",Se,[(0,l._)("div",Ce,[(0,l._)("div",De,[Ie,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"productName","onUpdate:modelValue":t[0]||(t[0]=e=>c.productName=e),required:""},null,512),[[a.nr,c.productName]])]),(0,l._)("div",xe,[Re,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"productCode","onUpdate:modelValue":t[1]||(t[1]=e=>c.productCode=e),required:""},null,512),[[a.nr,c.productCode]])])]),(0,l._)("div",Pe,[(0,l._)("div",Ue,[Oe,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"bomType","onUpdate:modelValue":t[2]||(t[2]=e=>c.bomType=e),required:""},null,512),[[a.nr,c.bomType]])]),(0,l._)("div",Be,[Te,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"bomRevNo","onUpdate:modelValue":t[3]||(t[3]=e=>c.bomRevNo=e),required:""},null,512),[[a.nr,c.bomRevNo]])])]),(0,l._)("div",Le,[(0,l._)("div",Ne,[$e,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",id:"issueDate","onUpdate:modelValue":t[4]||(t[4]=e=>c.issueDate=e),required:""},null,512),[[a.nr,c.issueDate]])]),(0,l._)("div",Me,[Ee,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"productRevNo","onUpdate:modelValue":t[5]||(t[5]=e=>c.productRevNo=e),required:""},null,512),[[a.nr,c.productRevNo]])])])]),(0,l._)("div",We,[Ae,(0,l._)("div",Fe,[(0,l._)("input",{type:"file",class:"custom-file-input",id:"fileInput",onChange:t[6]||(t[6]=(...e)=>o.handleFileUpload&&o.handleFileUpload(...e)),accept:".xls, .xlsx",required:""},null,32),(0,l._)("label",qe,(0,ke.zw)(c.uploadedFileName||"Select file"),1)])]),(0,l._)("div",ze,[(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>o.submitForm&&o.submitForm(...e))}," Upload BOM ")])])}var Ze={data(){return{productName:"",productCode:"",bomType:"",bomRevNo:"",issueDate:"",productRevNo:"",uploadedFileName:null,uploadedFile:null}},methods:{async submitForm(){this.$store.commit("setIsLoading",!0);const e=new FormData;e.append("product_name",this.productName),e.append("product_code",this.productCode),e.append("product_rev_no",this.productRevNo),e.append("bom_type",this.bomType),e.append("bom_rev_no",this.bomRevNo),e.append("issue_date",this.issueDate),e.append("bom_file",this.uploadedFile),await ue.Z.post("store/upload-bom/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data),this.$notify({title:"BOM Uploaded Successfully",type:"bg-success-subtle text-success",duration:"5000"}),this.$router.push("/bom"),this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))},handleFileUpload(e){const t=e.target.files[0];t&&(console.log("Uploaded file:",t),this.uploadedFileName=t.name,this.uploadedFile=t)}}};const Ve=(0,J.Z)(Ze,[["render",Ge],["__scopeId","data-v-f734b678"]]);var je=Ve;const He={class:"container"},Qe={class:"row align-items-center"},Ye=(0,l.uE)('<div class="col-md-6 mt-4"><div class="d-flex align-items-center"><h2 class="mb-0">Bill Of Materials</h2><span class="ms-3 fs-4 text-muted">|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3"><ol class="breadcrumb bg-transparent m-0 p-0"><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item active" aria-current="page"> Bill Of Materials </li></ol></nav></div></div>',1),Ke={class:"col-md-6 d-flex justify-content-end mt-4"};function Je(e,t,s,a,i,c){const o=(0,l.up)("router-link"),n=(0,l.up)("BomDetailsTable");return(0,l.wg)(),(0,l.iD)("div",He,[(0,l._)("div",Qe,[Ye,(0,l._)("div",Ke,[(0,l.Wm)(o,{to:"/bom/upload",class:"btn btn-primary btn-sm ms-2"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Upload BOM ")])),_:1})])]),(0,l.Wm)(n,{style:{"margin-top":"20px"},onRowClicked:c.handleRowClicked,onRowSelected:c.handleRowSelected},null,8,["onRowClicked","onRowSelected"])])}function Xe(e,t,s,a,i,c){const o=(0,l.up)("ag-grid-vue");return(0,l.wg)(),(0,l.iD)("div",null,[i.rowData.length>0?((0,l.wg)(),(0,l.j4)(o,{key:0,style:{height:"500px"},class:"ag-theme-quartz",rowData:i.rowData,defaultColDef:i.defaultColDef,columnDefs:i.colDefs,pagination:!0,onRowClicked:c.onRowClicked,onRowSelected:c.onRowSelected},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onRowSelected"])):(0,l.kq)("",!0)])}var et=s(6732),tt={name:"YourComponentName",components:{AgGridVue:et.n},data(){return{rowData:[],colDefs:[{field:"id",hide:!0},{field:"product.name",headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"Product Name"},{field:"product.product_code",headerName:"Product Code"},{field:"bom_type.name",headerName:"BOM Type"},{field:"bom_rev_number",headerName:"BOM Rev No"},{field:"issue_date",headerName:"Issue Date"},{field:"product.product_rev_number",headerName:"Product Rev No"},{headerName:"Actions",cellRenderer:this.editButtonRenderer}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},async mounted(){await this.fetchData()},methods:{async fetchData(){try{const e=await ue.Z.get("store/get-boms/");this.rowData=e.data.boms,console.log(e.data.boms)}catch(e){console.error("Error fetching BOM data:",e)}},onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data)},onSelectionChanged(){this.$refs.agGrid&&this.$refs.agGrid.api&&(this.selectedRows=this.$refs.agGrid.api.getSelectedRows())},editButtonRenderer(e){const t=document.createElement("button");return t.innerHTML='<i class="fas fa-edit"></i>',t.classList.add("btn","btn-primary"),t.addEventListener("click",(()=>this.onEditClick(e.data.id))),t},onEditClick(e){this.$router.push(`/bom/edit/${e}`)}}};const st=(0,J.Z)(tt,[["render",Xe],["__scopeId","data-v-7101b274"]]);var at=st,lt={components:{BomDetailsTable:at},data(){return{selectedRow:null}},methods:{handleRowClicked(e){console.log("Clicked Row:",e)},handleRowSelected(e){console.log("Row Selected:",e),this.selectedRow=e}}};const it=(0,J.Z)(lt,[["render",Je]]);var ct=it;const ot=e=>((0,l.dD)("data-v-3f005692"),e=e(),(0,l.Cn)(),e),nt={class:"container mt-1"},rt={class:"row align-items-center"},dt={class:"col-md-6"},ut={class:"d-flex align-items-center"},mt=ot((()=>(0,l._)("h2",{class:"mb-0"},"BOM Details",-1))),ht=ot((()=>(0,l._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),pt={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},ft={class:"breadcrumb bg-transparent m-0 p-0"},bt=ot((()=>(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"#"},"Home")],-1))),_t={class:"breadcrumb-item"},gt=ot((()=>(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"}," Bom Details ",-1))),kt={class:"card",style:{"margin-top":"20px"}},vt={class:"card-body"},yt={class:"row"},wt={class:"col-md-6"},St={class:"mb-3"},Ct=ot((()=>(0,l._)("label",{class:"fw-bold"},"Product Name:",-1))),Dt={key:0},It={class:"mb-3"},xt=ot((()=>(0,l._)("label",{class:"fw-bold"},"BOM Type:",-1))),Rt={key:0},Pt={class:"mb-3"},Ut=ot((()=>(0,l._)("label",{class:"fw-bold"},"Issue Date:",-1))),Ot={key:0},Bt={class:"col-md-6"},Tt={class:"mb-3"},Lt=ot((()=>(0,l._)("label",{class:"fw-bold"},"Product Code:",-1))),Nt={key:0},$t={class:"mb-3"},Mt=ot((()=>(0,l._)("label",{class:"fw-bold"},"BOM Rev No:",-1))),Et={key:0},Wt={class:"mb-3"},At=ot((()=>(0,l._)("label",{class:"fw-bold"},"Product Rev No:",-1))),Ft={key:0},qt=ot((()=>(0,l._)("div",{class:"mt-4"},null,-1)));function zt(e,t,s,a,i,c){const o=(0,l.up)("router-link"),n=(0,l.up)("BomItemsTable");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",nt,[(0,l._)("div",rt,[(0,l._)("div",dt,[(0,l._)("div",ut,[mt,ht,(0,l._)("nav",pt,[(0,l._)("ol",ft,[bt,(0,l._)("li",_t,[(0,l.Wm)(o,{to:"/bom"},{default:(0,l.w5)((()=>[(0,l.Uk)("Bill of Materials")])),_:1})]),gt])])])])]),(0,l._)("div",kt,[(0,l._)("div",vt,[(0,l._)("div",yt,[(0,l._)("div",wt,[(0,l._)("div",St,[Ct,i.bom.product?((0,l.wg)(),(0,l.iD)("div",Dt,(0,ke.zw)(i.bom.product.name),1)):(0,l.kq)("",!0)]),(0,l._)("div",It,[xt,i.bom.bom_type?((0,l.wg)(),(0,l.iD)("div",Rt,(0,ke.zw)(i.bom.bom_type.name),1)):(0,l.kq)("",!0)]),(0,l._)("div",Pt,[Ut,i.bom.issue_date?((0,l.wg)(),(0,l.iD)("div",Ot,(0,ke.zw)(i.bom.issue_date),1)):(0,l.kq)("",!0)])]),(0,l._)("div",Bt,[(0,l._)("div",Tt,[Lt,i.bom.product?((0,l.wg)(),(0,l.iD)("div",Nt,(0,ke.zw)(i.bom.product.product_code),1)):(0,l.kq)("",!0)]),(0,l._)("div",$t,[Mt,i.bom.bom_rev_number?((0,l.wg)(),(0,l.iD)("div",Et,(0,ke.zw)(i.bom.bom_rev_number),1)):(0,l.kq)("",!0)]),(0,l._)("div",Wt,[At,i.bom.product?((0,l.wg)(),(0,l.iD)("div",Ft,(0,ke.zw)(i.bom.product.product_rev_number),1)):(0,l.kq)("",!0)])])])])]),qt,(0,l.Wm)(n,{bom:i.bom.bom_line_items,onRowClicked:c.handleRowClicked,onRowSelected:c.handleRowSelected},null,8,["bom","onRowClicked","onRowSelected"])])])}function Gt(e,t,s,a,i,c){const o=(0,l.up)("ag-grid-vue");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(o,{style:{height:"500px"},class:"ag-theme-quartz",rowData:s.bom,defaultColDef:i.defaultColDef,columnDefs:i.colDefs,pagination:!0,onRowClicked:c.onRowClicked,onRowSelected:c.onRowSelected},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onRowSelected"])])}var Zt={name:"BomItemDetails",components:{AgGridVue:et.n},props:{bom:{type:Array,required:!0}},data(){return{colDefs:[{headerName:"ID",field:"id",hide:!0},{headerName:" Level",field:"level"},{headerName:"VEPL Part Number",field:"part_number"},{headerName:"Priority Level",field:"priority_level"},{headerName:"Value",field:"value"},{headerName:"PCB Footprint",field:"pcb_footprint"},{headerName:"Type",field:"line_item_type.name"},{headerName:"Description",field:"description"},{headerName:"Manufacturer Parts",valueGetter:function(e){const t=e.data.manufacturer_parts;if(t&&t.length>0){const e=t.map((e=>{const t=e.manufacturer;return t?`${e.part_number} - ${t.name}`:""}));return e.join(", ")}return""}},{headerName:"Customer Part Number",field:"customer_part_number"},{headerName:"Quantity",field:"quantity"},{headerName:"UOM",field:"uom"},{headerName:"Assembly Stage",field:"assembly_stage.name"},{headerName:"ECN",field:"ecn"},{headerName:"MSL",field:"msl"},{headerName:"Remarks",field:"remarks"}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},mounted(){},methods:{onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data)}}};const Vt=(0,J.Z)(Zt,[["render",Gt]]);var jt=Vt,Ht={components:{BomItemsTable:jt},data(){return{bom:""}},methods:{handleRowClicked(e){console.log("Row clicked:",e)},handleRowSelected(e){console.log("Row selected:",e)},async fetchData(){await ue.Z.get(`store/get-boms/${this.$route.params.id}/`).then((e=>{console.log(e.data),this.bom=e.data.bom})).catch((e=>{console.error("Error fetching data:",e)}))}},mounted(){this.fetchData()}};const Qt=(0,J.Z)(Ht,[["render",zt],["__scopeId","data-v-3f005692"]]);var Yt=Qt;const Kt={class:"container"},Jt={class:"row align-items-center"},Xt=(0,l.uE)('<div class="col-md-6 mt-4"><div class="d-flex align-items-center"><h2 class="mb-0">Checklist</h2><span class="ms-3 fs-4 text-muted">|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3"><ol class="breadcrumb bg-transparent m-0 p-0"><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item active" aria-current="page"> Checklist </li></ol></nav></div></div>',1),es={class:"col-md-6 mt-4 text-end"},ts={class:"container has-text-centered"},ss={class:"d-flex"},as=["disabled"],ls=["disabled"],is=["disabled"];function cs(e,t,s,a,i,c){const o=(0,l.up)("BomDetailsTableWithoutEdit");return(0,l.wg)(),(0,l.iD)("div",Kt,[(0,l._)("div",Jt,[Xt,(0,l._)("div",es,[(0,l._)("div",ts,[(0,l._)("div",ss,[(0,l._)("button",{onClick:t[0]||(t[0]=(...e)=>c.checkAndGenerateChecklist&&c.checkAndGenerateChecklist(...e)),disabled:!i.isButtonEnabled,class:"btn btn-primary btn-sm"}," Generate New Checklist ",8,as),(0,l._)("button",{onClick:t[1]||(t[1]=(...e)=>c.checkExistingChecklist&&c.checkExistingChecklist(...e)),disabled:!i.isButtonEnabled,class:"btn btn-warning btn-sm ms-2"}," View Ongoing Checklist ",8,ls),(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>c.viewGeneratedChecklists&&c.viewGeneratedChecklists(...e)),disabled:!i.isButtonEnabled,class:"btn btn-success btn-sm ms-2"}," View Generated Checklists ",8,is)])])])]),(0,l.Wm)(o,{style:{"margin-top":"20px"},onRowClicked:c.handleRowClicked,onRowSelected:c.handleRowSelected,onRowDeselected:c.handleRowDeselected},null,8,["onRowClicked","onRowSelected","onRowDeselected"])])}function os(e,t,s,a,i,c){const o=(0,l.up)("ag-grid-vue");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(o,{style:{height:"500px"},class:"ag-theme-quartz",rowData:i.rowData,defaultColDef:i.defaultColDef,columnDefs:i.colDefs,pagination:!0,onRowClicked:c.onRowClicked,onSelectionChanged:c.onSelectionChanged},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onSelectionChanged"])])}var ns={name:"App",components:{AgGridVue:et.n},data(){return{rowData:[],colDefs:[{field:"id",hide:!0},{field:"product.name",headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"Product Name"},{field:"product.product_code",headerName:"Product Code"},{field:"bom_type.name",headerName:"BOM Type"},{field:"bom_rev_number",headerName:"BOM Rev No"},{field:"issue_date",headerName:"Issue Date"},{field:"product.product_rev_number",headerName:"Product Rev No"}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},async mounted(){await this.fetchData()},methods:{async fetchData(){try{const e=await ue.Z.get("store/get-boms/");this.rowData=e.data.boms,console.log(e.data.boms)}catch(e){console.error("Error fetching BOM data:",e)}},onRowClicked(e){this.$emit("rowClicked",e.data)},onSelectionChanged(e){const t=e.api.getSelectedRows(),s=t.length>0?t[0]:null;s?this.$emit("rowSelected",s):this.$emit("rowDeselected")},onEditClick(e){this.$router.push(`/bom/edit/${e}`)}}};const rs=(0,J.Z)(ns,[["render",os]]);var ds=rs,us={components:{BomDetailsTableWithoutEdit:ds},data(){return{rowData:[],selectedRow:null,clickedRowId:null,isButtonEnabled:!1,isExisting:!1,isActive:!1}},methods:{handleRowClicked(e){console.log("Clicked Row:",e)},handleRowSelected(e){console.log("Row Selected:",e),e&&e.id&&(this.selectedRow=e,this.clickedRowId=e.id,this.isButtonEnabled=!0)},handleRowDeselected(){console.log("Row Deselected:"),this.isButtonEnabled=!1},async checkAndGenerateChecklist(){this.$store.commit("setIsLoading",!0),await ue.Z.post(`store/check-existing-checklist/${this.clickedRowId}/`).then((e=>{console.log(e.data),this.isActive=e.data.is_active,this.isExisting=e.data.is_existing,this.isExisting?this.$notify({title:"There is already an active ongoing checklist for this bom, please end that checklist by viewing the ongoing checklist to generate a new one.",type:"bg-danger-subtle text-danger",duration:"5000"}):this.generateChecklist()})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})})).finally((()=>{this.$store.commit("setIsLoading",!1)}))},async generateChecklist(){this.$store.commit("setIsLoading",!0),await ue.Z.post(`store/generate-new-checklist/${this.clickedRowId}/`).then((e=>{console.log(e.data),this.$router.push(`/begin-checklist/${this.clickedRowId}`)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})})).finally((()=>{this.$store.commit("setIsLoading",!1)}))},async checkExistingChecklist(){this.$store.commit("setIsLoading",!0),await ue.Z.post(`store/check-existing-checklist/${this.clickedRowId}/`).then((e=>{console.log(e.data),this.isActive=e.data.is_active,this.isExisting=e.data.is_existing,this.isExisting?this.isActive?this.$router.push(`/begin-checklist/${this.clickedRowId}`):this.$notify({title:"No active checklist found for this bom, please generate a new checklist",type:"bg-danger-subtle text-danger",duration:"5000"}):this.$notify({title:"No ongoing checklist found for this bom, please generate a new checklist",type:"bg-danger-subtle text-danger",duration:"5000"})})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})})).finally((()=>{this.$store.commit("setIsLoading",!1)}))},viewOngoingChecklists(){this.clickedRowId&&this.$router.push(`/begin-checklist/${this.clickedRowId}`)},viewGeneratedChecklists(){this.clickedRowId&&this.$router.push(`/generated-checklists/${this.clickedRowId}`)}}};const ms=(0,J.Z)(us,[["render",cs]]);var hs=ms;const ps=e=>((0,l.dD)("data-v-f98f6766"),e=e(),(0,l.Cn)(),e),fs={key:0,class:"container"},bs=ps((()=>(0,l._)("div",{class:"text-center mt-6"},[(0,l._)("div",{class:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status"},[(0,l._)("span",{class:"visually-hidden"},"Loading...")])],-1))),_s=[bs],gs={key:1,class:"container"},ks={class:"row align-items-center"},vs={class:"col-md-6 mt-4"},ys={class:"d-flex align-items-center"},ws=ps((()=>(0,l._)("h2",{class:"mb-0"},"Checklist",-1))),Ss=ps((()=>(0,l._)("span",{class:"ms-3 fs-4 text-muted me-3"},"|",-1))),Cs={"aria-label":"breadcrumb"},Ds={class:"breadcrumb bg-transparent m-0 p-0 justify-content-end"},Is=ps((()=>(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"/"},"Home")],-1))),xs={class:"breadcrumb-item active","aria-current":"page"},Rs=ps((()=>(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"}," Ongoing Checklist ",-1))),Ps={class:"col-md-6 mt-4 d-flex justify-content-end"},Us={class:"container"},Os={class:"d-flex justify-content-end"},Bs={key:0,type:"button","data-bs-toggle":"modal","data-bs-target":"#generateLabelModal",class:"btn btn-success me-2"},Ts={key:1,type:"button","data-bs-toggle":"modal","data-bs-target":"#generateLabelModal",class:"btn btn-success me-2"},Ls=ps((()=>(0,l._)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#endChecklistModal",class:"btn btn-danger"}," End Checklist ",-1))),Ns={class:"modal fade",id:"generateLabelModal",tabindex:"-1","aria-labelledby":"generateLabelModalLabel","aria-hidden":"true"},$s={class:"modal-dialog"},Ms={class:"modal-content"},Es=ps((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"generateLabelModalLabel"}," Generate Label "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ws={class:"modal-body"},As={key:0},Fs={key:0,id:"printable-content"},qs=["src"],zs={key:1},Gs={key:1},Zs={class:"modal-footer"},Vs=ps((()=>(0,l._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," Cancel ",-1))),js={key:0},Hs={class:"modal fade",id:"endChecklistModal",tabindex:"-1","aria-labelledby":"endChecklistModalLabel","aria-hidden":"true"},Qs={class:"modal-dialog"},Ys={class:"modal-content"},Ks=ps((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"endChecklistModalLabel"}," End Checklist "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Js=ps((()=>(0,l._)("div",{class:"modal-body"}," Are you sure you want to end this checklist? ",-1))),Xs={class:"modal-footer"},ea=ps((()=>(0,l._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," Cancel ",-1))),ta={class:"card border-primary mb-4 mt-4"},sa=ps((()=>(0,l._)("div",{class:"card-header bg-primary text-white"},[(0,l._)("h4",{class:"mb-0"},"Active Bom Details")],-1))),aa={class:"card-body"},la={class:"row"},ia={key:0,class:"col"},ca=ps((()=>(0,l._)("strong",null,"Product Name:",-1))),oa={key:1,class:"col"},na=ps((()=>(0,l._)("strong",null,"Product Code:",-1))),ra={class:"col"},da=ps((()=>(0,l._)("strong",null,"BOM Rev No:",-1))),ua={class:"col"},ma=ps((()=>(0,l._)("strong",null,"Issue Date:",-1))),ha={class:"accordion",id:"accordionPanelsStayOpenExample"},pa={class:"accordion-item"},fa={class:"accordion-header",id:"panelsStayOpen-headingOne"},ba={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"},_a={key:0,class:"spinner-border ms-2",role:"status"},ga=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),ka=[ga],va={key:1},ya=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),wa=[ya],Sa={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Ca={class:"accordion-body"},Da={class:"accordion-item"},Ia={class:"accordion-header",id:"panelsStayOpen-headingTwo"},xa={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"},Ra={key:0,class:"spinner-border ms-2",role:"status"},Pa=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Ua=[Pa],Oa={key:1},Ba=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Ta=[Ba],La={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo"},Na={class:"accordion-body"},$a={class:"accordion-item"},Ma={class:"accordion-header",id:"panelsStayOpen-headingThree"},Ea={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree"},Wa={key:0,class:"spinner-border ms-2",role:"status"},Aa=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Fa=[Aa],qa={key:1},za=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Ga=[za],Za={id:"panelsStayOpen-collapseThree",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingThree"},Va={class:"accordion-body"},ja={class:"accordion-item"},Ha={class:"accordion-header",id:"panelsStayOpen-headingFour"},Qa={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFour","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFour"},Ya={key:0,class:"spinner-border ms-2",role:"status"},Ka=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Ja=[Ka],Xa={key:1},el=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),tl=[el],sl={id:"panelsStayOpen-collapseFour",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFour"},al={class:"accordion-body"},ll={class:"accordion-item"},il={class:"accordion-header",id:"panelsStayOpen-headingFive"},cl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFive","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFive"},ol={key:0,class:"spinner-border ms-2",role:"status"},nl=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),rl=[nl],dl={key:1},ul=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),ml=[ul],hl={id:"panelsStayOpen-collapseFive",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFive"},pl={class:"accordion-body"},fl={class:"accordion-item"},bl={class:"accordion-header",id:"panelsStayOpen-headingSix"},_l={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSix","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSix"},gl={key:0,class:"spinner-border ms-2",role:"status"},kl=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),vl=[kl],yl={key:1},wl=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Sl=[wl],Cl={id:"panelsStayOpen-collapseSix",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSix"},Dl={class:"accordion-body"},Il={class:"accordion-item"},xl={class:"accordion-header",id:"panelsStayOpen-headingSeven"},Rl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSeven","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSeven"},Pl={key:0,class:"spinner-border ms-2",role:"status"},Ul=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Ol=[Ul],Bl={key:1},Tl=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Ll=[Tl],Nl={id:"panelsStayOpen-collapseSeven",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSeven"},$l={class:"accordion-body"},Ml={class:"accordion-item"},El={class:"accordion-header",id:"panelsStayOpen-headingEight"},Wl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseEight","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseEight"},Al={key:0,class:"spinner-border ms-2",role:"status"},Fl=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),ql=[Fl],zl={key:1},Gl=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Zl=[Gl],Vl={id:"panelsStayOpen-collapseEight",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingEight"},jl={class:"accordion-body"},Hl={class:"accordion-item"},Ql={class:"accordion-header",id:"panelsStayOpen-headingNine"},Yl={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseNine","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseNine"},Kl={key:0,class:"spinner-border ms-2",role:"status"},Jl=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),Xl=[Jl],ei={key:1},ti=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),si=[ti],ai={id:"panelsStayOpen-collapseNine",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingNine"},li={class:"accordion-body"},ii={class:"accordion-item"},ci={class:"accordion-header",id:"panelsStayOpen-headingTen"},oi={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTen","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTen"},ni={key:0,class:"spinner-border ms-2",role:"status"},ri=ps((()=>(0,l._)("span",{class:"visually-hidden"},"Loading...",-1))),di=[ri],ui={key:1},mi=ps((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),hi=[mi],pi={id:"panelsStayOpen-collapseTen",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTen"},fi={class:"accordion-body"};function bi(e,t,s,a,i,c){const o=(0,l.up)("router-link"),n=(0,l.up)("CheckListTable");return i.showLoading?((0,l.wg)(),(0,l.iD)("div",fs,_s)):((0,l.wg)(),(0,l.iD)("div",gs,[(0,l._)("div",ks,[(0,l._)("div",vs,[(0,l._)("div",ys,[ws,Ss,(0,l._)("nav",Cs,[(0,l._)("ol",Ds,[Is,(0,l._)("li",xs,[(0,l.Wm)(o,{to:"/checklist"},{default:(0,l.w5)((()=>[(0,l.Uk)("Checklist")])),_:1})]),Rs])])])]),(0,l._)("div",Ps,[(0,l._)("div",Us,[(0,l._)("div",Os,[i.generatedQRCode?((0,l.wg)(),(0,l.iD)("button",Bs," View Generated Label ")):((0,l.wg)(),(0,l.iD)("button",Ts," Generate Label ")),Ls])])])]),(0,l._)("div",Ns,[(0,l._)("div",$s,[(0,l._)("div",Ms,[Es,(0,l._)("div",Ws,[i.isChecklistPassed?((0,l.wg)(),(0,l.iD)("div",As,[i.generatedQRCode?((0,l.wg)(),(0,l.iD)("div",Fs,[(0,l._)("img",{src:i.generatedQRCode,alt:"QR Code"},null,8,qs)])):((0,l.wg)(),(0,l.iD)("p",zs," All Checks passed successfully, generate a label by pressing the generate button. "))])):((0,l.wg)(),(0,l.iD)("div",Gs," You can only generate a label if all checks are passed "))]),(0,l._)("div",Zs,[Vs,i.isChecklistPassed?((0,l.wg)(),(0,l.iD)("div",js,[i.generatedQRCode?((0,l.wg)(),(0,l.iD)("button",{key:0,type:"button",class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>c.printQRCode&&c.printQRCode(...e))}," Print ")):((0,l.wg)(),(0,l.iD)("button",{key:1,type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=(...e)=>c.generateQRCode&&c.generateQRCode(...e))}," Generate "))])):(0,l.kq)("",!0)])])])]),(0,l._)("div",Hs,[(0,l._)("div",Qs,[(0,l._)("div",Ys,[Ks,Js,(0,l._)("div",Xs,[ea,(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=(...e)=>c.endChecklist&&c.endChecklist(...e)),"data-bs-dismiss":"modal"}," End ")])])])]),(0,l._)("div",ta,[sa,(0,l._)("div",aa,[(0,l._)("div",la,[i.activeBom.product?((0,l.wg)(),(0,l.iD)("div",ia,[ca,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.product.name),1)])):(0,l.kq)("",!0),i.activeBom.product?((0,l.wg)(),(0,l.iD)("div",oa,[na,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.product.product_code),1)])):(0,l.kq)("",!0),(0,l._)("div",ra,[da,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.bom_rev_number),1)]),(0,l._)("div",ua,[ma,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.issue_date),1)])])])]),(0,l._)("div",ha,[(0,l._)("div",pa,[(0,l._)("h2",fa,[(0,l._)("button",ba,[(0,l.Uk)(" Raw Material Check "),!1===i.isRawMaterialSufficient?((0,l.wg)(),(0,l.iD)("div",_a,ka)):((0,l.wg)(),(0,l.iD)("div",va,wa))])]),(0,l._)("div",Sa,[(0,l._)("div",Ca,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["Raw Material"]},null,8,["checklistItems"])])])]),(0,l._)("div",Da,[(0,l._)("h2",Ia,[(0,l._)("button",xa,[(0,l.Uk)(" PCB Check "),!1===i.isPcbSufficient?((0,l.wg)(),(0,l.iD)("div",Ra,Ua)):((0,l.wg)(),(0,l.iD)("div",Oa,Ta))])]),(0,l._)("div",La,[(0,l._)("div",Na,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["PCB"]},null,8,["checklistItems"])])])]),(0,l._)("div",$a,[(0,l._)("h2",Ma,[(0,l._)("button",Ea,[(0,l.Uk)(" Solder Paste Check "),!1===i.isPcbSufficient?((0,l.wg)(),(0,l.iD)("div",Wa,Fa)):((0,l.wg)(),(0,l.iD)("div",qa,Ga))])]),(0,l._)("div",Za,[(0,l._)("div",Va,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["Solder Paste"]},null,8,["checklistItems"])])])]),(0,l._)("div",ja,[(0,l._)("h2",Ha,[(0,l._)("button",Qa,[(0,l.Uk)(" Solder Bar Check "),!1===i.isSolderBarSufficient?((0,l.wg)(),(0,l.iD)("div",Ya,Ja)):((0,l.wg)(),(0,l.iD)("div",Xa,tl))])]),(0,l._)("div",sl,[(0,l._)("div",al,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["Solder Bar"]},null,8,["checklistItems"]),(0,l.Uk)("> ")])])]),(0,l._)("div",ll,[(0,l._)("h2",il,[(0,l._)("button",cl,[(0,l.Uk)(" Solder Flux Check "),!1===i.isSolderFluxSufficient?((0,l.wg)(),(0,l.iD)("div",ol,rl)):((0,l.wg)(),(0,l.iD)("div",dl,ml))])]),(0,l._)("div",hl,[(0,l._)("div",pl,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["Solder Flux"]},null,8,["checklistItems"])])])]),(0,l._)("div",fl,[(0,l._)("h2",bl,[(0,l._)("button",_l,[(0,l.Uk)(" IPA Check "),!1===i.isIpaSufficient?((0,l.wg)(),(0,l.iD)("div",gl,vl)):((0,l.wg)(),(0,l.iD)("div",yl,Sl))])]),(0,l._)("div",Cl,[(0,l._)("div",Dl,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["IPA"]},null,8,["checklistItems"])])])]),(0,l._)("div",Il,[(0,l._)("h2",xl,[(0,l._)("button",Rl,[(0,l.Uk)(" Solder Wire Check "),!1===i.isSolderWireSufficient?((0,l.wg)(),(0,l.iD)("div",Pl,Ol)):((0,l.wg)(),(0,l.iD)("div",Bl,Ll))])]),(0,l._)("div",Nl,[(0,l._)("div",$l,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["Solder Wire"]},null,8,["checklistItems"])])])]),(0,l._)("div",Ml,[(0,l._)("h2",El,[(0,l._)("button",Wl,[(0,l.Uk)(" SMT Pallet Check "),!1===i.isSMTPalletSufficient?((0,l.wg)(),(0,l.iD)("div",Al,ql)):((0,l.wg)(),(0,l.iD)("div",zl,Zl))])]),(0,l._)("div",Vl,[(0,l._)("div",jl,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["SMT Pallet"]},null,8,["checklistItems"])])])]),(0,l._)("div",Hl,[(0,l._)("h2",Ql,[(0,l._)("button",Yl,[(0,l.Uk)(" Wave Pallet Check "),!1===i.isWavePalletSufficient?((0,l.wg)(),(0,l.iD)("div",Kl,Xl)):((0,l.wg)(),(0,l.iD)("div",ei,si))])]),(0,l._)("div",ai,[(0,l._)("div",li,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["Wave Pallet"]},null,8,["checklistItems"])])])]),(0,l._)("div",ii,[(0,l._)("h2",ci,[(0,l._)("button",oi,[(0,l.Uk)(" PCB Serial Number Label Check "),!1===i.isLabelSufficient?((0,l.wg)(),(0,l.iD)("div",ni,di)):((0,l.wg)(),(0,l.iD)("div",ui,hi))])]),(0,l._)("div",pi,[(0,l._)("div",fi,[(0,l.Wm)(n,{checklistItems:i.filteredChecklistItems["PCB Serial Number Label"]},null,8,["checklistItems"])])])])])]))}function _i(e,t,s,a,i,c){const o=(0,l.up)("ag-grid-vue");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(o,{ref:"agGrid",style:{height:"550px"},class:"ag-theme-quartz",rowData:s.checklistItems,defaultColDef:i.defaultColDef,columnDefs:i.colDefs,pagination:!0,onFirstDataRendered:c.onFirstDataRendered,onRowClicked:c.onRowClicked,onRowSelected:c.onRowSelected,onRowDeselected:c.onRowDeselected,onGridReady:c.onGridReady},null,8,["rowData","defaultColDef","columnDefs","onFirstDataRendered","onRowClicked","onRowSelected","onRowDeselected","onGridReady"])])}var gi={props:{checklistItems:{type:Array,required:!0}},components:{AgGridVue:et.n},data(){return{gridApi:null,isGridReady:!1,colDefs:[{headerName:"VEPL Part No",field:"bom_line_item.part_number"},{headerName:"Present Quantity",field:"present_quantity"},{headerName:"Required Quantity",field:"required_quantity"},{headerName:"Is Present",field:"is_present"},{headerName:"Is Quantity Sufficient",field:"is_quantity_sufficient"},{headerName:"Updated At",field:"updated_at"}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0,domLayout:"autoHeight"},selectedRows:[]}},mounted(){},methods:{statusCellRenderer(e){return e.value?"✔":"✘"},onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data),this.onSelectionChanged()},onRowDeselected(){this.onSelectionChanged()},onSelectionChanged(){this.selectedRows=this.gridApi.getSelectedRows()},onFirstDataRendered(e){e.api&&(this.gridApi=e.api,this.isGridReady=!0)},onGridReady(e){this.gridApi=e.api,this.isGridReady=!0}}};const ki=(0,J.Z)(gi,[["render",_i],["__scopeId","data-v-25362d9b"]]);var vi=ki,yi=s(8385),wi={components:{CheckListTable:vi},data(){return{activeBom:"",checklist:"",checklistItems:[],isChecklistPassed:!1,isChecklistEnded:!1,isRawMaterialSufficient:!1,isPcbSufficient:!1,isSolderPasteSufficient:!1,isSolderBarSufficient:!1,isSolderFluxSufficient:!1,isIpaSufficient:!1,isSolderWireSufficient:!1,isSMTPalletSufficient:!1,isWavePalletSufficient:!1,isLabelSufficient:!1,pollingInterval:"",generatedQRCode:"",filteredChecklistItems:{"Raw Material":[],PCB:[],"Solder Paste":[],"Solder Bar":[],"Solder Flux":[],Ipa:[],"Solder Wire":[],"SMT Pallet":[],"Wave Pallet":[],"PCB Serial Number Label":[]},scannedEntries:[],showLoading:!1}},mounted(){this.getChecklistBeginning(),this.pollingInterval=setInterval((()=>{this.isChecklistPassed?(clearInterval(this.pollingInterval),this.$notify({title:"BOM Check Passed",type:"bg-success-subtle text-danger",duration:"5000"})):this.getChecklist()}),5e3)},beforeUnmount(){clearInterval(this.pollingInterval)},methods:{async getChecklistBeginning(){this.showLoading=!0,await ue.Z.get(`store/get-active-checklist/${this.$route.params.id}/`).then((e=>{console.log(e.data),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,console.log("chehcklist items hereeeeee",this.checklistItems);const t=this.filterChecklistItemsByType("Raw Material"),s=this.filterChecklistItemsByType("PCB"),a=this.filterChecklistItemsByType("Solder Paste"),l=this.filterChecklistItemsByType("Solder Bar"),i=this.filterChecklistItemsByType("Solder Flux"),c=this.filterChecklistItemsByType("IPA"),o=this.filterChecklistItemsByType("Solder Wire"),n=this.filterChecklistItemsByType("SMT Pallet"),r=this.filterChecklistItemsByType("Wave Pallet"),d=this.filterChecklistItemsByType("PCB Serial Number Label");this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,this.filteredChecklistItems={"Raw Material":t,PCB:s,"Solder Paste":a,"Solder Bar":l,"Solder Flux":i,IPA:c,"Solder Wire":o,"SMT Pallet":n,"Wave Pallet":r,"PCB Serial Number Label":d},console.log("filered checklsit items",this.filteredChecklistItems),this.isRawMaterialSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Raw Material"),this.isPcbSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB"),this.isSolderPasteSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Paste"),this.isSolderBarSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Bar"),console.log("checking solder bar",this.isSolderBarSufficient),this.isSolderFluxSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Flux"),this.isIpaSufficient=this.isItemsSufficient(this.filteredChecklistItems,"IPA"),this.isSolderWireSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Wire"),this.isSMTPalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"SMT Pallet"),this.isWavePalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Wave Pallet"),this.isLabelSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB Serial Number Label"),"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),this.checklist.qr_code_link&&(this.generatedQRCode=this.checklist.qr_code_link),this.showLoading=!1})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.showLoading=!1}))},async getChecklist(){await ue.Z.get(`store/get-active-checklist/${this.$route.params.id}/`).then((e=>{console.log(e.data),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,console.log("chehcklist items hereeeeee",this.checklistItems);const t=this.filterChecklistItemsByType("Raw Material"),s=this.filterChecklistItemsByType("PCB"),a=this.filterChecklistItemsByType("Solder Paste"),l=this.filterChecklistItemsByType("Solder Bar"),i=this.filterChecklistItemsByType("Solder Flux"),c=this.filterChecklistItemsByType("IPA"),o=this.filterChecklistItemsByType("Solder Wire"),n=this.filterChecklistItemsByType("SMT Pallet"),r=this.filterChecklistItemsByType("Wave Pallet"),d=this.filterChecklistItemsByType("PCB Serial Number Label");this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,this.filteredChecklistItems={"Raw Material":t,PCB:s,"Solder Paste":a,"Solder Bar":l,"Solder Flux":i,IPA:c,"Solder Wire":o,"SMT Pallet":n,"Wave Pallet":r,"PCB Serial Number Label":d},console.log("filered checklsit items",this.filteredChecklistItems),this.isRawMaterialSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Raw Material"),this.isPcbSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB"),this.isSolderPasteSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Paste"),this.isSolderBarSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Bar"),console.log("checking solder bar",this.isSolderBarSufficient),this.isSolderFluxSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Flux"),this.isIpaSufficient=this.isItemsSufficient(this.filteredChecklistItems,"IPA"),this.isSolderWireSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Wire"),this.isSMTPalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"SMT Pallet"),this.isWavePalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Wave Pallet"),this.isLabelSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB Serial Number Label"),"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),this.checklist.qr_code_link&&(this.generatedQRCode=this.checklist.qr_code_link)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})}))},async endChecklist(){this.showLoading=!0,await ue.Z.get(`store/end-checklist/${this.checklist.id}/`).then((e=>{console.log(e.data),this.$notify({title:"Checklist ended",type:"bg-danger-subtle text-danger",duration:"5000"}),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),clearInterval(this.pollingInterval),this.$router.push(`/generated-checklists/${this.$route.params.id}`),this.showLoading=!1})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),clearInterval(this.pollingInterval),this.showLoading=!1}))},async generateQRCode(){const e=this.generateUniqueCode();console.log(e);const t=await yi.toDataURL(e),s={uniqueCode:e,qrCodeDataURL:t};this.saveQRCode(s)},generateUniqueCode(){const e=Date.now().toString(),t=Math.random().toString(36).substring(7);return`${e}-${t}`},async saveQRCode(e){await ue.Z.post(`store/save-qr-code/${this.checklist.id}/`,e).then((t=>{console.log(t.data),this.generateQRCode=e.qrCodeDataURL,this.$notify({title:"QR Code generated and saved successfully",type:"bg-success-subtle text-success",duration:"5000"})})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"})}))},printQRCode(){if(this.generatedQRCode){const e=document.getElementById("printable-content"),t=window.open("","","height=1000,width=1000");t.document.write(e.innerHTML),t.print()}},filterChecklistItemsByType(e){return this.checklistItems.filter((t=>{const s=t.checklist_item_type;return!(!s||!s.name)&&s.name.toUpperCase()===e.toUpperCase()}))},isItemsSufficient(e,t){const s=this.filteredChecklistItems[t];if(s){if(0===s.length)return!1;const e=s.filter((e=>!0===e.is_quantity_sufficient));return e.length===s.length}return!1}}};const Si=(0,J.Z)(wi,[["render",bi],["__scopeId","data-v-f98f6766"]]);var Ci=Si;const Di={class:"container"},Ii={class:"row align-items-center"},xi={class:"col-md-12 mt-4"},Ri={class:"d-flex align-items-center"},Pi=(0,l._)("h2",{class:"mb-0 me-3"},"Generated Checklists",-1),Ui=(0,l._)("span",{class:"fs-4 text-muted"},"|",-1),Oi={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},Bi={class:"breadcrumb bg-transparent m-0 p-0"},Ti=(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"/"},"Home")],-1),Li={class:"breadcrumb-item"},Ni=(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"}," Generated Checklists ",-1);function $i(e,t,s,a,i,c){const o=(0,l.up)("router-link"),n=(0,l.up)("CheckListsTable");return(0,l.wg)(),(0,l.iD)("div",Di,[(0,l._)("div",Ii,[(0,l._)("div",xi,[(0,l._)("div",Ri,[Pi,Ui,(0,l._)("nav",Oi,[(0,l._)("ol",Bi,[Ti,(0,l._)("li",Li,[(0,l.Wm)(o,{to:"/checklist"},{default:(0,l.w5)((()=>[(0,l.Uk)("Checklist")])),_:1})]),Ni])])])])]),(0,l.Wm)(n,{style:{"margin-top":"20px"}})])}function Mi(e,t,s,a,i,c){const o=(0,l.up)("ag-grid-vue");return(0,l.wg)(),(0,l.iD)("div",null,[i.rowData.length>0?((0,l.wg)(),(0,l.j4)(o,{key:0,style:{height:"500px"},class:"ag-theme-quartz",rowData:i.rowData,defaultColDef:i.defaultColDef,columnDefs:i.colDefs,pagination:!0,onRowClicked:c.onRowClicked,onRowSelected:c.onRowSelected},null,8,["rowData","defaultColDef","columnDefs","onRowClicked","onRowSelected"])):(0,l.kq)("",!0)])}var Ei={components:{AgGridVue:et.n},data(){return{rowData:[],colDefs:[{field:"id",hide:!0},{headerName:"Checklist ID",field:"id",headerCheckboxSelection:!0,checkboxSelection:!0},{headerName:"Product Name",field:"bom.product.name"},{headerName:"Product Code",field:"bom.product.product_code"},{headerName:"Updated At",field:"updated_at"},{headerName:"Status",field:"status"},{headerName:"Actions",cellRenderer:this.editButtonRenderer}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},selectedRows:[]}},async mounted(){await this.fetchData()},methods:{async fetchData(){try{const e=await ue.Z.get(`store/generated-checklists/${this.$route.params.id}`);this.rowData=e.data,console.log(e.data)}catch(e){console.error("Error fetching CheckLists data:",e)}},onRowClicked(e){this.$emit("rowClicked",e.data)},onRowSelected(e){e.node.isSelected()&&this.$emit("rowSelected",e.node.data)},onSelectionChanged(){this.$refs.agGrid&&this.$refs.agGrid.api&&(this.selectedRows=this.$refs.agGrid.api.getSelectedRows())},editButtonRenderer(e){const t=document.createElement("button");return t.innerHTML='<i class="fas fa-eye"></i>',t.classList.add("btn","btn-success"),t.addEventListener("click",(()=>this.onViewClick(e.data))),t},onViewClick(e){"In Progress"===e.status?this.$router.push(`/begin-checklist/${e.bom.id}`):this.$router.push(`/checklist-details/${e.id}`)}}};const Wi=(0,J.Z)(Ei,[["render",Mi],["__scopeId","data-v-d8a88ac6"]]);var Ai=Wi,Fi={components:{CheckListsTable:Ai}};const qi=(0,J.Z)(Fi,[["render",$i]]);var zi=qi;const Gi=e=>((0,l.dD)("data-v-277b9f58"),e=e(),(0,l.Cn)(),e),Zi={class:"container"},Vi=(0,l.uE)('<div class="row align-items-center" data-v-277b9f58><div class="col-md-6 mt-4" data-v-277b9f58><div class="d-flex align-items-center" data-v-277b9f58><h2 class="mb-0" data-v-277b9f58>Checklist Details</h2><span class="ms-3 fs-4 text-muted me-3" data-v-277b9f58>|</span><nav aria-label="breadcrumb" data-v-277b9f58><ol class="breadcrumb bg-transparent m-0 p-0 justify-content-end" data-v-277b9f58><li class="breadcrumb-item" data-v-277b9f58><a href="/" data-v-277b9f58>Home</a></li><li class="breadcrumb-item active" aria-current="page" data-v-277b9f58> Checklist </li></ol></nav></div></div><div class="col-md-6 mt-4 d-flex justify-content-end" data-v-277b9f58><div class="container" data-v-277b9f58><div class="d-flex justify-content-end" data-v-277b9f58><button type="button" data-bs-toggle="modal" data-bs-target="#generateLabelModal" class="btn btn-success me-2" data-v-277b9f58> Generate Label </button></div></div></div></div>',1),ji={class:"modal fade",id:"generateLabelModal",tabindex:"-1","aria-labelledby":"generateLabelModalLabel","aria-hidden":"true"},Hi={class:"modal-dialog"},Qi={class:"modal-content"},Yi=Gi((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"generateLabelModalLabel"}," Generate Label "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ki=Gi((()=>(0,l._)("div",{class:"modal-body"}," You can only generate a label if all checks are passed ",-1))),Ji={class:"modal-footer"},Xi=Gi((()=>(0,l._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"}," Cancel ",-1))),ec={key:0,type:"button",class:"btn btn-success","data-bs-dismiss":"modal"},tc={class:"card border-primary mb-4 mt-4"},sc=Gi((()=>(0,l._)("div",{class:"card-header bg-primary text-white"},[(0,l._)("h4",{class:"mb-0"},"BOM Details")],-1))),ac={class:"card-body"},lc={class:"row"},ic={key:0,class:"col"},cc=Gi((()=>(0,l._)("strong",null,"Product Name:",-1))),oc={key:1,class:"col"},nc=Gi((()=>(0,l._)("strong",null,"Product Code:",-1))),rc={class:"col"},dc=Gi((()=>(0,l._)("strong",null,"BOM Rev No:",-1))),uc={class:"col"},mc=Gi((()=>(0,l._)("strong",null,"Issue Date:",-1))),hc={class:"accordion",id:"accordionPanelsStayOpenExample"},pc={class:"accordion-item"},fc={class:"accordion-header",id:"panelsStayOpen-headingOne"},bc={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"},_c={key:0},gc=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),kc=[gc],vc={key:1},yc=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),wc=[yc],Sc={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne"},Cc={class:"accordion-body"},Dc={class:"accordion-item"},Ic={class:"accordion-header",id:"panelsStayOpen-headingTwo"},xc={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"},Rc={key:0},Pc=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Uc=[Pc],Oc={key:1},Bc=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Tc=[Bc],Lc={id:"panelsStayOpen-collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo"},Nc={class:"accordion-body"},$c={class:"accordion-item"},Mc={class:"accordion-header",id:"panelsStayOpen-headingThree"},Ec={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree"},Wc={key:0},Ac=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Fc=[Ac],qc={key:1},zc=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Gc=[zc],Zc={id:"panelsStayOpen-collapseThree",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingThree"},Vc={class:"accordion-body"},jc={class:"accordion-item"},Hc={class:"accordion-header",id:"panelsStayOpen-headingFour"},Qc={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFour","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFour"},Yc={key:0},Kc=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Jc=[Kc],Xc={key:1},eo=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),to=[eo],so={id:"panelsStayOpen-collapseFour",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFour"},ao={class:"accordion-body"},lo={class:"accordion-item"},io={class:"accordion-header",id:"panelsStayOpen-headingFive"},co={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseFive","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseFive"},oo={key:0},no=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),ro=[no],uo={key:1},mo=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),ho=[mo],po={id:"panelsStayOpen-collapseFive",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingFive"},fo={class:"accordion-body"},bo={class:"accordion-item"},_o={class:"accordion-header",id:"panelsStayOpen-headingSix"},go={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSix","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSix"},ko={key:0},vo=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),yo=[vo],wo={key:1},So=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Co=[So],Do={id:"panelsStayOpen-collapseSix",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSix"},Io={class:"accordion-body"},xo={class:"accordion-item"},Ro={class:"accordion-header",id:"panelsStayOpen-headingSeven"},Po={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseSeven","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseSeven"},Uo={key:0},Oo=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),Bo=[Oo],To={key:1},Lo=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),No=[Lo],$o={id:"panelsStayOpen-collapseSeven",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingSeven"},Mo={class:"accordion-body"},Eo={class:"accordion-item"},Wo={class:"accordion-header",id:"panelsStayOpen-headingEight"},Ao={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseEight","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseEight"},Fo={key:0},qo=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),zo=[qo],Go={key:1},Zo=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),Vo=[Zo],jo={id:"panelsStayOpen-collapseEight",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingEight"},Ho={class:"accordion-body"},Qo={class:"accordion-item"},Yo={class:"accordion-header",id:"panelsStayOpen-headingNine"},Ko={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseNine","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseNine"},Jo={key:0},Xo=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),en=[Xo],tn={key:1},sn=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),an=[sn],ln={id:"panelsStayOpen-collapseNine",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingNine"},cn={class:"accordion-body"},on={class:"accordion-item"},nn={class:"accordion-header",id:"panelsStayOpen-headingTen"},rn={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTen","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTen"},dn={key:0},un=Gi((()=>(0,l._)("i",{class:"bi bi-x-circle-fill fs-4 ms-2"},null,-1))),mn=[un],hn={key:1},pn=Gi((()=>(0,l._)("i",{class:"bi bi-check-circle-fill fs-4 ms-2"},null,-1))),fn=[pn],bn={id:"panelsStayOpen-collapseTen",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTen"},_n={class:"accordion-body"};function gn(e,t,s,a,i,c){const o=(0,l.up)("CheckListTable");return(0,l.wg)(),(0,l.iD)("div",Zi,[Vi,(0,l._)("div",ji,[(0,l._)("div",Hi,[(0,l._)("div",Qi,[Yi,Ki,(0,l._)("div",Ji,[Xi,i.isChecklistPassed?((0,l.wg)(),(0,l.iD)("button",ec," Generate ")):(0,l.kq)("",!0)])])])]),(0,l._)("div",tc,[sc,(0,l._)("div",ac,[(0,l._)("div",lc,[i.activeBom.product?((0,l.wg)(),(0,l.iD)("div",ic,[cc,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.product.name),1)])):(0,l.kq)("",!0),i.activeBom.product?((0,l.wg)(),(0,l.iD)("div",oc,[nc,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.product.product_code),1)])):(0,l.kq)("",!0),(0,l._)("div",rc,[dc,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.bom_rev_number),1)]),(0,l._)("div",uc,[mc,(0,l.Uk)(" "+(0,ke.zw)(i.activeBom.issue_date),1)])])])]),(0,l._)("div",hc,[(0,l._)("div",pc,[(0,l._)("h2",fc,[(0,l._)("button",bc,[(0,l.Uk)(" Raw Material Check "),0==i.isRawMaterialSufficient?((0,l.wg)(),(0,l.iD)("div",_c,kc)):((0,l.wg)(),(0,l.iD)("div",vc,wc))])]),(0,l._)("div",Sc,[(0,l._)("div",Cc,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["Raw Material"]},null,8,["checklistItems"])])])]),(0,l._)("div",Dc,[(0,l._)("h2",Ic,[(0,l._)("button",xc,[(0,l.Uk)(" PCB Check "),0==i.isPcbSufficient?((0,l.wg)(),(0,l.iD)("div",Rc,Uc)):((0,l.wg)(),(0,l.iD)("div",Oc,Tc))])]),(0,l._)("div",Lc,[(0,l._)("div",Nc,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["PCB"]},null,8,["checklistItems"])])])]),(0,l._)("div",$c,[(0,l._)("h2",Mc,[(0,l._)("button",Ec,[(0,l.Uk)(" Solder Paste "),0==i.isSolderPasteSufficient?((0,l.wg)(),(0,l.iD)("div",Wc,Fc)):((0,l.wg)(),(0,l.iD)("div",qc,Gc))])]),(0,l._)("div",Zc,[(0,l._)("div",Vc,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["Solder Paste"]},null,8,["checklistItems"])])])]),(0,l._)("div",jc,[(0,l._)("h2",Hc,[(0,l._)("button",Qc,[(0,l.Uk)(" Solder Bar "),0==i.isSolderBarSufficient?((0,l.wg)(),(0,l.iD)("div",Yc,Jc)):((0,l.wg)(),(0,l.iD)("div",Xc,to))])]),(0,l._)("div",so,[(0,l._)("div",ao,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["Solder Bar"]},null,8,["checklistItems"]),(0,l.Uk)("> ")])])]),(0,l._)("div",lo,[(0,l._)("h2",io,[(0,l._)("button",co,[(0,l.Uk)(" Solder Flux "),0==i.isSolderFluxSufficient?((0,l.wg)(),(0,l.iD)("div",oo,ro)):((0,l.wg)(),(0,l.iD)("div",uo,ho))])]),(0,l._)("div",po,[(0,l._)("div",fo,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["Solder Flux"]},null,8,["checklistItems"])])])]),(0,l._)("div",bo,[(0,l._)("h2",_o,[(0,l._)("button",go,[(0,l.Uk)(" IPA "),0==i.isIpaSufficient?((0,l.wg)(),(0,l.iD)("div",ko,yo)):((0,l.wg)(),(0,l.iD)("div",wo,Co))])]),(0,l._)("div",Do,[(0,l._)("div",Io,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["IPA"]},null,8,["checklistItems"])])])]),(0,l._)("div",xo,[(0,l._)("h2",Ro,[(0,l._)("button",Po,[(0,l.Uk)(" Solder Wire "),0==i.isSolderWireSufficient?((0,l.wg)(),(0,l.iD)("div",Uo,Bo)):((0,l.wg)(),(0,l.iD)("div",To,No))])]),(0,l._)("div",$o,[(0,l._)("div",Mo,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["Solder Wire"]},null,8,["checklistItems"])])])]),(0,l._)("div",Eo,[(0,l._)("h2",Wo,[(0,l._)("button",Ao,[(0,l.Uk)(" SMT Pallet "),0==i.isSMTPalletSufficient?((0,l.wg)(),(0,l.iD)("div",Fo,zo)):((0,l.wg)(),(0,l.iD)("div",Go,Vo))])]),(0,l._)("div",jo,[(0,l._)("div",Ho,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["SMT Pallet"]},null,8,["checklistItems"])])])]),(0,l._)("div",Qo,[(0,l._)("h2",Yo,[(0,l._)("button",Ko,[(0,l.Uk)(" Wave Pallet "),0==i.isWavePalletSufficient?((0,l.wg)(),(0,l.iD)("div",Jo,en)):((0,l.wg)(),(0,l.iD)("div",tn,an))])]),(0,l._)("div",ln,[(0,l._)("div",cn,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["Wave Pallet"]},null,8,["checklistItems"])])])]),(0,l._)("div",on,[(0,l._)("h2",nn,[(0,l._)("button",rn,[(0,l.Uk)(" PCB Serial Number Label "),0==i.isLabelSufficient?((0,l.wg)(),(0,l.iD)("div",dn,mn)):((0,l.wg)(),(0,l.iD)("div",hn,fn))])]),(0,l._)("div",bn,[(0,l._)("div",_n,[(0,l.Wm)(o,{checklistItems:i.filteredChecklistItems["PCB Serial Number Label"]},null,8,["checklistItems"])])])])])])}var kn={components:{CheckListTable:vi},data(){return{activeBom:"",checklist:"",checklistItems:[],isRawMaterialSufficient:!1,isPcbSufficient:!1,isSolderPasteSufficient:!1,isSolderBarSufficient:!1,isSolderFluxSufficient:!1,isIpaSufficient:!1,isSolderWireSufficient:!1,isSMTPalletSufficient:!1,isWavePalletSufficient:!1,isLabelSufficient:!1,isChecklistPassed:!1,isChecklistEnded:!1,pollingInterval:"",filteredChecklistItems:{"Raw Material":[],PCB:[],"Solder Paste":[],"Solder Bar":[],"Solder Flux":[],IPA:[],"Solder Wire":[],"SMT Pallet":[],"Wave Pallet":[],"PCB Serial Number Label":[]}}},mounted(){this.getChecklist()},methods:{async getChecklist(){this.$store.commit("setIsLoading",!0),this.$store.commit("setIsLoading",!1),await ue.Z.get(`store/get-checklist-details/${this.$route.params.id}/`).then((e=>{console.log("yehh",e.data),this.checklist=e.data.checklist,this.checklistItems=this.checklist.checklist_items,console.log("chehcklist items hereeeeee",this.checklistItems),console.log("chehcklist items hereeeeee",this.checklistItems);const t=this.filterChecklistItemsByType("Raw Material");console.log(t);const s=this.filterChecklistItemsByType("PCB"),a=this.filterChecklistItemsByType("Solder Paste"),l=this.filterChecklistItemsByType("Solder Bar"),i=this.filterChecklistItemsByType("Solder Flux"),c=this.filterChecklistItemsByType("IPA"),o=this.filterChecklistItemsByType("Solder Wire"),n=this.filterChecklistItemsByType("SMT Pallet"),r=this.filterChecklistItemsByType("Wave Pallet"),d=this.filterChecklistItemsByType("PCB Serial Number Label");this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,this.filteredChecklistItems={"Raw Material":t,PCB:s,"Solder Paste":a,"Solder Bar":l,"Solder Flux":i,IPA:c,"Solder Wire":o,"SMT Pallet":n,"Wave Pallet":r,"PCB Serial Number Label":d},console.log("filered checklsit items",this.filteredChecklistItems),this.isRawMaterialSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Raw Material"),this.isPcbSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB"),this.isSolderPasteSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Paste"),this.isSolderBarSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Bar"),console.log("checking solder bar",this.isSolderBarSufficient),this.isSolderFluxSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Flux"),this.isIpaSufficient=this.isItemsSufficient(this.filteredChecklistItems,"IPA"),this.isSolderWireSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Solder Wire"),this.isSMTPalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"SMT Pallet"),this.isWavePalletSufficient=this.isItemsSufficient(this.filteredChecklistItems,"Wave Pallet"),this.isLabelSufficient=this.isItemsSufficient(this.filteredChecklistItems,"PCB Serial Number Label"),this.isChecklistPassed=this.checklist.is_passed,this.activeBom=this.checklist.bom,"Completed"!=this.checklist.status&&"Failed"!=this.checklist.status||(this.isChecklistEnded=!0),this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))},filterChecklistItemsByType(e){return this.checklistItems.filter((t=>{const s=t.checklist_item_type;return!(!s||!s.name)&&s.name.toLowerCase()===e.toLowerCase()}))},isItemsSufficient(e,t){const s=this.filteredChecklistItems[t];if(0===s.length)return!1;const a=s.filter((e=>!0===e.is_quantity_sufficient));return a.length===s.length}}};const vn=(0,J.Z)(kn,[["render",gn],["__scopeId","data-v-277b9f58"]]);var yn=vn;const wn={class:"container"},Sn=(0,l.uE)('<div class="row align-items-center"><div class="col-md-6 mt-4"><div class="d-flex align-items-center"><h2 class="mb-0">Reports</h2><span class="ms-3 fs-4 text-muted">|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3"><ol class="breadcrumb bg-transparent m-0 p-0"><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item active" aria-current="page"> Reports </li></ol></nav></div></div></div>',1),Cn={class:"conatiner"},Dn={class:"list-group pt-4"};function In(e,t){const s=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",wn,[Sn,(0,l._)("div",Cn,[(0,l._)("ul",Dn,[(0,l.Wm)(s,{class:"list-group-item list-group-item-action text-left",to:"/checklist-report"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Checklist Report ")])),_:1})])])])}const xn={},Rn=(0,J.Z)(xn,[["render",In]]);var Pn=Rn;const Un=e=>((0,l.dD)("data-v-1256c657"),e=e(),(0,l.Cn)(),e),On={class:"container"},Bn={class:"row align-items-center"},Tn=(0,l.uE)('<div class="col-md-6 mt-4" data-v-1256c657><div class="d-flex align-items-center" data-v-1256c657><h2 class="mb-0" data-v-1256c657>Dashboard</h2><span class="ms-3 fs-4 text-muted" data-v-1256c657>|</span><nav aria-label="breadcrumb" class="d-inline-block ms-3" data-v-1256c657><ol class="breadcrumb bg-transparent m-0 p-0" data-v-1256c657><li class="breadcrumb-item" data-v-1256c657><a href="/" data-v-1256c657>Home</a></li><li class="breadcrumb-item active" aria-current="page" data-v-1256c657> Dashboard </li></ol></nav></div></div>',1),Ln={class:"col-md-6 mt-4 text-end"},Nn={class:"container"},$n={class:"dropdown"},Mn={class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},En={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Wn=Un((()=>(0,l._)("a",{class:"dropdown-item",href:"#"},"Today",-1))),An=[Wn],Fn=Un((()=>(0,l._)("a",{class:"dropdown-item",href:"#"},"Previous Week",-1))),qn=[Fn],zn=Un((()=>(0,l._)("a",{class:"dropdown-item",href:"#"},"Previous Month",-1))),Gn=[zn],Zn=Un((()=>(0,l._)("li",null,[(0,l._)("button",{type:"button",class:"btn","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Custom Date Range ")],-1))),Vn={class:"row mt-4",style:{display:"flex",gap:"30px","justify-content":"space-between"}},jn={class:"small-box bg-gradient-success",style:{flex:"1"}},Hn={class:"inner"},Qn=Un((()=>(0,l._)("p",null,"Completed",-1))),Yn=Un((()=>(0,l._)("div",{class:"icon"},[(0,l._)("i",{class:"fa-solid fa-check"})],-1))),Kn={class:"small-box bg-gradient-primary",style:{flex:"1"}},Jn={class:"inner"},Xn=Un((()=>(0,l._)("p",null,"In Progress",-1))),er=Un((()=>(0,l._)("div",{class:"icon"},[(0,l._)("i",{class:"fa-solid fa-spinner"})],-1))),tr={class:"small-box bg-gradient-danger",style:{flex:"1"}},sr={class:"inner"},ar=Un((()=>(0,l._)("p",null,"Failed",-1))),lr=Un((()=>(0,l._)("div",{class:"icon"},[(0,l._)("i",{class:"fa-solid fa-xmark"})],-1))),ir={class:"row mt-4 d-flex"},cr={class:"col-6"},or={class:"card card-primary"},nr={class:"card-header"},rr=Un((()=>(0,l._)("h3",{class:"card-title"},"In Progress Checklists",-1))),dr={class:"card-tools"},ur={class:"card-body"},mr={class:"row"},hr={key:0},pr={class:"list-group list-group-flush"},fr={key:1},br={class:"col-6"},_r={class:"card card-success"},gr={class:"card-header"},kr=Un((()=>(0,l._)("h3",{class:"card-title"},"Completed Checklists",-1))),vr={class:"card-tools"},yr={class:"card-body"},wr={class:"row"},Sr={key:0},Cr={class:"list-group list-group-flush"},Dr=["onClick"],Ir={key:1},xr={class:"row mt-4 d-flex"},Rr={class:"col-6"},Pr={class:"card card-danger"},Ur={class:"card-header"},Or=Un((()=>(0,l._)("h3",{class:"card-title"},"Failed Checklists",-1))),Br={class:"card-tools"},Tr={class:"card-body"},Lr={class:"row"},Nr={key:0},$r={class:"list-group list-group-flush"},Mr=["onClick"],Er=Un((()=>(0,l._)("i",{class:"fas fa-eye"},null,-1))),Wr={key:1},Ar=Un((()=>(0,l._)("div",{class:"col-6"},null,-1))),Fr={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},qr={class:"modal-dialog"},zr={class:"modal-content"},Gr=Un((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},[(0,l._)("strong",null,"Custom Date Range")]),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Zr={class:"modal-body"},Vr={class:"mb-3"},jr=Un((()=>(0,l._)("label",{for:"startDate",class:"form-label"},"Start Date:",-1))),Hr={class:"mb-3"},Qr=Un((()=>(0,l._)("label",{for:"endDate",class:"form-label"},"End Date:",-1))),Yr={key:0,class:"alert alert-danger mt-3 p-2"},Kr=Un((()=>(0,l._)("i",{class:"fas fa-exclamation-triangle"},null,-1))),Jr={class:"modal-footer"},Xr=Un((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1))),ed=["disabled"];function td(e,t,s,i,c,o){return(0,l.wg)(),(0,l.iD)("div",On,[(0,l._)("div",Bn,[Tn,(0,l._)("div",Ln,[(0,l._)("div",Nn,[(0,l._)("div",$n,[(0,l._)("button",Mn,(0,ke.zw)("Previous_Week"===c.selectedOption?"Previous Week":"Previous_Month"===c.selectedOption?"Previous Month":c.selectedOption),1),(0,l._)("ul",En,[(0,l._)("li",{onClick:t[0]||(t[0]=e=>o.selectOption("Today")),class:(0,ke.C_)({active:"Today"===c.selectedOption})},An,2),(0,l._)("li",{onClick:t[1]||(t[1]=e=>o.selectOption("Previous_Week")),class:(0,ke.C_)({active:"Previous_Week"===c.selectedOption})},qn,2),(0,l._)("li",{onClick:t[2]||(t[2]=e=>o.selectOption("Previous_Month")),class:(0,ke.C_)({active:"Previous_Month"===c.selectedOption})},Gn,2),Zn])])])])]),(0,l._)("div",Vn,[(0,l._)("div",jn,[(0,l._)("div",Hn,[(0,l._)("h3",null,(0,ke.zw)(c.result.completed_checklists?c.result.completed_checklists.length:"Loading"),1),Qn]),Yn]),(0,l._)("div",Kn,[(0,l._)("div",Jn,[(0,l._)("h3",null,(0,ke.zw)(c.result.in_progress?c.result.in_progress.length:"Loading"),1),Xn]),er]),(0,l._)("div",tr,[(0,l._)("div",sr,[(0,l._)("h3",null,(0,ke.zw)(c.result.failed_checklists?c.result.failed_checklists.length:"Loading"),1),ar]),lr])]),(0,l._)("div",ir,[(0,l._)("div",cr,[(0,l._)("div",or,[(0,l._)("div",nr,[rr,(0,l._)("div",dr,[(0,l._)("button",{class:"btn btn-primary btn-sm",onClick:t[3]||(t[3]=(...e)=>o.redirectToGeneratedChecklistPage&&o.redirectToGeneratedChecklistPage(...e))}," View All ")])]),(0,l._)("div",ur,[(0,l._)("div",mr,[c.result&&c.result.in_progress&&c.result.in_progress.length>0?((0,l.wg)(),(0,l.iD)("div",hr,[(0,l._)("ul",pr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.result.in_progress,((e,s)=>((0,l.wg)(),(0,l.iD)("li",{key:s,class:"list-group-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"}},[(0,l.Uk)((0,ke.zw)(e.bom.product.name)+" - "+(0,ke.zw)(e.updated_at)+" ",1),(0,l._)("i",{class:"fas fa-eye",onClick:t[4]||(t[4]=e=>o.InProgressRedirectToChecklist())})])))),128))])])):((0,l.wg)(),(0,l.iD)("div",fr,"None"))])])])]),(0,l._)("div",br,[(0,l._)("div",_r,[(0,l._)("div",gr,[kr,(0,l._)("div",vr,[(0,l._)("button",{class:"btn btn-success btn-sm",onClick:t[5]||(t[5]=e=>o.redirectToGeneratedChecklistPage())}," View All ")])]),(0,l._)("div",yr,[(0,l._)("div",wr,[c.result&&c.result.completed_checklists&&c.result.completed_checklists.length>0?((0,l.wg)(),(0,l.iD)("div",Sr,[(0,l._)("ul",Cr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.result.completed_checklists,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,class:"list-group-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"}},[(0,l.Uk)((0,ke.zw)(e.bom.product.name)+" - "+(0,ke.zw)(e.updated_at)+" ",1),(0,l._)("i",{class:"fas fa-eye",onClick:t=>o.CompletedRedirectToDetailsChecklist(e.id)},null,8,Dr)])))),128))])])):((0,l.wg)(),(0,l.iD)("div",Ir,"None"))])])])])]),(0,l._)("div",xr,[(0,l._)("div",Rr,[(0,l._)("div",Pr,[(0,l._)("div",Ur,[Or,(0,l._)("div",Br,[(0,l._)("button",{class:"btn btn-danger btn-sm",onClick:t[6]||(t[6]=(...e)=>o.redirectToGeneratedChecklistPage&&o.redirectToGeneratedChecklistPage(...e))}," View All ")])]),(0,l._)("div",Tr,[(0,l._)("div",Lr,[c.result&&c.result.failed_checklists&&c.result.failed_checklists.length>0?((0,l.wg)(),(0,l.iD)("div",Nr,[(0,l._)("ul",$r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.result.failed_checklists,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,class:"list-group-item d-flex justify-content-between align-items-center",onClick:t=>o.FailedRedirectToDetailsChecklist(e.id),style:{cursor:"pointer"}},[(0,l.Uk)((0,ke.zw)(e.bom.product.name)+" - "+(0,ke.zw)(e.updated_at)+" ",1),Er],8,Mr)))),128))])])):((0,l.wg)(),(0,l.iD)("div",Wr,"None"))])])])]),Ar]),(0,l._)("div",Fr,[(0,l._)("div",qr,[(0,l._)("div",zr,[Gr,(0,l._)("div",Zr,[(0,l._)("div",Vr,[jr,(0,l.wy)((0,l._)("input",{id:"startDate",type:"date","onUpdate:modelValue":t[7]||(t[7]=e=>c.selectedStartDate=e),class:"form-control",placeholder:"Select start date",onInput:t[8]||(t[8]=(...e)=>o.validateDates&&o.validateDates(...e))},null,544),[[a.nr,c.selectedStartDate]])]),(0,l._)("div",Hr,[Qr,(0,l.wy)((0,l._)("input",{id:"endDate",type:"date","onUpdate:modelValue":t[9]||(t[9]=e=>c.selectedEndDate=e),class:"form-control",placeholder:"Select end date",onInput:t[10]||(t[10]=(...e)=>o.validateDates&&o.validateDates(...e))},null,544),[[a.nr,c.selectedEndDate]])]),c.errorMessage?((0,l.wg)(),(0,l.iD)("div",Yr,[Kr,(0,l.Uk)(" "+(0,ke.zw)(c.errorMessage),1)])):(0,l.kq)("",!0)]),(0,l._)("div",Jr,[Xr,(0,l._)("button",{type:"button",class:"btn btn-success",onClick:t[11]||(t[11]=(...e)=>o.setSelectedOptionAndFetchData&&o.setSelectedOptionAndFetchData(...e)),disabled:o.isFetchButtonDisabled,"data-bs-dismiss":"modal"}," Fetch Checklists ",8,ed)])])])])])}var sd={components:{},data(){return{selectedOption:"Today",result:{},selectedCustomDate:null,selectedStartDate:"",selectedEndDate:"",errorMessage:""}},computed:{isFetchButtonDisabled(){return!this.selectedStartDate||!this.selectedEndDate||new Date(this.selectedStartDate)>new Date(this.selectedEndDate)||new Date(this.selectedStartDate)>new Date||new Date(this.selectedEndDate)>new Date}},mounted(){this.fetchData()},methods:{validateDates(){if(!this.selectedStartDate)return void(this.errorMessage="Please select a start date.");const e=new Date(this.selectedStartDate),t=new Date;if(e>t)return void(this.errorMessage="Start date cannot be in the future.");if(!this.selectedEndDate)return void(this.errorMessage="");const s=new Date(this.selectedEndDate);this.errorMessage=e>s?"Start date cannot be greater than end date.":s>t?"End date cannot be in the future.":""},selectOption(e){this.selectedOption=e,"Custom"!==this.selectOption&&this.fetchData()},async fetchData(){const e={selected_option:this.selectedOption,start_date:this.selectedStartDate,end_date:this.selectedEndDate};console.log(e.selected_option),console.log(e.start_date),console.log(e.end_date),await ue.Z.post("store/get-checklist-count/",e).then((e=>{this.result=e.data,console.log("backend data",this.result)})).catch((e=>{console.error(e)}))},setSelectedOptionAndFetchData(){this.selectedOption="Custom",this.validateDates(),""===this.errorMessage&&this.fetchData()},redirectToGeneratedChecklistPage(){const e=[...this.result.in_progress,...this.result.completed_checklists,...this.result.failed_checklists],t=e.find((e=>void 0!==e.bom?.id&&null!==e.bom?.id));if(t){const e=t.bom.id;console.log(e),this.$router.push(`/generated-checklists/${e}`)}else console.error("No valid id found in the checklists")},InProgressRedirectToChecklist(){const e=this.result?.in_progress?.[0]?.bom?.id;console.log(e),void 0!==e&&null!==e?this.$router.push(`/begin-checklist/${e}`):console.error("id is not available")},FailedRedirectToDetailsChecklist(e){void 0!==e&&null!==e?this.$router.push(`/checklist-details/${e}`):console.error("checklistId is not available")},CompletedRedirectToDetailsChecklist(e){void 0!==e&&null!==e?this.$router.push(`/checklist-details/${e}`):console.error("checklistId is not available")}}};const ad=(0,J.Z)(sd,[["render",td],["__scopeId","data-v-1256c657"]]);var ld=ad;const id={class:"container"},cd={class:"row align-items-center"},od={class:"col-md-6 mt-4"},nd={class:"d-flex align-items-center"},rd=(0,l._)("h2",{class:"mb-0"},"Checklist Report",-1),dd=(0,l._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1),ud={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},md={class:"breadcrumb bg-transparent m-0 p-0"},hd=(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"/"},"Home")],-1),pd={class:"breadcrumb-item active"},fd=(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"}," Checklist Report ",-1);function bd(e,t,s,a,i,c){const o=(0,l.up)("router-link"),n=(0,l.up)("ChecklistReportTable");return(0,l.wg)(),(0,l.iD)("div",id,[(0,l._)("div",cd,[(0,l._)("div",od,[(0,l._)("div",nd,[rd,dd,(0,l._)("nav",ud,[(0,l._)("ol",md,[hd,(0,l._)("li",pd,[(0,l.Wm)(o,{to:"/reports"},{default:(0,l.w5)((()=>[(0,l.Uk)("Reports")])),_:1})]),fd])])])])]),(0,l.Wm)(n,{checklists:i.checklists,style:{"margin-top":"20px"}},null,8,["checklists"])])}const _d=e=>((0,l.dD)("data-v-9942466e"),e=e(),(0,l.Cn)(),e),gd={class:"card card-outline card-primary mt-2"},kd={class:"card-body"},vd={class:"row"},yd={class:"col-md-3 text-center"},wd=_d((()=>(0,l._)("h6",{class:"lead"},"Total Completed",-1))),Sd={class:"display-6"},Cd={class:"col-md-3 text-center"},Dd=_d((()=>(0,l._)("h6",{class:"lead"},"Total In Progress",-1))),Id={class:"display-6"},xd={class:"col-md-3 text-center"},Rd=_d((()=>(0,l._)("h6",{class:"lead"},"Total Failed",-1))),Pd={class:"display-6"},Ud={class:"col-md-3 text-center"},Od=_d((()=>(0,l._)("h6",{class:"lead"},"Total Checklists",-1))),Bd={class:"display-6"};function Td(e,t,s,a,i,c){const o=(0,l.up)("ag-grid-vue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",gd,[(0,l._)("div",kd,[(0,l._)("div",vd,[(0,l._)("div",yd,[wd,(0,l._)("p",Sd,(0,ke.zw)(i.total_completed),1)]),(0,l._)("div",Cd,[Dd,(0,l._)("p",Id,(0,ke.zw)(i.total_in_progress),1)]),(0,l._)("div",xd,[Rd,(0,l._)("p",Pd,(0,ke.zw)(i.total_failed),1)]),(0,l._)("div",Ud,[Od,(0,l._)("p",Bd,(0,ke.zw)(i.total_checklists),1)])])])]),(0,l._)("div",null,[(0,l.Wm)(o,{style:{height:"500px"},class:"ag-theme-quartz",rowData:s.checklists,defaultColDef:i.defaultColDef,columnDefs:i.colDefs,pagination:!0,onFirstDataRendered:c.onFirstDataRendered,onGridReady:c.onGridReady},null,8,["rowData","defaultColDef","columnDefs","onFirstDataRendered","onGridReady"])])],64)}var Ld={components:{AgGridVue:et.n},props:{checklists:{type:Array,required:!0}},data(){return{colDefs:[{headerName:"Checklist ID",field:"id"},{headerName:"Product Name",field:"bom.product.name"},{headerName:"Product Code",field:"bom.product.product_code"},{headerName:"Updated At",field:"updated_at"},{headerName:"Updated By",valueGetter:function(e){if(console.log(e.data.updated_by),null!=e.data.updated_by){const t=e.data.updated_by.first_name||"",s=e.data.updated_by.last_name||"";return t||s?`${t} ${s}`:""}return""}},{headerName:"Created At",field:"created_at"},{headerName:"Created By",valueGetter:function(e){const t=e.data.created_by.first_name||"",s=e.data.created_by.last_name||"";return t||s?`${t} ${s}`:""}},{headerName:"Status",field:"status"},{headerName:"View",cellRenderer:this.viewButtonRenderer}],defaultColDef:{filter:!0,sortable:!0,resizable:!0,autoSize:!0},gridApi:null,total_completed:0,total_in_progress:0,total_failed:0,total_checklists:0}},mounted(){},methods:{onFirstDataRendered(){this.calculateTotalSum(),this.gridApi.addEventListener("filterChanged",this.calculateTotalSum)},onGridReady(e){this.gridApi=e.api},calculateTotalSum(){let e=0,t=0,s=0;this.gridApi.forEachNodeAfterFilter((a=>{"Completed"==a.data.status?e+=1:"In Progress"==a.data.status?t+=1:s+=1})),this.total_completed=e,this.total_failed=s,this.total_in_progress=t,this.total_checklists=this.gridApi.getDisplayedRowCount()},viewButtonRenderer(e){const t=document.createElement("button");return t.innerHTML='<i class="fas fa-eye"></i>',t.classList.add("btn","btn-outline-secondary"),t.addEventListener("click",(()=>this.onViewClick(e.data))),t},onViewClick(e){"In Progress"===e.status?this.$router.push(`/begin-checklist/${e.bom.id}`):this.$router.push(`/checklist-details/${e.id}`)}}};const Nd=(0,J.Z)(Ld,[["render",Td],["__scopeId","data-v-9942466e"]]);var $d=Nd,Md={components:{ChecklistReportTable:$d},data(){return{checklists:[]}},mounted(){this.getChecklistReport()},methods:{async getChecklistReport(){console.log("run"),this.$store.commit("setIsLoading",!0),this.$store.commit("setIsLoading",!1),await ue.Z.get("store/get-checklist-report/").then((e=>{console.log(e.data),this.checklists=e.data.checklists,this.$store.commit("setIsLoading",!1)})).catch((e=>{console.log("error:",e),this.$notify({title:"An error occured, please try again later",type:"bg-danger-subtle text-danger",duration:"5000"}),this.$store.commit("setIsLoading",!1)}))}}};const Ed=(0,J.Z)(Md,[["render",bd]]);var Wd=Ed;const Ad=e=>((0,l.dD)("data-v-d79fea44"),e=e(),(0,l.Cn)(),e),Fd={class:"container"},qd={class:"row align-items-center"},zd={class:"col-md-6 mt-4"},Gd={class:"d-flex align-items-center"},Zd=Ad((()=>(0,l._)("h2",{class:"mb-0"},"Users",-1))),Vd=Ad((()=>(0,l._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),jd={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},Hd={class:"breadcrumb bg-transparent m-0 p-0"},Qd={class:"breadcrumb-item"},Yd=Ad((()=>(0,l._)("i",{class:"fas fa-home me-1"},null,-1))),Kd=Ad((()=>(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,l._)("i",{class:"fas fa-users me-1"}),(0,l.Uk)("Users ")],-1))),Jd={class:"col-md-6 mt-4 text-end"},Xd=Ad((()=>(0,l._)("i",{class:"fas fa-user-plus me-1"},null,-1))),eu={class:"container mt-5"},tu={class:"table table-hover"},su=Ad((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Email"),(0,l._)("th",null,"Actions")])],-1))),au=["onClick"],lu=Ad((()=>(0,l._)("i",{class:"fas fa-edit me-1"},null,-1))),iu=["onClick"],cu=Ad((()=>(0,l._)("i",{class:"fas fa-trash-alt me-1"},null,-1)));function ou(e,t,s,a,i,c){const o=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Fd,[(0,l._)("div",qd,[(0,l._)("div",zd,[(0,l._)("div",Gd,[Zd,Vd,(0,l._)("nav",jd,[(0,l._)("ol",Hd,[(0,l._)("li",Qd,[(0,l.Wm)(o,{to:"/"},{default:(0,l.w5)((()=>[Yd,(0,l.Uk)(" Home")])),_:1})]),Kd])])])]),(0,l._)("div",Jd,[(0,l.Wm)(o,{to:"/users/create-user",class:"btn btn-primary btn-sm ms-2"},{default:(0,l.w5)((()=>[Xd,(0,l.Uk)(" Create New User ")])),_:1})])]),(0,l._)("div",eu,[(0,l._)("table",tu,[su,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.userList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,onClick:t=>c.redirectToEditPage(e.id)},[(0,l._)("td",null,(0,ke.zw)(e.email),1),(0,l._)("td",null,[(0,l.Wm)(o,{to:{name:"EditUser",params:{id:e.id}},class:"btn btn-primary btn-sm"},{default:(0,l.w5)((()=>[lu,(0,l.Uk)(" Edit ")])),_:2},1032,["to"]),(0,l._)("button",{onClick:t=>c.deleteUser(t,e.id),class:"btn btn-danger btn-sm ml-3"},[cu,(0,l.Uk)(" Delete ")],8,iu)])],8,au)))),128))])])])])}var nu={name:"UserManagement",data(){return{userList:[]}},mounted(){this.fetchUsers()},methods:{fetchUsers(){ue.Z.get("/accounts/users/").then((e=>{console.log("response.data",e.data),this.userList=e.data})).catch((e=>{console.error("Error fetching users:",e)}))},redirectToEditPage(e){this.$router.push({name:"EditUser",params:{id:e}})},deleteUser(e,t){e.stopPropagation(),confirm("Are you sure you want to delete this user?")&&ue.Z.delete(`/accounts/users/delete/${t}/`).then((()=>{console.log("User deleted successfully."),alert("User Deleted successfully!"),this.fetchUsers(),this.$router.push("/users")})).catch((e=>{alert("error deleting!"),console.error("Error deleting user:",e)}))}}};const ru=(0,J.Z)(nu,[["render",ou],["__scopeId","data-v-d79fea44"]]);var du=ru;const uu=e=>((0,l.dD)("data-v-1558d184"),e=e(),(0,l.Cn)(),e),mu={class:"container"},hu={class:"row align-items-center"},pu={class:"col-md-6 mt-4"},fu={class:"d-flex align-items-center"},bu=uu((()=>(0,l._)("h2",{class:"mb-0"},"Users",-1))),_u=uu((()=>(0,l._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),gu={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},ku={class:"breadcrumb bg-transparent m-0 p-0"},vu={class:"breadcrumb-item"},yu=uu((()=>(0,l._)("i",{class:"fas fa-home me-1"},null,-1))),wu={class:"breadcrumb-item"},Su=uu((()=>(0,l._)("i",{class:"fas fa-users me-1"},null,-1))),Cu=uu((()=>(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,l._)("i",{class:"fas fa-edit me-1"}),(0,l.Uk)(" Edit User ")],-1))),Du={class:"col-md-6 mt-4 text-end"},Iu=uu((()=>(0,l._)("i",{class:"fas fa-save me-1"},null,-1))),xu=uu((()=>(0,l._)("i",{class:"fas fa-trash me-1"},null,-1))),Ru={class:"card animate__animated animate__fadeIn mt-5"},Pu=uu((()=>(0,l._)("div",{class:"card-header bg-primary text-white"},[(0,l._)("h4",{class:"card-title"},[(0,l._)("i",{class:"fas fa-user me-1"}),(0,l.Uk)(" User Information ")])],-1))),Uu={class:"card-body"},Ou={class:"mb-3"},Bu=uu((()=>(0,l._)("label",{for:"email",class:"form-label"},"Email:",-1))),Tu={class:"input-group"},Lu=uu((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-envelope"})],-1))),Nu={key:0,class:"text-danger"},$u={class:"mb-3 row"},Mu={class:"col"},Eu=uu((()=>(0,l._)("label",{for:"first_name",class:"form-label"},"First Name:",-1))),Wu={class:"input-group"},Au=uu((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-user"})],-1))),Fu={key:0,class:"text-danger"},qu={class:"col"},zu=uu((()=>(0,l._)("label",{for:"last_name",class:"form-label"},"Last Name:",-1))),Gu={class:"input-group"},Zu=uu((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-user"})],-1))),Vu={class:"mb-3"},ju=uu((()=>(0,l._)("label",{for:"phone_number",class:"form-label"},"Phone Number:",-1))),Hu={class:"input-group"},Qu=uu((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-phone"})],-1))),Yu={class:"mb-3 row"},Ku={class:"col"},Ju={class:"form-check"},Xu=uu((()=>(0,l._)("label",{class:"form-check-label",for:"is_superuser"},[(0,l._)("i",{class:"fas fa-user-shield me-1"}),(0,l.Uk)(" Is Admin")],-1))),em={class:"col"},tm={class:"form-check"},sm=["disabled"],am=uu((()=>(0,l._)("label",{class:"form-check-label",for:"is_staff"},[(0,l._)("i",{class:"fas fa-user-cog me-1"}),(0,l.Uk)(" Is Staff")],-1)));function lm(e,t,s,i,c,o){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",mu,[(0,l._)("div",hu,[(0,l._)("div",pu,[(0,l._)("div",fu,[bu,_u,(0,l._)("nav",gu,[(0,l._)("ol",ku,[(0,l._)("li",vu,[(0,l.Wm)(n,{to:"/"},{default:(0,l.w5)((()=>[yu,(0,l.Uk)(" Home")])),_:1})]),(0,l._)("li",wu,[(0,l.Wm)(n,{to:"/users"},{default:(0,l.w5)((()=>[Su,(0,l.Uk)(" Users")])),_:1})]),Cu])])])]),(0,l._)("div",Du,[(0,l._)("button",{type:"submit",class:"btn btn-success btn-sm",onClick:t[0]||(t[0]=(...e)=>o.updateUser&&o.updateUser(...e))},[Iu,(0,l.Uk)(" Save Changes ")]),(0,l._)("button",{type:"button",class:"btn btn-danger ms-2 btn-sm",onClick:t[1]||(t[1]=(...e)=>o.deleteUser&&o.deleteUser(...e))},[xu,(0,l.Uk)(" Delete User ")])])]),(0,l._)("div",Ru,[Pu,(0,l._)("div",Uu,[(0,l._)("div",Ou,[Bu,(0,l._)("div",Tu,[Lu,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>c.editedUser.email=e),type:"email",class:"form-control",id:"email",required:""},null,512),[[a.nr,c.editedUser.email]])]),c.editedUser.email?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("small",Nu,"Email is required."))]),(0,l._)("div",$u,[(0,l._)("div",Mu,[Eu,(0,l._)("div",Wu,[Au,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>c.editedUser.first_name=e),type:"text",class:"form-control",id:"first_name",required:""},null,512),[[a.nr,c.editedUser.first_name]])]),c.editedUser.first_name?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("small",Fu,"First Name is required."))]),(0,l._)("div",qu,[zu,(0,l._)("div",Gu,[Zu,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>c.editedUser.last_name=e),type:"text",class:"form-control",id:"last_name"},null,512),[[a.nr,c.editedUser.last_name]])])])]),(0,l._)("div",Vu,[ju,(0,l._)("div",Hu,[Qu,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>c.editedUser.phone_number=e),type:"tel",class:"form-control",id:"phone_number"},null,512),[[a.nr,c.editedUser.phone_number]])])]),(0,l._)("div",Yu,[(0,l._)("div",Ku,[(0,l._)("div",Ju,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>c.editedUser.is_superuser=e),onChange:t[7]||(t[7]=(...e)=>o.updateIsStaff&&o.updateIsStaff(...e)),type:"checkbox",class:"form-check-input",id:"is_superuser"},null,544),[[a.e8,c.editedUser.is_superuser]]),Xu])]),(0,l._)("div",em,[(0,l._)("div",tm,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>c.editedUser.is_staff=e),disabled:c.editedUser.is_superuser,type:"checkbox",class:"form-check-input",id:"is_staff"},null,8,sm),[[a.e8,c.editedUser.is_staff]]),am])])])])])])}var im={name:"EditUser",data(){return{userId:null,editedUser:{email:"",first_name:"",last_name:"",phone_number:"",is_superuser:!1,is_staff:!1}}},mounted(){this.userId=this.$route.params.id,this.fetchUserData()},methods:{fetchUserData(){ue.Z.get(`/accounts/users/${this.userId}/`).then((e=>{console.log("edit user response data",e.data),this.editedUser=e.data})).catch((e=>{console.error("Error fetching user data:",e)}))},updateIsStaff(){this.editedUser.is_superuser&&(this.editedUser.is_staff=!0)},updateUser(){confirm("Are you sure you want to update this user?")&&ue.Z.put(`/accounts/users/update/${this.userId}/`,this.editedUser).then((e=>{console.log("User updated successfully:",e.data),location.reload()})).catch((e=>{console.error("Error updating user:",e)}))},deleteUser(){confirm("Are you sure you want to delete this user?")&&ue.Z.delete(`/accounts/users/delete/${this.userId}/`).then((()=>{console.log("User deleted successfully."),alert("User Deleted successfully!"),this.$router.push("/users")})).catch((e=>{alert("error deleting!"),console.error("Error deleting user:",e)}))}}};const cm=(0,J.Z)(im,[["render",lm],["__scopeId","data-v-1558d184"]]);var om=cm;const nm=e=>((0,l.dD)("data-v-1ac747f3"),e=e(),(0,l.Cn)(),e),rm={class:"container"},dm={class:"row align-items-center"},um={class:"col-md-6 mt-4"},mm={class:"d-flex align-items-center"},hm=nm((()=>(0,l._)("h2",{class:"mb-0"},"Users",-1))),pm=nm((()=>(0,l._)("span",{class:"ms-3 fs-4 text-muted"},"|",-1))),fm={"aria-label":"breadcrumb",class:"d-inline-block ms-3"},bm={class:"breadcrumb bg-transparent m-0 p-0"},_m={class:"breadcrumb-item"},gm=nm((()=>(0,l._)("i",{class:"fas fa-home me-1"},null,-1))),km={class:"breadcrumb-item"},vm=nm((()=>(0,l._)("i",{class:"fas fa-users me-1"},null,-1))),ym=nm((()=>(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,l._)("i",{class:"fa fa-user-plus"}),(0,l.Uk)(" Create User ")],-1))),wm={class:"col-md-6 mt-4 text-end"},Sm=nm((()=>(0,l._)("i",{class:"fas fa-save me-1"},null,-1))),Cm={class:"card animate__animated animate__fadeIn mt-5"},Dm=nm((()=>(0,l._)("div",{class:"card-header bg-primary text-white"},[(0,l._)("h4",{class:"card-title"},[(0,l._)("i",{class:"fas fa-user"}),(0,l.Uk)(" User Information")])],-1))),Im={class:"card-body"},xm={class:"mb-3"},Rm=nm((()=>(0,l._)("label",{for:"email",class:"form-label"},"Email:",-1))),Pm={class:"input-group"},Um=nm((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-envelope"})],-1))),Om={key:0,class:"text-danger"},Bm={class:"mb-3"},Tm=nm((()=>(0,l._)("label",{for:"password",class:"form-label"},"Password:",-1))),Lm={class:"input-group"},Nm=nm((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-lock"})],-1))),$m={key:0,class:"text-danger"},Mm={key:1,class:"text-danger"},Em=nm((()=>(0,l._)("i",{class:"fas fa-exclamation-triangle"},null,-1))),Wm={class:"mb-3 row"},Am={class:"col"},Fm=nm((()=>(0,l._)("label",{for:"first_name",class:"form-label"},"First Name:",-1))),qm={class:"input-group"},zm=nm((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-user"})],-1))),Gm={key:0,class:"text-danger"},Zm={class:"col"},Vm=nm((()=>(0,l._)("label",{for:"last_name",class:"form-label"},"Last Name:",-1))),jm={class:"input-group"},Hm=nm((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-user"})],-1))),Qm={class:"mb-3"},Ym=nm((()=>(0,l._)("label",{for:"phone_number",class:"form-label"},"Phone Number:",-1))),Km={class:"input-group"},Jm=nm((()=>(0,l._)("span",{class:"input-group-text"},[(0,l._)("i",{class:"fas fa-phone"})],-1))),Xm={class:"mb-3 row"},eh={class:"col"},th={class:"form-check"},sh=nm((()=>(0,l._)("label",{class:"form-check-label",for:"is_superuser"},"Is Admin",-1))),ah={class:"col"},lh={class:"form-check"},ih=nm((()=>(0,l._)("label",{class:"form-check-label",for:"is_staff"},"Is Staff",-1)));function ch(e,t,s,i,c,o){const n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",rm,[(0,l._)("div",dm,[(0,l._)("div",um,[(0,l._)("div",mm,[hm,pm,(0,l._)("nav",fm,[(0,l._)("ol",bm,[(0,l._)("li",_m,[(0,l.Wm)(n,{to:"/"},{default:(0,l.w5)((()=>[gm,(0,l.Uk)("Home")])),_:1})]),(0,l._)("li",km,[(0,l.Wm)(n,{to:"/users"},{default:(0,l.w5)((()=>[vm,(0,l.Uk)("Users")])),_:1})]),ym])])])]),(0,l._)("div",wm,[(0,l._)("button",{type:"submit",class:"btn btn-success btn-sm",onClick:t[0]||(t[0]=(...e)=>o.createUser&&o.createUser(...e))},[Sm,(0,l.Uk)(" Create User ")])])]),(0,l._)("div",Cm,[Dm,(0,l._)("div",Im,[(0,l._)("div",xm,[Rm,(0,l._)("div",Pm,[Um,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.newUser.email=e),type:"email",class:"form-control",id:"email",required:""},null,512),[[a.nr,c.newUser.email]])]),!c.newUser.email&&c.formSubmitted?((0,l.wg)(),(0,l.iD)("small",Om," Email is required. ")):(0,l.kq)("",!0)]),(0,l._)("div",Bm,[Tm,(0,l._)("div",Lm,[Nm,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>c.newUser.password=e),type:"password",class:"form-control",id:"password",required:"",onFocus:t[3]||(t[3]=(...e)=>o.clearPasswordError&&o.clearPasswordError(...e))},null,544),[[a.nr,c.newUser.password]])]),!c.newUser.password&&c.formSubmitted?((0,l.wg)(),(0,l.iD)("small",$m," Password is required. ")):(0,l.kq)("",!0),c.passwordAuthenticationError?((0,l.wg)(),(0,l.iD)("div",Mm,[(0,l._)("strong",null,[Em,(0,l.Uk)(" "+(0,ke.zw)(c.passwordAuthenticationError),1)])])):(0,l.kq)("",!0)]),(0,l._)("div",Wm,[(0,l._)("div",Am,[Fm,(0,l._)("div",qm,[zm,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>c.newUser.first_name=e),type:"text",class:"form-control",id:"first_name",required:""},null,512),[[a.nr,c.newUser.first_name]])]),!c.newUser.first_name&&c.formSubmitted?((0,l.wg)(),(0,l.iD)("small",Gm," First Name is required. ")):(0,l.kq)("",!0)]),(0,l._)("div",Zm,[Vm,(0,l._)("div",jm,[Hm,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>c.newUser.last_name=e),type:"text",class:"form-control",id:"last_name",required:""},null,512),[[a.nr,c.newUser.last_name]])])])]),(0,l._)("div",Qm,[Ym,(0,l._)("div",Km,[Jm,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>c.newUser.phone_number=e),type:"tel",class:"form-control",id:"phone_number"},null,512),[[a.nr,c.newUser.phone_number]])])]),(0,l._)("div",Xm,[(0,l._)("div",eh,[(0,l._)("div",th,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>c.newUser.is_superuser=e),type:"checkbox",class:"form-check-input",id:"is_superuser"},null,512),[[a.e8,c.newUser.is_superuser]]),sh])]),(0,l._)("div",ah,[(0,l._)("div",lh,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>c.newUser.is_staff=e),type:"checkbox",class:"form-check-input",id:"is_staff"},null,512),[[a.e8,c.newUser.is_staff]]),ih])])])])])])}var oh={name:"CreateUser",data(){return{newUser:{email:"",password:"",first_name:"",last_name:"",phone_number:"",is_superuser:!1,is_staff:!1},formSubmitted:!1,passwordAuthenticationError:null}},methods:{createUser(){this.formSubmitted=!0,this.passwordAuthenticationError=null,this.newUser.email&&this.newUser.password&&this.newUser.first_name&&ue.Z.post("/accounts/users/create/",this.newUser).then((e=>{console.log("User created successfully:",e.data),alert("User created successfully!"),this.$router.push("/users")})).catch((e=>{e.response&&e.response.data.password?this.passwordAuthenticationError=e.response.data.password[0]:console.error("Error creating user:",e)}))},clearPasswordError(){this.passwordAuthenticationError=null}}};const nh=(0,J.Z)(oh,[["render",ch],["__scopeId","data-v-1ac747f3"]]);var rh=nh;const dh=[{path:"/",name:"Home",component:ld},{path:"/login",name:"LoginForm",component:pe},{path:"/bom",name:"BomLanding",component:ct},{path:"/bom/upload",name:"UploadBom",component:je},{path:"/CheckList",name:"CheckList",component:hs},{path:"/reports",name:"ReportsList",component:Pn},{path:"/dashboard",name:"CheckListsDashboard",component:ld},{path:"/checklist-report",name:"ChecklistReport",component:Wd},{path:"/bom/edit/:id",name:"BomLineLevel",component:Yt,props:!0},{path:"/begin-checklist/:id",name:"begin-checklist",component:Ci,props:!0},{path:"/generated-checklists/:id",name:"generated-checklist",component:zi,props:!0},{path:"/checklist-details/:id",name:"checklist-details",component:yn,props:!0},{path:"/users",name:"users",component:du},{path:"/users/edit-user/:id",name:"EditUser",component:om},{path:"/users/create-user",name:"CreateUser",component:rh}],uh=(0,ge.p7)({history:(0,ge.PO)("/"),routes:dh});var mh=uh,hh=s(65);const ph=(0,hh.MT)({state:{user:{token:"",isAuthenticated:!1,username:"",password:""},isLoading:!1},mutations:{initializeStore(e){localStorage.getItem("token")?(e.user.token=localStorage.getItem("token"),ue.Z.defaults.headers.common["Authorization"]="Token "+e.user.token,e.user.isAuthenticated=!0):(e.user.token="",e.user.isAuthenticated=!1)},setToken(e,t){e.user.token=t,ue.Z.defaults.headers.common["Authorization"]="Token "+e.user.token,e.user.isAuthenticated=!0},setIsLoading(e,t){e.isLoading=t},removeToken(e){e.user.token="",e.user.profile={},e.user.isAuthenticated=!1,localStorage.removeItem("token"),ue.Z.defaults.headers.common["Authorization"]=""},setAuthentication(e,t){e.user.isAuthenticated=t}},actions:{},modules:{}});ph.commit("initializeStore");var fh=ph,bh=s(1037);s(8830),s(5572);ue.Z.defaults.baseURL="https://sfcsdev.xtractautomation.com/api/v1/";const _h=(0,a.ri)(_e);_h.use(fh).use(mh).use(bh.ZP),_h.mount("#app")}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,a,l,i){if(!a){var c=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],i=e[d][2];for(var o=!0,n=0;n<a.length;n++)(!1&i||c>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(o=!1,i<c&&(c=i));if(o){e.splice(d--,1);var r=l();void 0!==r&&(t=r)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,l,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,i,c=a[0],o=a[1],n=a[2],r=0;if(c.some((function(t){return 0!==e[t]}))){for(l in o)s.o(o,l)&&(s.m[l]=o[l]);if(n)var d=n(s)}for(t&&t(a);r<c.length;r++)i=c[r],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},a=self["webpackChunksfcs_checklist"]=self["webpackChunksfcs_checklist"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3844)}));a=s.O(a)})();
//# sourceMappingURL=app.c6ec6c9e.js.map